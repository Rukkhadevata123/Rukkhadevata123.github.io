<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Gentoo 简明安装指南</title>
    <link href="/2025/10/17/gentoo/"/>
    <url>/2025/10/17/gentoo/</url>
    
    <content type="html"><![CDATA[<h2 id="Gentoo安装手册"><a href="#Gentoo安装手册" class="headerlink" title="Gentoo安装手册"></a><a href="https://wiki.gentoo.org/wiki/Handbook:AMD64/Full/Installation">Gentoo安装手册</a></h2><h2 id="参考配置文件"><a href="#参考配置文件" class="headerlink" title="参考配置文件"></a><a href="https://github.com/Rukkhadevata123/dotfiles/tree/main/gentoo-systemd">参考配置文件</a></h2><h2 id="ArchWiki"><a href="#ArchWiki" class="headerlink" title="ArchWiki"></a><a href="https://wiki.archlinux.org/">ArchWiki</a></h2><h2 id="Debian手册"><a href="#Debian手册" class="headerlink" title="Debian手册"></a><a href="https://www.debian.org/doc/manuals/debian-reference/index.zh-cn.html">Debian手册</a></h2><h2 id="准备另一个Linux环境"><a href="#准备另一个Linux环境" class="headerlink" title="准备另一个Linux环境"></a>准备另一个Linux环境</h2><p>安装 <code>arch-install-scripts</code>，我们需要使用的有 <code>genfstab</code> 和 <code>arch-chroot</code></p><p>准备 <code>cpuid2cpuflags</code> ，可以在 <a href="https://github.com/gentoo/cpuid2cpuflags">https://github.com/gentoo/cpuid2cpuflags</a> 找到</p><h2 id="对硬盘进行分区"><a href="#对硬盘进行分区" class="headerlink" title="对硬盘进行分区"></a>对硬盘进行分区</h2><p>分区参考</p><ul><li>&#x2F;dev&#x2F;nvme1n1p1 &#x2F;efi 作为引导分区</li><li>&#x2F;dev&#x2F;nvme1n1p2 &#x2F; 作为根分区</li></ul><p>然后格式化，挂载磁盘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.xfs -L gentoo /dev/nvme1n1p2<br>mkfs.vfat -F 32 /dev/nvme1n1p1<br>mount --<span class="hljs-built_in">mkdir</span> /dev/nvme1n1p2 /mnt/gentoo<br>mount --<span class="hljs-built_in">mkdir</span> /dev/nvme1n1p1 /mnt/gentoo/efi<br></code></pre></td></tr></table></figure><h2 id="准备stage3"><a href="#准备stage3" class="headerlink" title="准备stage3"></a>准备stage3</h2><p>在 <a href="https://get.gentoo.org/">https://get.gentoo.org/</a> 下载 <code>desktop profile | systemd</code> 的 stage3 文件</p><p>解压文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar xpvf stage3-*.tar.xz --xattrs-include=<span class="hljs-string">&#x27;*.*&#x27;</span> --numeric-owner -C /mnt/gentoo<br></code></pre></td></tr></table></figure><h2 id="复制DNS信息"><a href="#复制DNS信息" class="headerlink" title="复制DNS信息"></a>复制DNS信息</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> --dereference /etc/resolv.conf /mnt/gentoo/etc/<br></code></pre></td></tr></table></figure><h2 id="进入chroot"><a href="#进入chroot" class="headerlink" title="进入chroot"></a>进入chroot</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">arch-chroot /mnt/gentoo<br></code></pre></td></tr></table></figure><blockquote><p>为了方便，可以用原系统的文本编辑器编辑各种文件，如 <code>make.conf</code>，<code>package.use</code>等<br>配置文件参考 <a href="https://github.com/Rukkhadevata123/dotfiles/tree/main/gentoo-systemd">gentoo-systemd</a></p></blockquote><h2 id="同步并启用gentoo-zh-guru仓库"><a href="#同步并启用gentoo-zh-guru仓库" class="headerlink" title="同步并启用gentoo-zh&#x2F;guru仓库"></a>同步并启用gentoo-zh&#x2F;guru仓库</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge-webrsync<br>emerge -av1 dev-vcs/git -j16<br><span class="hljs-comment"># 安装完后</span><br><span class="hljs-built_in">rm</span> -rf /var/db/repos/gentoo/<br><span class="hljs-built_in">cp</span> -r /path/to/repos.conf /etc/portage/repos.conf<br><span class="hljs-built_in">cp</span> -r /path/to/binrepos.conf /etc/portage/binrepos.conf <span class="hljs-comment"># 二进制仓库，优先级9999</span><br>emerge --<span class="hljs-built_in">sync</span><br>getuto<br>emerge -av bash-completion<br></code></pre></td></tr></table></figure><h2 id="调整-make-conf"><a href="#调整-make-conf" class="headerlink" title="调整 make.conf"></a>调整 <code>make.conf</code></h2><p>修改文件 <code>/etc/portage/make.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># These settings were set by the catalyst build script that automatically</span><br><span class="hljs-comment"># built this stage.</span><br><span class="hljs-comment"># Please consult /usr/share/portage/config/make.conf.example for a more</span><br><span class="hljs-comment"># detailed example.</span><br><br><span class="hljs-comment"># These warnings indicate likely runtime problems with LTO, so promote them</span><br><span class="hljs-comment"># to errors. If a package fails to build with these, LTO should not be used there.</span><br>WARNING_FLAGS=<span class="hljs-string">&quot;-Werror=odr -Werror=lto-type-mismatch -Werror=strict-aliasing&quot;</span><br><br>COMMON_FLAGS=<span class="hljs-string">&quot;-O2 -pipe -march=native -flto <span class="hljs-variable">$&#123;WARNING_FLAGS&#125;</span>&quot;</span><br>CFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>CXXFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>FCFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>FFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>LDFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span> <span class="hljs-variable">$&#123;LDFLAGS&#125;</span>&quot;</span><br><br>RUSTFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;RUSTFLAGS&#125;</span> -C target-cpu=native&quot;</span><br><br>MAKEOPTS=<span class="hljs-string">&quot;-j16 -l18&quot;</span><br><br>ACCEPT_LICENSE=<span class="hljs-string">&quot;*&quot;</span><br>ACCEPT_KEYWORDS=<span class="hljs-string">&quot;~amd64&quot;</span> <span class="hljs-comment"># 如果要装稳定版的包，请将此改为 `amd64`</span><br><br>GENTOO_MIRRORS=<span class="hljs-string">&quot;http://distfiles.gentoo.org&quot;</span><br><br><span class="hljs-comment"># Appending getbinpkg to the list of values within the FEATURES variable</span><br>FEATURES=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FEATURES&#125;</span> getbinpkg&quot;</span><br><span class="hljs-comment"># Require signatures</span><br>FEATURES=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FEATURES&#125;</span> binpkg-request-signature&quot;</span><br><br><span class="hljs-comment"># emerge</span><br><span class="hljs-comment"># EMERGE_DEFAULT_OPTS=&quot;--keep-going --with-bdeps=y --jobs=8 --load-average=10&quot;</span><br>EMERGE_DEFAULT_OPTS=<span class="hljs-string">&quot;--keep-going --with-bdeps=y&quot;</span><br><br><span class="hljs-comment"># use</span><br><br><span class="hljs-comment"># Compress</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> lz4 zstd&quot;</span><br><br><span class="hljs-comment"># Optimize</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> clang lto pgo&quot;</span><br><br><span class="hljs-comment"># Kernel</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> caps dist-kernel io-uring&quot;</span><br><br>ABI_X86=<span class="hljs-string">&quot;64&quot;</span><br><br><span class="hljs-comment"># This sets the language of build output to English.</span><br><span class="hljs-comment"># Please keep this setting intact when reporting bugs.</span><br>LC_MESSAGES=C.utf8<br><br></code></pre></td></tr></table></figure><h2 id="选择profile"><a href="#选择profile" class="headerlink" title="选择profile"></a>选择profile</h2><p>这里选择 <code>gnome</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">eselect profile <span class="hljs-built_in">set</span> default/linux/amd64/23.0/desktop/gnome/systemd<br>eselect profile list | grep gnome | grep systemd | grep <span class="hljs-string">&quot;\*&quot;</span> <br></code></pre></td></tr></table></figure><h2 id="调整package-use"><a href="#调整package-use" class="headerlink" title="调整package.use"></a>调整<code>package.use</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nano /etc/portage/package.use/use<br></code></pre></td></tr></table></figure><p>内容如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">*/* CPU_FLAGS_X86: aes avx avx2 avx_vnni bmi1 bmi2 f16c fma3 mmx mmxext pclmul popcnt rdrand sha sse sse2 sse3 sse4_1 sse4_2 ssse3 vpclmulqdq<br>*/* VIDEO_CARDS: -* nvidia intel<br>*/* L10N: zh-CN en-US zh en<br></code></pre></td></tr></table></figure><p>其中，<code>CPU_FLAGS_X86</code> 是 <code>cpuid2cpuflags</code>生成的，<code>VIDEO_CARDS</code>是你有的显卡，<code>L10N</code> 是需要的语言包</p><h2 id="配置locale"><a href="#配置locale" class="headerlink" title="配置locale"></a>配置locale</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -vsf ../usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br>nano /etc/locale.gen <span class="hljs-comment"># 添加 en_US.utf8 和 zh_CN.utf8</span><br>locale-gen<br>eselect locale <span class="hljs-built_in">set</span> en_US.utf8<br><span class="hljs-built_in">cp</span> /path/to/64-language-selector-prefer.conf /mnt/gentoo/etc/fonts/conf.d/64-language-selector-prefer.conf<br></code></pre></td></tr></table></figure><h2 id="更新系统"><a href="#更新系统" class="headerlink" title="更新系统"></a>更新系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge --ask --verbose --update --deep --newuse --getbinpkg @world -j16<br>emerge --ask --depclean <span class="hljs-comment"># 完成后清理</span><br></code></pre></td></tr></table></figure><h2 id="安装内核"><a href="#安装内核" class="headerlink" title="安装内核"></a>安装内核</h2><p>修改 <code>/etc/portage/package.use/use</code></p><ul><li><p>如果你使用systemd-boot和UKI:</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># systemd-boot</span><br>sys-apps/systemd boot<br>sys-kernel/installkernel systemd-boot dracut uki<br></code></pre></td></tr></table></figure></li><li><p>如果你使用grub:</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sys-boot/grub mount<br>sys-kernel/installkernel grub dracut<br></code></pre></td></tr></table></figure></li></ul><p>开始安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge --ask sys-kernel/linux-firmware sys-firmware/sof-firmware sys-firmware/intel-microcode sys-kernel/installkernel gentoo-kernel-bin efibootmgr -j16<br><span class="hljs-comment"># systemctl enable systemd-boot-update.service # 如果使用systemd-boot</span><br></code></pre></td></tr></table></figure><p>安装完成后，使用 <code>bootctl install</code> 或者 <code>grub-install --efi-directory=/efi</code> 安装引导程序，grub需要 <code>grub-mkconfig -o /boot/grub/grub.cfg</code></p><h2 id="准备fstab"><a href="#准备fstab" class="headerlink" title="准备fstab"></a>准备fstab</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 在主机上而不是ach-chroot中运行</span><br>genfstab -U /mnt/gentoo &gt; /mnt/gentoo/etc/fstab<br></code></pre></td></tr></table></figure><p>打开检查，确保只有两行，一行根分区，一行esp</p><h2 id="配置网络"><a href="#配置网络" class="headerlink" title="配置网络"></a>配置网络</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge -av networkmanager<br>systemctl <span class="hljs-built_in">enable</span> NetworkManager<br></code></pre></td></tr></table></figure><h2 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">passwd<br></code></pre></td></tr></table></figure><h2 id="systemd首次设置"><a href="#systemd首次设置" class="headerlink" title="systemd首次设置"></a>systemd首次设置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemd-machine-id-setup<br>systemd-firstboot --prompt <span class="hljs-comment"># 设置主机名</span><br>systemctl preset-all --preset-mode=enable-only<br></code></pre></td></tr></table></figure><h2 id="时间服务器"><a href="#时间服务器" class="headerlink" title="时间服务器"></a>时间服务器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge -av chrony<br>systemctl <span class="hljs-built_in">enable</span> chronyd<br></code></pre></td></tr></table></figure><h2 id="安装一些包"><a href="#安装一些包" class="headerlink" title="安装一些包"></a>安装一些包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge -av mlocate xfsprogs io-scheduler-udev-rules<br></code></pre></td></tr></table></figure><h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">groupadd libvirt <br>groupadd pipewire<br>groupadd docker<br>useradd -m -G wheel,audio,video,kvm,libvirt,<span class="hljs-built_in">users</span>,locate,plugdev,pipewire,docker -s /bin/bash yoimiya<br>passwd yoimiya<br>emerge -av <span class="hljs-built_in">sudo</span><br>visudo <span class="hljs-comment"># wheel组</span><br></code></pre></td></tr></table></figure><h2 id="清理"><a href="#清理" class="headerlink" title="清理"></a>清理</h2><p>可以删掉stage3文件</p><h2 id="安装后指南"><a href="#安装后指南" class="headerlink" title="安装后指南"></a>安装后指南</h2><h3 id="zswap"><a href="#zswap" class="headerlink" title="zswap"></a>zswap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">fallocate -l 16GiB /swapfile<br><span class="hljs-built_in">chmod</span> 600 /swapfile<br>mkswap /swapfile<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;/swapfile none swap defaults 0 0&quot;</span> &gt;&gt; /etc/fstab<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;&#x27;</span><span class="hljs-string">&#x27;GRUB_CMDLINE_LINUX=&quot;zswap.enabled=1 zswap.compressor=lz4 intel_iommu=on&quot;&#x27;</span><span class="hljs-string">&#x27;&#x27;</span> &gt;&gt; /etc/default/grub<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;GRUB_DISABLE_OS_PROBER=false&quot;</span> &gt;&gt; /etc/default/grub<br>grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><h3 id="LTO优化安装rust版本的fish"><a href="#LTO优化安装rust版本的fish" class="headerlink" title="LTO优化安装rust版本的fish"></a>LTO优化安装rust版本的fish</h3><p>增加文件 <code>/etc/portage/env/llvm-lto.conf</code></p><p>内容可以是</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># These warnings indicate likely runtime problems with LTO, so promote them</span><br><span class="hljs-comment"># to errors. If a package fails to build with these, LTO should not be used there.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># As of 2024-11-11, Clang has a pull request for -Wstrict-aliasing as a real</span><br><span class="hljs-comment"># warning (noop for now):</span><br><span class="hljs-comment"># https://github.com/llvm/llvm-project/pull/74155</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># As of 2024-11-11, Clang lacks -Wlto-type-mismatch:</span><br><span class="hljs-comment"># https://github.com/llvm/llvm-project/issues/56487</span><br>WARNING_FLAGS=<span class="hljs-string">&quot;-Werror=odr -Werror=strict-aliasing&quot;</span><br>COMMON_FLAGS=<span class="hljs-string">&quot;-march=native -O2 -flto=thin -pipe <span class="hljs-variable">$&#123;WARNING_FLAGS&#125;</span>&quot;</span><br>CFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>CXXFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>FCFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>FFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br><br>RUSTFLAGS=<span class="hljs-string">&quot;-C target-cpu=native -C strip=debuginfo -C opt-level=3 \</span><br><span class="hljs-string">-Clinker=clang -Clinker-plugin-lto -Clink-arg=-fuse-ld=lld&quot;</span><br><br>LDFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span> <span class="hljs-variable">$&#123;LDFLAGS&#125;</span> -fuse-ld=lld&quot;</span><br>CC=<span class="hljs-string">&quot;clang&quot;</span><br>CXX=<span class="hljs-string">&quot;clang++&quot;</span><br>CPP=<span class="hljs-string">&quot;clang-cpp&quot;</span><br>AR=<span class="hljs-string">&quot;llvm-ar&quot;</span><br>NM=<span class="hljs-string">&quot;llvm-nm&quot;</span><br>RANLIB=<span class="hljs-string">&quot;llvm-ranlib&quot;</span><br><br>USE=<span class="hljs-string">&quot;lto&quot;</span><br></code></pre></td></tr></table></figure><p>然后增加 <code>/etc/portage/package.env/env</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">dev-util/cargo-c llvm-lto.conf<br>app-shells/fish llvm-lto.conf<br></code></pre></td></tr></table></figure><p>开始安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge -av app-shells/fish<br></code></pre></td></tr></table></figure><h3 id="声音服务器"><a href="#声音服务器" class="headerlink" title="声音服务器"></a>声音服务器</h3><p>增加 <code>media-video/pipewire extra sound-server</code> 到 <code>/etc/portage/package.use/use</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 用户模式</span><br><span class="hljs-built_in">sudo</span> emerge -av media-video/pipewire<br>systemctl --user <span class="hljs-built_in">enable</span> pipewire.socket pipewire-pulse.socket wireplumber.service pipewire.service<br></code></pre></td></tr></table></figure><h3 id="NVIDIA显卡"><a href="#NVIDIA显卡" class="headerlink" title="NVIDIA显卡"></a>NVIDIA显卡</h3><p>增加 <code>x11-drivers/nvidia-drivers kernel-open powerd</code> 到 <code>/etc/portage/package.use/use</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> emerge -av x11-drivers/nvidia-drivers<br></code></pre></td></tr></table></figure><h3 id="完成-make-conf"><a href="#完成-make-conf" class="headerlink" title="完成 make.conf"></a>完成 <code>make.conf</code></h3><p>完整的 <code>make.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># These settings were set by the catalyst build script that automatically</span><br><span class="hljs-comment"># built this stage.</span><br><span class="hljs-comment"># Please consult /usr/share/portage/config/make.conf.example for a more</span><br><span class="hljs-comment"># detailed example.</span><br><br><span class="hljs-comment"># These warnings indicate likely runtime problems with LTO, so promote them</span><br><span class="hljs-comment"># to errors. If a package fails to build with these, LTO should not be used there.</span><br>WARNING_FLAGS=<span class="hljs-string">&quot;-Werror=odr -Werror=lto-type-mismatch -Werror=strict-aliasing&quot;</span><br><br>COMMON_FLAGS=<span class="hljs-string">&quot;-O2 -pipe -march=native -flto <span class="hljs-variable">$&#123;WARNING_FLAGS&#125;</span>&quot;</span><br>CFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>CXXFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>FCFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>FFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span>&quot;</span><br>LDFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;COMMON_FLAGS&#125;</span> <span class="hljs-variable">$&#123;LDFLAGS&#125;</span>&quot;</span><br><br>RUSTFLAGS=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;RUSTFLAGS&#125;</span> -C target-cpu=native&quot;</span><br><br>MAKEOPTS=<span class="hljs-string">&quot;-j16 -l18&quot;</span><br><br>ACCEPT_LICENSE=<span class="hljs-string">&quot;*&quot;</span><br>ACCEPT_KEYWORDS=<span class="hljs-string">&quot;~amd64&quot;</span><br><br>GENTOO_MIRRORS=<span class="hljs-string">&quot;http://distfiles.gentoo.org&quot;</span><br><br><span class="hljs-comment"># Appending getbinpkg to the list of values within the FEATURES variable</span><br>FEATURES=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FEATURES&#125;</span> getbinpkg&quot;</span><br><span class="hljs-comment"># Require signatures</span><br>FEATURES=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;FEATURES&#125;</span> binpkg-request-signature&quot;</span><br><br><span class="hljs-comment"># emerge</span><br><span class="hljs-comment"># EMERGE_DEFAULT_OPTS=&quot;--keep-going --with-bdeps=y --jobs=8 --load-average=10&quot;</span><br>EMERGE_DEFAULT_OPTS=<span class="hljs-string">&quot;--keep-going --with-bdeps=y&quot;</span><br><br><span class="hljs-comment"># use</span><br><br><span class="hljs-comment"># KDE</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> policykit&quot;</span><br><br><span class="hljs-comment"># Compress</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> lz4 zstd&quot;</span><br><br><span class="hljs-comment"># Optimize</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> clang lto pgo&quot;</span><br><br><span class="hljs-comment"># NVIDIA</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> cuda nvenc nvidia&quot;</span><br><br><span class="hljs-comment"># Kernel</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> caps dist-kernel io-uring&quot;</span><br><br><span class="hljs-comment"># Media</span><br>USE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USE&#125;</span> ffmpeg pipewire screencast vaapi vdpau&quot;</span><br><br>ABI_X86=<span class="hljs-string">&quot;64&quot;</span><br><br><span class="hljs-comment"># This sets the language of build output to English.</span><br><span class="hljs-comment"># Please keep this setting intact when reporting bugs.</span><br>LC_MESSAGES=C.utf8<br></code></pre></td></tr></table></figure><p>然后更新系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">emerge --<span class="hljs-built_in">sync</span> &amp;&amp; emerge -auvDN @world -j16<br></code></pre></td></tr></table></figure><h3 id="配置USE"><a href="#配置USE" class="headerlink" title="配置USE"></a>配置USE</h3><p>示例配置 <code>/etc/portage/package.use/use</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">*/* CPU_FLAGS_X86: aes avx avx2 avx_vnni bmi1 bmi2 f16c fma3 mmx mmxext pclmul popcnt rdrand sha sse sse2 sse3 sse4_1 sse4_2 ssse3 vpclmulqdq<br>*/* VIDEO_CARDS: -* nvidia intel<br>*/* L10N: zh-CN en-US zh en<br><br><span class="hljs-comment"># */* PYTHON_TARGETS: python3_14</span><br><span class="hljs-comment"># */* PYTHON_SINGLE_TARGET: -* python3_14</span><br><br><span class="hljs-comment"># qemu</span><br>app-emulation/qemu spice usbredir virgl virtfs<br>net-libs/gnutls tools pkcs11<br>net-misc/spice-gtk usbredir<br><br>media-fonts/nerd-fonts adwaitamono cascadiacode cascadiamono codenewroman comicshannsmono firacode hack jetbrainsmono liberationmono ubuntu ubuntumono ubuntusans<br><br>net-im/wechat fcitx<br><br>dev-lang/rust-bin clippy rust-analyzer rustfmt rust-src<br><br><span class="hljs-comment"># systemd-boot</span><br>sys-apps/systemd boot<br>sys-kernel/installkernel systemd-boot dracut uki<br><br><span class="hljs-comment"># pipewire</span><br>media-video/pipewire extra sound-server<br><br>dev-libs/weston xwayland<br><br>x11-drivers/nvidia-drivers kernel-open powerd<br></code></pre></td></tr></table></figure><p>安装常用软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> emerge -av -j16 --noreplace eclean-kernel <span class="hljs-built_in">sudo</span> unzip zip nano vim vscode virt-manager fcitx fcitx-chinese-addons fcitx-configtool fcitx-gtk fastfetch jq tmux command-not-found eix gentookit cpuid2cpuflags pfl portage-utils starship tree openjdk-bin weston nvchecker pkgdev dev-vcs/git lld nerd-fonts noto-cjk noto-emoji libva-intel-media-driver nvidia-vaapi-driver libva-utils mpv smplayer tencent-qq wechat flatpak kmscon ntfs3g gentoo-sourcees upower nvtop firefox-bin google-chrome mesa-progs xwininfo vdpauinfo kitty papirus-icon-theme tela-icon-theme<br></code></pre></td></tr></table></figure><h3 id="安装Gnome"><a href="#安装Gnome" class="headerlink" title="安装Gnome"></a>安装Gnome</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> emerge -av -j16 gnome-base/gnome-light ptyxis gnome-tweaks dconf-editor<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> gdm<br></code></pre></td></tr></table></figure><h2 id="To-be-continued"><a href="#To-be-continued" class="headerlink" title="To be continued"></a>To be continued</h2>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>gnome</tag>
      
      <tag>gentoo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>KVM显卡/固态盘直通</title>
    <link href="/2025/08/11/ovmf/"/>
    <url>/2025/08/11/ovmf/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Hyper-V 显卡直通教程，参见<a href="https://learn.microsoft.com/zh-cn/windows-server/virtualization/hyper-v/deploy/deploying-graphics-devices-using-dda">DDA</a></p></blockquote><blockquote><p><a href="https://looking-glass.io/">Looking-Glass</a></p></blockquote><h2 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h2><p><img src="/2025/08/11/ovmf/1.jpg"></p><p><img src="/2025/08/11/ovmf/2.png"></p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol><li>通读<a href="https://wiki.archlinux.org/title/PCI_passthrough_via_OVMF">wiki</a></li><li>Arch Linux</li><li>Windows Guest</li><li>QEMU&#x2F;KVM</li><li><strong>HDMI欺骗器</strong></li></ol><h2 id="可选-导出离线驱动"><a href="#可选-导出离线驱动" class="headerlink" title="(可选)导出离线驱动"></a>(可选)导出离线驱动</h2><p>在物理机Windows系统下用 <code>Dism++</code> 导出离线驱动，重要的是显卡和音频设备驱动</p><h2 id="确保直通设备在同一组"><a href="#确保直通设备在同一组" class="headerlink" title="确保直通设备在同一组"></a>确保直通设备在同一组</h2><p>运行以下脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">shopt</span> -s nullglob<br><span class="hljs-keyword">for</span> g <span class="hljs-keyword">in</span> $(find /sys/kernel/iommu_groups/* -maxdepth 0 -<span class="hljs-built_in">type</span> d | <span class="hljs-built_in">sort</span> -V); <span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;IOMMU Group <span class="hljs-variable">$&#123;g##*/&#125;</span>:&quot;</span><br>    <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> <span class="hljs-variable">$g</span>/devices/*; <span class="hljs-keyword">do</span><br>        <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;\t<span class="hljs-subst">$(lspci -nns $&#123;d##*/&#125;)</span>&quot;</span><br>    <span class="hljs-keyword">done</span>;<br><span class="hljs-keyword">done</span>;<br></code></pre></td></tr></table></figure><p>输出示例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">IOMMU Group 15:<br>        01:00.0 VGA compatible controller [0300]: NVIDIA Corporation AD107M [GeForce RTX 4050 Max-Q / Mobile] [10de:28e1] (rev a1)<br>        01:00.1 Audio device [0403]: NVIDIA Corporation AD107 High Definition Audio Controller [10de:22be] (rev a1)<br></code></pre></td></tr></table></figure><p>记一下[10de:28e1]等ID</p><h2 id="启用IOMMU"><a href="#启用IOMMU" class="headerlink" title="启用IOMMU"></a>启用IOMMU</h2><p>增加 <code>intel_iommu=on</code> 内核参数，对于 <code>grub</code> 而言，可以编辑 <code>/etc/default/grub</code>，对于 <code>systemd-boot</code> ，编辑 <code>/boot/loader/entries/arch.conf</code> 之类的文件，在末尾增加。</p><h2 id="隔离GPU和SSD"><a href="#隔离GPU和SSD" class="headerlink" title="隔离GPU和SSD"></a>隔离GPU和SSD</h2><p>新增 <code>/etc/modprobe.d/ovmf.conf</code>，写入如下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">options vfio-pci ids=10de:28e1,10de:22be,1cc4:6a14<br></code></pre></td></tr></table></figure><p>分别是GPU、音频设备和SSD的ID，替换成自己的</p><p>继续编辑 <code>/etc/mkinitcpio.conf</code>，增加 <code>vfio_pci vfio vfio_iommu_type1</code> 到 <code>MODULES</code> 列表中，然后运行 <code>sudo mkinitcpio -P</code> 生成新的内核镜像。</p><p>或者增加 <code>/etc/dracut.conf.d/10-vfio.conf</code>，填入 <code>force_drivers+=&quot; vfio_pci vfio vfio_iommu_type1 &quot;</code>，并重新生成内核镜像 <code>sudo dracut -f</code>。</p><h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><p>测试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">lspci -nnk -d 10de:28e1<br></code></pre></td></tr></table></figure><p>输出</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">01:00.0 VGA compatible controller [0300]: NVIDIA Corporation AD107M [GeForce RTX 4050 Max-Q / Mobile] [10de:28e1] (rev a1)<br>        Subsystem: Lenovo Device [17aa:3e68]<br>        Kernel driver <span class="hljs-keyword">in</span> use: vfio-pci<br>        Kernel modules: nouveau, nvidia_drm, nvidia<br></code></pre></td></tr></table></figure><h2 id="安装配置-virt-manager"><a href="#安装配置-virt-manager" class="headerlink" title="安装配置 virt-manager"></a>安装配置 <code>virt-manager</code></h2><p>参见 <a href="https://wiki.archlinux.org/title/Libvirt">Libvirt</a></p><p>大部分配置应该开箱即用</p><h2 id="安装Windows虚拟机"><a href="#安装Windows虚拟机" class="headerlink" title="安装Windows虚拟机"></a>安装Windows虚拟机</h2><p>注意CPU配置选择 <code>host-passthrough</code></p><p>并且手动设置拓扑，比如一个插槽，8个核心，2个线程</p><h2 id="添加PCI硬件"><a href="#添加PCI硬件" class="headerlink" title="添加PCI硬件"></a>添加PCI硬件</h2><p>virt-manager设置左下角添加硬件</p><ul><li><p>添加显卡（包括和它同一组的音频设备）</p></li><li><p>添加NVME磁盘</p></li><li><p>添加USB设备，如鼠标和键盘</p></li></ul><h2 id="启动虚拟机"><a href="#启动虚拟机" class="headerlink" title="启动虚拟机"></a>启动虚拟机</h2><p>现在显示用的是 <code>spice服务器</code>，驱动可能是 <code>qxl</code> 或者 <code>virtio</code>，不用管因为以后会删除，直接启动虚拟机</p><p>安装显卡驱动，可以用离线驱动，或者去官网下载</p><h2 id="插入HDMI欺骗器"><a href="#插入HDMI欺骗器" class="headerlink" title="插入HDMI欺骗器"></a>插入HDMI欺骗器</h2><p>在设置确认有另一个显示器输出</p><h2 id="串流"><a href="#串流" class="headerlink" title="串流"></a>串流</h2><h3 id="安装sunshine"><a href="#安装sunshine" class="headerlink" title="安装sunshine"></a>安装sunshine</h3><p>设置好账号密码</p><h3 id="物理机安装moonlight"><a href="#物理机安装moonlight" class="headerlink" title="物理机安装moonlight"></a>物理机安装moonlight</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S moonlight-qt<br></code></pre></td></tr></table></figure><p>启动 moonlight-qt，分辨率最高，刷新率选最高</p><p>连接windows，配置pin码</p><p>进入moonlight桌面后，在设备管理器禁用 <code>qxl</code> 等虚拟机显卡</p><h2 id="Looking-Glass"><a href="#Looking-Glass" class="headerlink" title="Looking-Glass"></a>Looking-Glass</h2><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>从此处下载服务端 <a href="https://looking-glass.io/downloads">https://looking-glass.io/downloads</a></p><h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p>先安装 <code>looking-glass-client</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> --recursive https://github.com/gnif/LookingGlass.git<br><span class="hljs-built_in">cd</span> module<br><span class="hljs-built_in">sudo</span> dkms install <span class="hljs-string">&quot;.&quot;</span><br><span class="hljs-built_in">sudo</span> modprobe kvmfr static_size_mb=32 <span class="hljs-comment"># See https://looking-glass.io/docs/B7/ivshmem_kvmfr/</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> 777 /dev/kvmfr0<br></code></pre></td></tr></table></figure><p>编辑 <code>/etc/libvirt/qemu.conf</code>，取消注释 <code>cgroup_device_acl</code>，并添加 <code>/dev/kvmfr0</code>，然后重启 <code>libvirtd</code> 服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">cgroup_device_acl = [<br>   <span class="hljs-string">&quot;/dev/null&quot;</span>, <span class="hljs-string">&quot;/dev/full&quot;</span>, <span class="hljs-string">&quot;/dev/zero&quot;</span>,<br>   <span class="hljs-string">&quot;/dev/random&quot;</span>, <span class="hljs-string">&quot;/dev/urandom&quot;</span>,<br>   <span class="hljs-string">&quot;/dev/ptmx&quot;</span>, <span class="hljs-string">&quot;/dev/kvm&quot;</span>,<br>   <span class="hljs-string">&quot;/dev/userfaultfd&quot;</span>, <span class="hljs-string">&quot;/dev/kvmfr0&quot;</span><br>]<br></code></pre></td></tr></table></figure><p>编辑 <code>Virt-Manager</code> 的 <code>XML</code> 文件，添加</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">domain</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;kvm&#x27;</span> <span class="hljs-attr">xmlns:qemu</span>=<span class="hljs-string">&#x27;http://libvirt.org/schemas/domain/qemu/1.0&#x27;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">qemu:commandline</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">qemu:arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;-device&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">qemu:arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#123;&#x27;driver&#x27;:&#x27;ivshmem-plain&#x27;,&#x27;id&#x27;:&#x27;shmem0&#x27;,&#x27;memdev&#x27;:&#x27;looking-glass&#x27;&#125;&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">qemu:arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;-object&quot;</span>/&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">qemu:arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#123;&#x27;qom-type&#x27;:&#x27;memory-backend-file&#x27;,&#x27;id&#x27;:&#x27;looking-glass&#x27;,&#x27;mem-path&#x27;:&#x27;/dev/kvmfr0&#x27;,&#x27;size&#x27;:33554432,&#x27;share&#x27;:true&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">qemu:commandline</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>spice</code> 服务器选择监听地址</p><p>在 Windows 端打开Looking Glass服务端，在 Linux 端运行Looking Glass客户端即可连接</p>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>Linux</tag>
      
      <tag>arch</tag>
      
      <tag>kvm</tag>
      
      <tag>gpu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows配置MSVC环境</title>
    <link href="/2025/07/09/msvc/"/>
    <url>/2025/07/09/msvc/</url>
    
    <content type="html"><![CDATA[<h2 id="安装-Windows-Terminal-和-PowerShell"><a href="#安装-Windows-Terminal-和-PowerShell" class="headerlink" title="安装 Windows Terminal 和 PowerShell"></a>安装 <code>Windows Terminal</code> 和 <code>PowerShell</code></h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">winget install Microsoft.WindowsTerminal Microsoft.PowerShell<br></code></pre></td></tr></table></figure><h2 id="安装-Visual-Studio"><a href="#安装-Visual-Studio" class="headerlink" title="安装 Visual Studio"></a>安装 <code>Visual Studio</code></h2><blockquote><p>在 <a href="https://visualstudio.microsoft.com/zh-hans/">https://visualstudio.microsoft.com/zh-hans/</a> 下载安装器</p></blockquote><p>打开安装前，选择 <code>使用C++的桌面开发</code></p><h2 id="配置终端"><a href="#配置终端" class="headerlink" title="配置终端"></a>配置终端</h2><p><img src="/2025/07/09/msvc/1.png"></p><p><img src="/2025/07/09/msvc/2.png"></p><blockquote><p>命令行改为 <code>pwsh.exe</code></p></blockquote><p>配置主题和背景，字体等</p><h2 id="编译器使用"><a href="#编译器使用" class="headerlink" title="编译器使用"></a>编译器使用</h2><blockquote><p>参见 <a href="https://learn.microsoft.com/zh-cn/cpp/build/reference/compiler-options-listed-by-category">https://learn.microsoft.com/zh-cn/cpp/build/reference/compiler-options-listed-by-category</a></p></blockquote><h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">cl [选项] 源文件 [链接选项]<br></code></pre></td></tr></table></figure><h3 id="主要编译选项"><a href="#主要编译选项" class="headerlink" title="主要编译选项"></a>主要编译选项</h3><h4 id="1-输出类型控制"><a href="#1-输出类型控制" class="headerlink" title="1. 输出类型控制"></a>1. 输出类型控制</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/Fe:filename    # 指定可执行文件名<br>/Fo:filename    # 指定对象文件名  <br>/Fm:filename    # 指定映射文件名<br>/LD             # 编译为DLL (动态链接库)<br>/LDd            # 编译为调试版DLL<br>/<span class="hljs-built_in">MD</span>             # 使用多线程运行时库(DLL版本)<br>/MT             # 使用多线程运行时库(静态版本)<br>/MTd            # 使用多线程调试运行时库(静态版本)<br></code></pre></td></tr></table></figure><h4 id="2-优化选项"><a href="#2-优化选项" class="headerlink" title="2. 优化选项"></a>2. 优化选项</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/O1             # 最小化大小<br>/O2             # 最大化速度 (推荐)<br>/Od             # 禁用优化 (调试时用)<br>/Ox             # 最大优化<br></code></pre></td></tr></table></figure><h4 id="3-调试信息"><a href="#3-调试信息" class="headerlink" title="3. 调试信息"></a>3. 调试信息</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/Zi             # 生成完整调试信息<br>/Z7             # 生成旧格式调试信息<br>/DEBUG          # 生成调试信息到PDB文件<br></code></pre></td></tr></table></figure><h4 id="4-警告控制"><a href="#4-警告控制" class="headerlink" title="4. 警告控制"></a>4. 警告控制</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/W0             # 禁用所有警告<br>/W1             # 显示严重警告<br>/W2             # 显示重要警告  <br>/W3             # 显示大部分警告(默认)<br>/W4             # 显示所有警告<br>/Wall           # 显示所有警告(包括系统头文件)<br>/WX             # 将警告视为错误<br></code></pre></td></tr></table></figure><h4 id="5-C-标准"><a href="#5-C-标准" class="headerlink" title="5. C++标准"></a>5. C++标准</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/std:c++<span class="hljs-number">11</span>      # C++<span class="hljs-number">11</span>标准<br>/std:c++<span class="hljs-number">14</span>      # C++<span class="hljs-number">14</span>标准<br>/std:c++<span class="hljs-number">17</span>      # C++<span class="hljs-number">17</span>标准<br>/std:c++<span class="hljs-number">20</span>      # C++<span class="hljs-number">20</span>标准<br>/std:c++latest  # 最新标准<br></code></pre></td></tr></table></figure><h4 id="6-异常处理"><a href="#6-异常处理" class="headerlink" title="6. 异常处理"></a>6. 异常处理</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/EHsc           # 启用C++异常处理(推荐)<br>/EHs            # 启用同步异常处理<br>/EHa            # 启用异步异常处理<br></code></pre></td></tr></table></figure><h4 id="7-预处理器选项"><a href="#7-预处理器选项" class="headerlink" title="7. 预处理器选项"></a>7. 预处理器选项</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cmd">/D macro        # 定义宏<br>/U macro        # 取消定义宏<br>/I directory    # 添加包含目录<br>/E              # 仅预处理到标准输出<br>/EP             # 预处理到标准输出(无#line)<br></code></pre></td></tr></table></figure><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><h4 id="1-编译DLL"><a href="#1-编译DLL" class="headerlink" title="1. 编译DLL"></a>1. 编译DLL</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">cl /std:c++<span class="hljs-number">17</span> /LD hutao_minhook.cpp /DEF:hutao_dll.def /Fe:hutao_minhook.dll<br></code></pre></td></tr></table></figure><p><strong>说明：</strong></p><ul><li><code>/std:c++17</code> - 使用C++17标准</li><li><code>/LD</code> - 编译为DLL</li><li><code>hutao_minhook.cpp</code> - 源文件</li><li><code>/DEF:hutao_dll.def</code> - 指定模块定义文件(导出函数列表)</li><li><code>/Fe:hutao_minhook.dll</code> - 输出文件名</li></ul><h4 id="2-编译可执行文件"><a href="#2-编译可执行文件" class="headerlink" title="2. 编译可执行文件"></a>2. 编译可执行文件</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">cl /EHsc /O2 /MT /std:c++<span class="hljs-number">17</span> hutao_injector.cpp /Fe:hutao_injector.exe<br></code></pre></td></tr></table></figure><p><strong>说明：</strong></p><ul><li><code>/EHsc</code> - 启用C++异常处理</li><li><code>/O2</code> - 最大化速度优化</li><li><code>/MT</code> - 静态链接运行时库</li><li><code>/std:c++17</code> - C++17标准</li><li><code>hutao_injector.cpp</code> - 源文件</li><li><code>/Fe:hutao_injector.exe</code> - 输出文件名</li></ul><blockquote><p>直接在命令末尾加上某lib可以链接，如 <code>user32.lib</code>，也可以在代码中使用 <code>#pragma comment(lib, &quot;user32.lib&quot;)</code>，就不需要与指定链接文件</p></blockquote><blockquote><p>直接从 <code>Developer PowerShell for VS 2022</code> 启动 <code>code .</code>，再安装微软的 <code>C/C++</code> 和 <code>IntelliCode</code> 插件，即可在vscode上使用MSVC而不需要启动 <code>Visual Studio</code> </p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Windows Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>win11</tag>
      
      <tag>cpp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Arch Linux Post-Install Guide</title>
    <link href="/2025/06/03/arch-post-install/"/>
    <url>/2025/06/03/arch-post-install/</url>
    
    <content type="html"><![CDATA[<h2 id="WARNING-This-guide-is-OUTDATED-and-I-am-working-on-a-Gentoo-version"><a href="#WARNING-This-guide-is-OUTDATED-and-I-am-working-on-a-Gentoo-version" class="headerlink" title="WARNING: This guide is OUTDATED and I am working on a Gentoo version."></a>WARNING: This guide is OUTDATED and I am working on a Gentoo version.</h2><blockquote><p>This document provides a complete post-installation setup guide for Arch Linux using dotfiles and automated scripts.</p></blockquote><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><ol><li>Clone the dotfiles repository:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/Rukkhadevata123/dotfiles.git ~/.dotfiles<br><span class="hljs-built_in">cd</span> ~/.dotfiles<br></code></pre></td></tr></table></figure><ol start="2"><li>Install dotfiles:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./scripts/install.sh<br></code></pre></td></tr></table></figure><ol start="3"><li>Run setup scripts in order:</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">./scripts/01-system-setup.sh  <span class="hljs-comment"># Requires reboot</span><br>./scripts/02-drivers-setup.sh  <span class="hljs-comment"># After reboot</span><br>./scripts/03-desktop-setup.sh  <span class="hljs-comment"># May require logout/login</span><br>./scripts/04-apps-setup.sh<br>./scripts/05-services-setup.sh  <span class="hljs-comment"># Requires logout/login</span><br></code></pre></td></tr></table></figure><h2 id="Manual-Configuration"><a href="#Manual-Configuration" class="headerlink" title="Manual Configuration"></a>Manual Configuration</h2><h3 id="System-Files-Requires-sudo"><a href="#System-Files-Requires-sudo" class="headerlink" title="System Files (Requires sudo)"></a>System Files (Requires sudo)</h3><p>Before running <code>01-system-setup.sh</code>, manually edit these files using the examples in <code>system/</code> directory:</p><ol><li><strong>Pacman Configuration</strong></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> vim /etc/pacman.conf<br><span class="hljs-comment"># Add archlinuxcn repository</span><br></code></pre></td></tr></table></figure><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs toml"><span class="hljs-section">[core]</span><br><span class="hljs-attr">Include</span> = /etc/pacman.d/mirrorlist<br><br><span class="hljs-section">[extra]</span><br><span class="hljs-attr">Include</span> = /etc/pacman.d/mirrorlist<br><br><span class="hljs-section">[multilib]</span><br><span class="hljs-attr">Include</span> = /etc/pacman.d/mirrorlist<br><br><span class="hljs-section">[archlinuxcn]</span><br><span class="hljs-attr">Server</span> = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="hljs-variable">$arch</span><br></code></pre></td></tr></table></figure><ol start="2"><li><strong>Grub Configuration</strong> ⚠️</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> vim /etc/default/grub<br><span class="hljs-comment"># Copy settings from system/grub/grub</span><br><span class="hljs-comment"># CAREFULLY REVIEW ALL SETTINGS - INCORRECT CONFIG CAN BREAK BOOT!</span><br><span class="hljs-comment"># Add this line for theme: GRUB_THEME=&quot;/usr/share/grub/themes/Hyacine/theme.txt&quot;</span><br></code></pre></td></tr></table></figure><p><strong>IMPORTANT</strong>: Double-check all GRUB parameters, especially kernel parameters and boot options. Incorrect settings can prevent your system from booting properly.</p><h3 id="Desktop-Settings"><a href="#Desktop-Settings" class="headerlink" title="Desktop Settings"></a>Desktop Settings</h3><p>After running the scripts, configure these manually in GNOME Settings:</p><ul><li><strong>User Avatar</strong>: Settings → Users → Change profile picture</li><li><strong>Wallpaper</strong>: Settings → Background → Select wallpaper</li><li><strong>Night Color</strong>: Settings → Displays → Night Light</li><li><strong>Default Applications</strong>: Settings → Default Applications</li><li><strong>Power Management</strong>: Settings → Power → Power settings</li><li><strong>Refresh Rate</strong>: Settings → Displays → Refresh rate</li></ul><h3 id="Theme-Configuration"><a href="#Theme-Configuration" class="headerlink" title="Theme Configuration"></a>Theme Configuration</h3><p>For GTK theme customization (especially useful for Hyprland):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nwg-look<br></code></pre></td></tr></table></figure><p>This tool allows you to easily configure GTK themes, icons, cursors, and fonts through a graphical interface.</p><p>For Qt applications, use Kvantum:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">kvantummanager<br></code></pre></td></tr></table></figure><h3 id="Hyprland-Launch"><a href="#Hyprland-Launch" class="headerlink" title="Hyprland Launch"></a>Hyprland Launch</h3><p>To start Hyprland from TTY:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemd-cat -t uwsm_start uwsm start hyprland<br></code></pre></td></tr></table></figure><h3 id="Terminal-Preference"><a href="#Terminal-Preference" class="headerlink" title="Terminal Preference"></a>Terminal Preference</h3><p>Choose your preferred terminal by symlinking:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># For Alacritty (default)</span><br><span class="hljs-comment"># Already configured</span><br><br><span class="hljs-comment"># For Kitty</span><br><span class="hljs-built_in">rm</span> ~/.config/alacritty<br><span class="hljs-comment"># Kitty config already linked</span><br></code></pre></td></tr></table></figure><h2 id="Configuration-Files-Structure"><a href="#Configuration-Files-Structure" class="headerlink" title="Configuration Files Structure"></a>Configuration Files Structure</h2><p>All configuration files are stored in the dotfiles repository and linked to appropriate locations:</p><ul><li><strong>Shell</strong>: <code>~/.zshrc</code> → <code>config/zsh/.zshrc</code></li><li><strong>Hyprland</strong>: <code>~/.config/hypr/</code> → <code>config/hypr/</code></li><li><strong>Waybar</strong>: <code>~/.config/waybar/</code> → <code>config/waybar/</code></li><li><strong>Terminal</strong>: <code>~/.config/kitty/</code> or <code>~/.config/alacritty/</code></li><li><strong>Notifications</strong>: <code>~/.config/swaync/</code> → <code>config/swaync/</code></li><li><strong>Application Launcher</strong>: <code>~/.config/wofi/</code> → <code>config/wofi/</code></li><li><strong>System Monitoring</strong>: <code>~/.config/conky/</code> → <code>config/conky/</code></li><li><strong>GTK Themes</strong>: <code>~/.config/gtk-3.0/</code> and <code>~/.config/gtk-4.0/</code> → <code>config/gtk-*/</code></li><li><strong>Qt Themes</strong>: <code>~/.config/Kvantum/</code> → <code>config/Kvantum/</code></li><li><strong>Logout Menu</strong>: <code>~/.config/wlogout/</code> → <code>config/wlogout/</code></li><li><strong>X11 Settings</strong>: <code>~/.config/xsettingsd/</code> → <code>config/xsettingsd/</code></li></ul><h2 id="System-Verification-Commands"><a href="#System-Verification-Commands" class="headerlink" title="System Verification Commands"></a>System Verification Commands</h2><h3 id="Graphics-Drivers"><a href="#Graphics-Drivers" class="headerlink" title="Graphics Drivers"></a>Graphics Drivers</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsmod | grep kvm<br><span class="hljs-built_in">cat</span> /proc/driver/nvidia/params | grep PreserveVideoMemoryAllocations<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cat</span> /sys/module/nvidia_drm/parameters/fbdev<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cat</span> /sys/module/nvidia_drm/parameters/modeset<br></code></pre></td></tr></table></figure><h3 id="Memory-Management"><a href="#Memory-Management" class="headerlink" title="Memory Management"></a>Memory Management</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">free -h<br>zramctl<br></code></pre></td></tr></table></figure><h3 id="Audio"><a href="#Audio" class="headerlink" title="Audio"></a>Audio</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pactl info<br>pactl list sinks short<br></code></pre></td></tr></table></figure><h2 id="Useful-Commands"><a href="#Useful-Commands" class="headerlink" title="Useful Commands"></a>Useful Commands</h2><h3 id="Package-Management"><a href="#Package-Management" class="headerlink" title="Package Management"></a>Package Management</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># List foreign packages</span><br><span class="hljs-built_in">comm</span> -23 &lt;(pacman -Qq | <span class="hljs-built_in">sort</span>) &lt;(pacman -Sql archlinuxcn core extra multilib | <span class="hljs-built_in">sort</span>)<br><br><span class="hljs-comment"># List archlinuxcn installed packages</span><br>LANG=en_US.UTF-8 pacman -Sl archlinuxcn | grep <span class="hljs-string">&#x27;\[installed\]&#x27;</span><br><br><span class="hljs-comment"># Remove orphaned packages</span><br>yay -Qtdq | yay -Rsn -<br></code></pre></td></tr></table></figure><h3 id="System-Maintenance"><a href="#System-Maintenance" class="headerlink" title="System Maintenance"></a>System Maintenance</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Update GRUB</span><br><span class="hljs-built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg<br><br><span class="hljs-comment"># Check running X11 applications</span><br>xlsclients -l<br><br><span class="hljs-comment"># Fix NTFS partition</span><br><span class="hljs-built_in">sudo</span> pacman -S ntfsprogs-ntfs3<br><span class="hljs-built_in">sudo</span> ntfsfix --clear-dirty /dev/nvme0n1p4<br><br><span class="hljs-comment"># Extract zip with Chinese filenames</span><br>unzip -O gbk file.zip<br></code></pre></td></tr></table></figure><h3 id="Gaming"><a href="#Gaming" class="headerlink" title="Gaming"></a>Gaming</h3><p>Steam launch options for NVIDIA Optimus:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">__NV_PRIME_RENDER_OFFLOAD=1 __VK_LAYER_NV_optimus=NVIDIA_only __GLX_VENDOR_LIBRARY_NAME=nvidia %<span class="hljs-built_in">command</span>%<br></code></pre></td></tr></table></figure><h3 id="Windows-Dual-Boot"><a href="#Windows-Dual-Boot" class="headerlink" title="Windows Dual Boot"></a>Windows Dual Boot</h3><p>Set Windows to use UTC (run in Windows as Administrator):</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">reg add &quot;HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation&quot; /v RealTimeIsUniversal /d <span class="hljs-number">1</span> /t REG_DWORD /f<br></code></pre></td></tr></table></figure><h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="Font-Issues"><a href="#Font-Issues" class="headerlink" title="Font Issues"></a>Font Issues</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">fc-cache -fv<br>fc-match -s sans-serif:lang=zh-cn<br></code></pre></td></tr></table></figure><h3 id="Electron-Applications"><a href="#Electron-Applications" class="headerlink" title="Electron Applications"></a>Electron Applications</h3><p>Electron flags are automatically applied to Chrome, Chromium, and VS Code through symlinks.</p><h3 id="GTK-Theme-Issues"><a href="#GTK-Theme-Issues" class="headerlink" title="GTK Theme Issues"></a>GTK Theme Issues</h3><p>If GTK applications don’t follow the theme, ensure both gtk-3.0 and gtk-4.0 configurations are properly linked and xsettingsd is running.</p><h2 id="Additional-Resources"><a href="#Additional-Resources" class="headerlink" title="Additional Resources"></a>Additional Resources</h2><ul><li><a href="https://wiki.cachyos.org/configuration/general_system_tweaks/">CachyOS System Tweaks</a></li><li><a href="https://wiki.archlinux.org/">Arch Wiki</a></li><li><a href="https://hyprland.org/">Hyprland Documentation</a></li></ul><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h2><ul><li><strong>Don’t run</strong>: <code>sudo npm install -g some_package</code> (use local installs instead)</li><li>Some configurations require logout&#x2F;login to take effect</li><li>GPU drivers may require reboot</li><li>Always verify system state after driver installations</li><li><strong>GRUB Configuration</strong>: Always backup your working GRUB config before making changes</li><li>Wallpapers are included in the hypr&#x2F;wallpapers directory</li><li>The GRUB theme Hyacine provides a modern boot experience with OS detection. (Maybe you are fond of her☺️)</li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>arch</tag>
      
      <tag>gnome</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>四、Windows最佳实践</title>
    <link href="/2025/01/19/Windows-4/"/>
    <url>/2025/01/19/Windows-4/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-13b47e61" role="button" aria-expanded="false" aria-controls="collapse-13b47e61">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-13b47e61">        <div class="fold-content">          <p><a href="https://learn.microsoft.com/zh-cn/windows/dev-environment/">Windows开发环境</a><br><a href="https://learn.microsoft.com/zh-cn/windows/package-manager/">WinGet文档</a><br><a href="https://learn.microsoft.com/zh-cn/powershell/">PowerShell文档</a><br><a href="https://docs.chocolatey.org/en-us/getting-started/">Chocolatey文档</a><br><a href="https://github.com/microsoft/winget-pkgs">WinGet存储库</a></p>        </div>      </div>    </div><h2 id="win-R运行常用命令"><a href="#win-R运行常用命令" class="headerlink" title="win+R运行常用命令"></a>win+R运行常用命令</h2><ul><li><code>msconfig</code>：系统配置</li><li><code>Gpedit.msc</code>: 本地组策略</li><li><code>regedit</code>: 注册表 </li><li><code>services.msc</code>: 服务</li><li><code>msinfo32</code>: 系统信息</li><li><code>winver</code>: Windows版本</li><li><code>dxdiag</code>: DirectX诊断工具</li><li><code>cleanmgr</code>: 磁盘清理</li><li><code>diskmgmt.msc</code>: 磁盘管理</li><li><code>devmgmt.msc</code>: 设备管理器</li><li><code>control</code>: 控制面板</li><li><code>taskmgr</code>: 任务管理器</li><li><code>%USERPROFILE%\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt</code>: PowerShell历史记录</li></ul><h2 id="使用WinGet管理软件包"><a href="#使用WinGet管理软件包" class="headerlink" title="使用WinGet管理软件包"></a>使用WinGet管理软件包</h2><ul><li><code>winget search &lt;package_name&gt;</code>: 搜索软件</li><li><code>winget install &lt;package_name/id&gt; -l &lt;path&gt;</code>: 安装软件</li><li><code>winget uninstall &lt;package_name/id&gt;</code>: 卸载软件</li><li><code>winget upgrade &lt;package_name/id&gt;/--all</code>: 更新软件</li><li><code>winget list | Select-String -Pattern &lt;package_name&gt;</code>: 查看已安装软件</li><li><code>Get-Command &lt;package_alias&gt; | Select-Object -ExpandProperty Source</code>: 查看软件安装路径</li></ul><h2 id="使用Chocolatey管理软件包"><a href="#使用Chocolatey管理软件包" class="headerlink" title="使用Chocolatey管理软件包"></a>使用Chocolatey管理软件包</h2><ul><li><code>winget install Chocolatey.Chocolatey</code>: 安装Chocolatey</li><li><code>choco upgrade all</code>: 更新所有软件</li><li>其他命令同WinGet</li></ul><h2 id="WinGet-List-Reference"><a href="#WinGet-List-Reference" class="headerlink" title="WinGet List Reference"></a>WinGet List Reference</h2><blockquote><p>所有软件均以<code>Id</code>形式列出, 不分先后安装顺序<br>下面的<code>vcredist</code>可以多搜索几个进行安装</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs bash">9NBLGGH1ZBKW <span class="hljs-comment"># 动态主题</span><br>9NF8H0H7WMLT <span class="hljs-comment"># NVIDIA控制面板</span><br>9NQPSL29BFFF <span class="hljs-comment"># OpenCLTM、OpenGL® 和 Vulkan® 兼容包</span><br>7zip.7zip <span class="hljs-comment"># 7-zip</span><br>Adobe.CreativeCloud <span class="hljs-comment"># Adobe Creative Cloud</span><br>agalwood.Motrix <span class="hljs-comment"># Motrix下载器</span><br>BartoszCichecki.LenovoLegionToolkit <span class="hljs-comment"># Lenovo Legion工具箱</span><br>BellSoft.LibericaJDK.21.Full <span class="hljs-comment"># Java 21</span><br>BluePointLilac.ContextMenuManager <span class="hljs-comment"># 右键菜单管理器</span><br>BlueStack.BlueStacks <span class="hljs-comment"># 安卓模拟器</span><br>CharlesMilette.TranslucentTB <span class="hljs-comment"># 任务栏美化</span><br>ChuyuTeam.DISM++ <span class="hljs-comment"># DISM++</span><br>ClashVergeRev.ClashVergeRev <span class="hljs-comment"># 代理工具</span><br>CodecGuide.K-LiteCodecPack.Full <span class="hljs-comment"># K-Lite解码器</span><br>DevToys-app.DevToys <span class="hljs-comment"># 开发实用工具</span><br>Discord.Discord <span class="hljs-comment"># Discord</span><br>DuongDieuPhap.ImageGlass <span class="hljs-comment"># 图片查看器</span><br>Fastfetch-cli.Fastfetch <span class="hljs-comment"># Fastfetch</span><br>GeoGebra.Classic <span class="hljs-comment"># GeoGebra</span><br>Git.Git <span class="hljs-comment"># Git版本控制系统</span><br>GnuWin32.Grep <span class="hljs-comment"># Grep</span><br>Google.Chrome.Dev <span class="hljs-comment">#Chrome浏览器</span><br>Gyan.FFmpeg <span class="hljs-comment"># ffmpeg</span><br>JAMSoftware.TreeSize.Free <span class="hljs-comment"># 磁盘空间查看</span><br>JanDeDobbeleer.OhMyPosh <span class="hljs-comment"># PowerShell提示符</span><br>marha.VcXsrv <span class="hljs-comment"># X服务器</span><br>MartiCliment.UniGetUI <span class="hljs-comment"># GUI包管理器</span><br>Microsoft.AppInstaller <span class="hljs-comment"># 应用安装程序</span><br>Microsoft.DevHome <span class="hljs-comment"># 开发人员主页</span><br>Microsoft.DirectX <span class="hljs-comment"># DirectX旧版组件修复</span><br>Microsoft.DotNet.Runtime.8 <span class="hljs-comment"># .NET 8.0</span><br>Microsoft.DotNet.SDK.Preview <span class="hljs-comment"># .NET SDK</span><br>Microsoft.PowerShell <span class="hljs-comment"># PowerShell</span><br>Microsoft.PowerToys <span class="hljs-comment"># PowerToys</span><br>Microsoft.Sysinternals.Suite <span class="hljs-comment"># Sysinternals工具</span><br>Microsoft.VCRedist.2015+.x64 <span class="hljs-comment"># VC++ 2015-2022</span><br>Microsoft.VCRedist.2015+.x86 <span class="hljs-comment"># VC++ 2015-2022</span><br>Microsoft.VisualStudio.2022.Community <span class="hljs-comment"># VS 2022</span><br>Microsoft.VisualStudioCode <span class="hljs-comment"># VSCode</span><br>Microsoft.WindowsTerminal <span class="hljs-comment"># Windows终端</span><br>Microsoft.XNARedist <span class="hljs-comment"># XNA运行库</span><br>Mojang.MinecraftLauncher <span class="hljs-comment"># Minecraft启动器</span><br>Nvidia.FrameView <span class="hljs-comment"># 游戏性能监控</span><br>OBSProject.OBSStudio <span class="hljs-comment"># 录屏</span><br>OlegDanilov.RapidEnvironmentEditor <span class="hljs-comment"># 环境变量编辑器</span><br>PixPin.PixPin.Beta <span class="hljs-comment"># 截图工具</span><br>PrismLauncher.PrismLauncher <span class="hljs-comment"># Minecraft启动器</span><br>PuTTY.PuTTY <span class="hljs-comment"># SSH工具</span><br>Rizonesoft.Notepad3 <span class="hljs-comment"># 记事本</span><br>Rustlang.Rustup <span class="hljs-comment"># rust</span><br>SumatraPDF.SumatraPDF <span class="hljs-comment"># SumatraPDF</span><br>TechPowerUp.GPU-Z <span class="hljs-comment"># GPU-Z</span><br>Tencent.QQ.NT <span class="hljs-comment"># QQ</span><br>Tencent.WeChat.Universal <span class="hljs-comment"># 微信</span><br>Valve.Steam <span class="hljs-comment"># Steam</span><br>VideoLAN.VLC <span class="hljs-comment"># VLC播放器</span><br>vim.vim <span class="hljs-comment"># Vim编辑器</span><br>voidtools.Everything.Alpha <span class="hljs-comment"># 文件搜索工具</span><br>winaero.tweaker <span class="hljs-comment"># Windows优化工具</span><br>XPFFTQ032PTPHF <span class="hljs-comment"># 同UniGetUI</span><br>zhongyang219.TrafficMonitor.Full <span class="hljs-comment"># 网速监控器(注: 使用winget安装这个有无法更新的bug)</span><br><span class="hljs-comment"># TODO</span><br></code></pre></td></tr></table></figure><h2 id="Chocolatey-List-Reference"><a href="#Chocolatey-List-Reference" class="headerlink" title="Chocolatey List Reference"></a>Chocolatey List Reference</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">ffmpeg <span class="hljs-comment"># 视频处理</span><br>filezilla <span class="hljs-comment"># FTP客户端</span><br>mpv <span class="hljs-comment"># 视频播放器</span><br>visualstudio<span class="hljs-literal">-installer</span> <span class="hljs-comment"># VS安装器</span><br>vim <span class="hljs-comment"># Vim编辑器</span><br>yt<span class="hljs-literal">-dlp</span> <span class="hljs-comment"># 视频下载器</span><br><span class="hljs-comment"># TODO</span><br></code></pre></td></tr></table></figure><h2 id="Portable-Software-List"><a href="#Portable-Software-List" class="headerlink" title="Portable Software List"></a>Portable Software List</h2><ul><li><a href="https://www.aichunjing.com/soft/1122.html">DriverBooster</a> # 驱动程序更新</li><li><a href="https://www.aichunjing.com/soft/1197.html">GlaryUtilities</a> # 系统优化</li><li><a href="https://www.aichunjing.com/soft/2018-09-03/307.html">WiseCare365</a> # 系统优化</li><li><a href="https://www.aichunjing.com/soft/1222.html">WiseRegistryCleaner</a> # 注册表清理</li><li><a href="https://www.aichunjing.com/soft/1143.html">AdvancedSystemCare</a> # 系统优化</li></ul>]]></content>
    
    
    <categories>
      
      <category>Windows Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>tweaks</tag>
      
      <tag>win11</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>openSUSE/Debian/kali手动安装NVIDIA显卡驱动</title>
    <link href="/2024/12/11/nvidia/"/>
    <url>/2024/12/11/nvidia/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-39efaa00" role="button" aria-expanded="false" aria-controls="collapse-39efaa00">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-39efaa00">        <div class="fold-content">          <p><a href="https://en.opensuse.org/SDB:NVIDIA_the_hard_way">NVIDIA the hard way</a><br><a href="https://wiki.archlinux.org/title/Kernel_mode_setting">Kernel Mode Setting</a><br><a href="https://wiki.archlinux.org/title/Kernel_parameters">Kernel Parameters</a><br><a href="https://wiki.archlinux.org/title/NVIDIA">arch wiki NVIDIA</a><br><a href="https://wiki.archlinux.org/title/KDE">KDE</a><br><a href="https://www.kali.org/docs/general-use/install-nvidia-drivers-on-kali-linux/">kali doc NVIDIA</a><br><a href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html">CUDA NVIDIA</a><br><a href="https://wiki.debian.org/NvidiaGraphicsDrivers">Debian NVIDIA</a><br><a href="https://github.com/korvahannu/arch-nvidia-drivers-installation-guide">Arch Linux NVIDIA drivers installation guide</a></p>        </div>      </div>    </div><h2 id="这种方式不被支持，但如果你想试试看，我们也不会拦着你。到底来说这还是你自己的机器，只要别在出问题时哭鼻子就好。"><a href="#这种方式不被支持，但如果你想试试看，我们也不会拦着你。到底来说这还是你自己的机器，只要别在出问题时哭鼻子就好。" class="headerlink" title="这种方式不被支持，但如果你想试试看，我们也不会拦着你。到底来说这还是你自己的机器，只要别在出问题时哭鼻子就好。"></a>这种方式不被支持，但如果你想试试看，我们也不会拦着你。到底来说这还是你自己的机器，只要别在出问题时哭鼻子就好。</h2><blockquote><p>当NVIDIA 565.77驱动进入Debian软件仓库时，此文章失效。</p></blockquote><h2 id="更新系统，安装内核头文件"><a href="#更新系统，安装内核头文件" class="headerlink" title="更新系统，安装内核头文件"></a>更新系统，安装内核头文件</h2><ul><li>Debian:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update<br><span class="hljs-built_in">sudo</span> apt -y full-upgrade<br><span class="hljs-built_in">sudo</span> apt install linux-headers-$(<span class="hljs-built_in">uname</span> -r) dkms -y<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><ul><li>openSUSE:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper ref<br><span class="hljs-built_in">sudo</span> zypper dup<br><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> -t pattern devel_C_C++ devel_kernel <br><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> dkms<br></code></pre></td></tr></table></figure><h2 id="卸载以前的NVIDIA驱动"><a href="#卸载以前的NVIDIA驱动" class="headerlink" title="卸载以前的NVIDIA驱动"></a>卸载以前的NVIDIA驱动</h2><ul><li>Debian:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt purge --auto-remove nvidia*<br><span class="hljs-built_in">sudo</span> apt purge --auto-remove xserver-xorg-video-intel<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><ul><li>openSUSE:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-built_in">rm</span> -u $(rpm -qa | grep -i nvidia)<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><h2 id="从官网下载最新的驱动-run文件"><a href="#从官网下载最新的驱动-run文件" class="headerlink" title="从官网下载最新的驱动(run文件)"></a>从官网下载最新的驱动(run文件)</h2><p>从<a href="https://www.nvidia.com/en-us/drivers/">此处</a>查找最新的驱动，下载到本地。</p><p>截止到写这篇文章时，最新的驱动是<code>NVIDIA-Linux-x86_64-565.77.run</code>。可以把下好的文件放入<code>/home/&lt;username&gt;/Downloads</code>目录。</p><h2 id="禁用Nouveau-驱动文件会帮你做这个事情"><a href="#禁用Nouveau-驱动文件会帮你做这个事情" class="headerlink" title="禁用Nouveau(驱动文件会帮你做这个事情)"></a>禁用Nouveau(驱动文件会帮你做这个事情)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;blacklist nouveau\noptions nouveau.modeset=0&quot;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> /etc/modprobe.d/blacklist-nouveau.conf<br><span class="hljs-built_in">sudo</span> update-initramfs -u <span class="hljs-comment"># Debian</span><br><span class="hljs-built_in">sudo</span> dracut -f <span class="hljs-comment"># openSUSE</span><br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><h2 id="建议-使用nomodeset进入TTY"><a href="#建议-使用nomodeset进入TTY" class="headerlink" title="(建议)使用nomodeset进入TTY"></a>(建议)使用<code>nomodeset</code>进入TTY</h2><p>在GRUB界面按<code>e</code>键，在形如<code> linux /boot/vmlinuz-5.14.21-150400.20-default ... splash=silent ... quiet ...</code>的行末尾加上<code>nomodeset 3</code>，<code>3</code>的意思是进入第三个TTY，然后进入系统，以root用户登入TTY。</p><h2 id="也可以直接在TTY使用快捷键Ctrl-Alt-F3进入TTY3，然后登入root用户。"><a href="#也可以直接在TTY使用快捷键Ctrl-Alt-F3进入TTY3，然后登入root用户。" class="headerlink" title="也可以直接在TTY使用快捷键Ctrl+Alt+F3进入TTY3，然后登入root用户。"></a>也可以直接在TTY使用快捷键<code>Ctrl+Alt+F3</code>进入TTY3，然后登入root用户。</h2><h2 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ROOT用户</span><br><span class="hljs-built_in">cd</span> /home/&lt;username&gt;/Downloads<br><span class="hljs-built_in">chmod</span> +x NVIDIA-Linux-x86_64-565.77.run<br>./NVIDIA-Linux-x86_64-565.77.run<br></code></pre></td></tr></table></figure><p>务必仔细阅读安装过程中的提示，一般来说，只需要一路回车即可。</p><p>安装过程叫你重建<code>initramfs</code>，选择确定即可。</p><h2 id="暂时-卸载显示管理器-如sddm"><a href="#暂时-卸载显示管理器-如sddm" class="headerlink" title="(暂时)卸载显示管理器(如sddm)"></a>(暂时)卸载显示管理器(如sddm)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt purge --auto-remove sddm <span class="hljs-comment"># Debian</span><br>zypper <span class="hljs-built_in">rm</span> -u sddm <span class="hljs-comment"># openSUSE</span><br></code></pre></td></tr></table></figure><h2 id="KMS早启动"><a href="#KMS早启动" class="headerlink" title="KMS早启动"></a>KMS早启动</h2><ul><li><p>Debian:</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;nvidia\nnvidia_modeset\nnvidia_uvm\nnvidia_drm&quot;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> -a /etc/modules-load.d/modules.conf<br>update-initramfs -u<br></code></pre></td></tr></table></figure></li><li><p>openSUSE:</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nano /etc/dracut.conf.d/nvidia.conf<br></code></pre></td></tr></table></figure><p>  在文件中添加：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">force_drivers+=<span class="hljs-string">&quot; nvidia nvidia_modeset nvidia_uvm nvidia_drm &quot;</span><br></code></pre></td></tr></table></figure><p>  保存后执行<code>drauct -f</code>。</p></li></ul><h2 id="GRUB内核参数"><a href="#GRUB内核参数" class="headerlink" title="GRUB内核参数"></a><code>GRUB</code>内核参数</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/default/grub<br></code></pre></td></tr></table></figure><p>在打开的文件中找到<code>GRUB_CMDLINE_LINUX_DEFAULT</code>这一行，并添加以下参数：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">GRUB_CMDLINE_LINUX_DEFAULT=<span class="hljs-string">&quot;quiet splash nouveau.modeset=0 modprobe.blacklist=nouveau rd.driver.blacklist=nouveau nvidia-drm.modeset=1 nvidia-drm.fbdev=1&quot;</span><br></code></pre></td></tr></table></figure><p>保存并退出编辑器，然后更新<code>GRUB</code>配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><h2 id="重启系统，检查驱动是否安装成功"><a href="#重启系统，检查驱动是否安装成功" class="headerlink" title="重启系统，检查驱动是否安装成功"></a>重启系统，检查驱动是否安装成功</h2><blockquote><p>由于卸载了显示管理器，所以需要在TTY中以用户身份登入。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> reboot<br>nvidia-smi<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cat</span> /sys/module/nvidia_drm/parameters/modeset <span class="hljs-comment"># 应该输出Y</span><br></code></pre></td></tr></table></figure><h2 id="安装CUDA"><a href="#安装CUDA" class="headerlink" title="安装CUDA"></a>安装CUDA</h2><p>可以在<a href="https://developer.nvidia.com/cuda-downloads">此处</a>搜索对应的发行版的CUDA安装。</p><h2 id="从TTY进入KDE桌面"><a href="#从TTY进入KDE桌面" class="headerlink" title="从TTY进入KDE桌面"></a>从TTY进入KDE桌面</h2><ul><li>Debian:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/usr/lib/x86_64-linux-gnu/libexec/plasma-dbus-run-session-if-needed /usr/bin/startplasma-wayland<br></code></pre></td></tr></table></figure><ul><li>openSUSE:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/usr/libexec/plasma-dbus-run-session-if-needed /usr/bin/startplasma-wayland<br></code></pre></td></tr></table></figure><h2 id="检查关于驱动的信息"><a href="#检查关于驱动的信息" class="headerlink" title="检查关于驱动的信息"></a>检查关于驱动的信息</h2><p>参考Kali的<a href="https://www.kali.org/docs/general-use/install-nvidia-drivers-on-kali-linux/">文档</a></p><h2 id="其他说明"><a href="#其他说明" class="headerlink" title="其他说明"></a>其他说明</h2><ul><li>当你更新了内核或者要更新驱动时，都需要重新执行上述步骤。</li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>kde</tag>
      
      <tag>nvidia</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mpv播放器+SVP4+Anime4K简单配置</title>
    <link href="/2024/11/08/mpv/"/>
    <url>/2024/11/08/mpv/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-7b069fb1" role="button" aria-expanded="false" aria-controls="collapse-7b069fb1">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-7b069fb1">        <div class="fold-content">          <p><a href="https://wiki.archlinux.org/title/Mpv">mpv archlinux wiki</a><br><a href="https://www.svp-team.com/wiki/SVP:Linux">svp</a><br><a href="https://github.com/bloc97/Anime4K/blob/master/md/GLSL_Instructions_Linux.md">Anime4K</a></p>        </div>      </div>    </div><h2 id="以Ubuntu24-10为例"><a href="#以Ubuntu24-10为例" class="headerlink" title="以Ubuntu24.10为例"></a>以Ubuntu24.10为例</h2><h2 id="安装mpv"><a href="#安装mpv" class="headerlink" title="安装mpv"></a>安装mpv</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install mpv<br><span class="hljs-built_in">cp</span> -r /usr/share/doc/mpv/ ~/.config/<br></code></pre></td></tr></table></figure><h2 id="第一次配置"><a href="#第一次配置" class="headerlink" title="第一次配置"></a>第一次配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gnome-text-editor ~/.config/mpv/input.conf<br></code></pre></td></tr></table></figure><p>写入archlinux wiki的示例配置</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs routeros">shift+s         screenshot each-frame<br>Shift+UP        seek  600<br>Shift+DOWN      seek -600<br>=               cycle video-unscaled<br>-               cycle-values window-scale 2 3 1 .5<br>WHEEL_UP        <span class="hljs-built_in">add</span> volume 5<br>WHEEL_DOWN      <span class="hljs-built_in">add</span> volume -5<br>WHEEL_LEFT      ignore<br>WHEEL_RIGHT     ignore<br>Alt+RIGHT       <span class="hljs-built_in">add</span> video-rotate 90<br>Alt+LEFT        <span class="hljs-built_in">add</span> video-rotate -90<br>Alt+-           <span class="hljs-built_in">add</span> video-zoom -0.25<br>Alt+=           <span class="hljs-built_in">add</span> video-zoom 0.25<br>Alt+j           <span class="hljs-built_in">add</span> video-pan-x -0.05<br>Alt+l           <span class="hljs-built_in">add</span> video-pan-x 0.05<br>Alt+i           <span class="hljs-built_in">add</span> video-pan-y 0.05<br>Alt+k           <span class="hljs-built_in">add</span> video-pan-y -0.05<br>Alt+BS          <span class="hljs-built_in">set</span> video-zoom 0; <span class="hljs-built_in">set</span> video-pan-x 0; <span class="hljs-built_in">set</span> video-pan-y 0<br></code></pre></td></tr></table></figure><p>同理编辑<code>~/.config/mpv/mpv.conf</code>并写入</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-attribute">sub-auto</span>=fuzzy<br><span class="hljs-attribute">sub-bold</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attribute">sub-font</span>=<span class="hljs-string">&quot;Noto Sans CJK SC Medium&quot;</span><br><span class="hljs-attribute">profile</span>=high-quality<br><span class="hljs-attribute">video-sync</span>=display-resample<br>interpolation<br><span class="hljs-comment"># hwdec=auto auto-safe</span><br><span class="hljs-attribute">hwdec</span>=auto-copy<br><span class="hljs-attribute">hwdec-codecs</span>=all<br><span class="hljs-attribute">force-window</span>=<span class="hljs-literal">yes</span><br><span class="hljs-attribute">audio-spdif</span>=ac3,eac3,dts-hd,truehd<br>save-position-on-quit <br><span class="hljs-attribute">pulse-latency-hacks</span>=<span class="hljs-literal">yes</span><br></code></pre></td></tr></table></figure><h2 id="配置SVP"><a href="#配置SVP" class="headerlink" title="配置SVP"></a>配置SVP</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install g++ make autoconf automake libtool pkg-config nasm git meson dh-autoreconf<br><span class="hljs-built_in">sudo</span> apt install libzimg-dev<br><span class="hljs-built_in">sudo</span> apt install cython3<br><span class="hljs-built_in">cd</span><br>git <span class="hljs-built_in">clone</span> https://github.com/vapoursynth/vapoursynth.git<br><span class="hljs-built_in">cd</span> vapoursynth<br>./autogen.sh<br>./configure<br>make -j4<br><span class="hljs-built_in">sudo</span> make install<br><span class="hljs-built_in">cd</span> ..<br><span class="hljs-built_in">sudo</span> ldconfig<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">ln</span> -s /usr/local/lib/python3.12/site-packages/vapoursynth.so /usr/lib/python3.12/lib-dynload/vapoursynth.so<br>vspipe<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">gnome-text-editor ~/.config/mpv/mpv.conf<br></code></pre></td></tr></table></figure><p>添加内容</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs toml"><span class="hljs-section">[svp]</span><br><span class="hljs-attr">input-ipc-server</span>=/tmp/mpvsocket     <span class="hljs-comment"># Receives input from SVP</span><br><span class="hljs-attr">hr-seek-framedrop</span>=<span class="hljs-literal">no</span>                <span class="hljs-comment"># Fixes audio desync</span><br><span class="hljs-attr">watch-later-options-remove</span>=vf       <span class="hljs-comment"># Do not remember SVP&#x27;s video filters</span><br><br><span class="hljs-comment"># Can fix stuttering in some cases, in other cases probably causes it. Try it if you experience stuttering.</span><br><span class="hljs-comment">#opengl-early-flush=yes</span><br></code></pre></td></tr></table></figure><p>之后启动<code>mpv</code>使用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">mpv --profile=svp &lt;URL&gt;/&lt;path/to/video&gt;/&lt;path/to/*&gt;<br></code></pre></td></tr></table></figure><h2 id="配置Anime4K"><a href="#配置Anime4K" class="headerlink" title="配置Anime4K"></a>配置<code>Anime4K</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> <br><span class="hljs-comment"># wget &quot;https://github.com/bloc97/Anime4K/releases/download/v4.0.1/Anime4K_v4.0.zip&quot;</span><br><span class="hljs-comment"># unzip Anime4K_v4.0.zip -d ~/.config/mpv/shaders</span><br>wget <span class="hljs-string">&quot;https://github.com/Tama47/Anime4K/releases/download/v4.0.1/GLSL_Mac_Linux_Low-end.zip&quot;</span> <span class="hljs-comment"># 低配显卡 </span><br>wget <span class="hljs-string">&quot;https://github.com/Tama47/Anime4K/releases/download/v4.0.1/GLSL_Mac_Linux_High-end.zip&quot;</span> <span class="hljs-comment"># 高配显卡</span><br><span class="hljs-built_in">mv</span> ~/.config/mpv/mpv.conf ~/.config/mpv/mpv.conf.bak<br><span class="hljs-built_in">mv</span> ~/.config/mpv/input.conf ~/.config/mpv/input.conf.bak<br>unzip GLSL_Mac_Linux_Low-end.zip -d ~/.config/mpv<br></code></pre></td></tr></table></figure><p>然后可以把之前的配置文件追加到<code>Anime4K</code>的配置文件后面</p>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>mpv</tag>
      
      <tag>svp</tag>
      
      <tag>anime</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NixOS(KDE)安装及配置指南</title>
    <link href="/2024/10/25/nixos/"/>
    <url>/2024/10/25/nixos/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-d6b77f14" role="button" aria-expanded="false" aria-controls="collapse-d6b77f14">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-d6b77f14">        <div class="fold-content">          <p><a href="https://nixos.org/manual/nixos/unstable/">NixOS Manual</a><br><a href="https://wiki.nixos.org/wiki/NixOS_Wiki">NixOS_Wiki</a><br><a href="https://search.nixos.org/packages">NixOS_Search</a></p>        </div>      </div>    </div><p><a href="https://github.com/Rukkhadevata123/nixos-config">我的配置仓库</a></p><h2 id="进入NixOS的LiveCD-连接网络"><a href="#进入NixOS的LiveCD-连接网络" class="headerlink" title="进入NixOS的LiveCD, 连接网络"></a>进入NixOS的LiveCD, 连接网络</h2><blockquote><p>可以使用手机网络共享然后无线连接</p></blockquote><h2 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">nix-env -i v2ray v2raya<br>v2ray run<br><span class="hljs-built_in">sudo</span> v2raya<br></code></pre></td></tr></table></figure><p>然后进入<code>127.0.0.1:2017</code>导入代理配置</p><h2 id="使用cfdisk进行系统分区"><a href="#使用cfdisk进行系统分区" class="headerlink" title="使用cfdisk进行系统分区"></a>使用<code>cfdisk</code>进行系统分区</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> -i <span class="hljs-comment"># 注意：以下操作全部在root用户下进行</span><br>lsblk<br>cfdisk /dev/sda<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.xfs -L nixos /dev/sda2<br>mkfs.vfat /dev/sda1<br>mount /dev/sda2 /mnt<br>mount --<span class="hljs-built_in">mkdir</span> /dev/sda1 /mnt/boot<br></code></pre></td></tr></table></figure><p>这些步骤跟安装<code>archlinux</code>完全一样, 并使用GUID分区表和UEFI启动方式</p><h2 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">nixos-generate-config --root /mnt<br>kate /mnt/etc/nixos/configuration.nix<br></code></pre></td></tr></table></figure><p>用户名以<code>yoimiya</code>为例, 主机名默认即可</p><p>示例配置: </p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs nix">&#123;<br>  config,<br>  lib,<br>  pkgs,<br>  ...<br>&#125;:<br>&#123;<br>  <span class="hljs-attr">imports</span> <span class="hljs-operator">=</span> [<br>    <span class="hljs-comment"># Include the results of the hardware scan.</span><br>    <span class="hljs-symbol">./hardware-configuration.nix</span><br>  ];<br><br>  <span class="hljs-comment"># Use the systemd-boot EFI boot loader.</span><br>  <span class="hljs-attr">boot.loader.systemd-boot.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>  <span class="hljs-attr">boot.loader.efi.canTouchEfiVariables</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>  <span class="hljs-attr">networking.hostName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;nixos&quot;</span>; <span class="hljs-comment"># Define your hostname.</span><br>  <span class="hljs-comment"># Pick only one of the below networking options.</span><br>  <span class="hljs-comment"># networking.wireless.enable = true;  # Enables wireless support via wpa_supplicant.</span><br>  <span class="hljs-attr">networking.networkmanager.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>; <span class="hljs-comment"># Easiest to use and most distros use this by default.</span><br><br>  <span class="hljs-comment"># Set your time zone.</span><br>  <span class="hljs-attr">time.timeZone</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Asia/Shanghai&quot;</span>;<br><br>  <span class="hljs-attr">services.xserver.videoDrivers</span> <span class="hljs-operator">=</span> [ <span class="hljs-string">&quot;modesetting&quot;</span> ];<br><br>  <span class="hljs-comment"># Select internationalisation properties.</span><br>  <span class="hljs-attr">i18n.defaultLocale</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;en_US.UTF-8&quot;</span>;<br><br>  <span class="hljs-comment"># Enable the X11 windowing system.</span><br>  <span class="hljs-attr">services.xserver.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>  <span class="hljs-attr">nixpkgs.config</span> <span class="hljs-operator">=</span> &#123;<br>    <span class="hljs-attr">allowUnfree</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>  &#125;;<br><br>  <span class="hljs-comment"># Enable the KDE Desktop Environment.</span><br>  <span class="hljs-attr">services.displayManager.sddm.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>  <span class="hljs-attr">services.displayManager.sddm.wayland.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>  <span class="hljs-attr">services.desktopManager.plasma6.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>  <span class="hljs-comment"># Configure keymap in X11</span><br>  <span class="hljs-attr">services.xserver.xkb.layout</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;us&quot;</span>;<br>  <span class="hljs-comment"># services.xserver.xkb.options = &quot;eurosign:e,caps:escape&quot;;</span><br><br>  <span class="hljs-comment"># Enable CUPS to print documents.</span><br>  <span class="hljs-attr">services.printing.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>  <span class="hljs-comment"># Enable sound.</span><br>  <span class="hljs-comment"># hardware.pulseaudio.enable = true;</span><br><br>  <span class="hljs-comment"># Enable touchpad support (enabled default in most desktopManager).</span><br>  <span class="hljs-attr">services.libinput.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>  <span class="hljs-attr">programs.firefox.enable</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br>  <span class="hljs-comment"># Define a user account. Don&#x27;t forget to set a password with ‘passwd’.</span><br>  <span class="hljs-attr">users.users.yoimiya</span> <span class="hljs-operator">=</span> &#123;<br>    <span class="hljs-attr">isNormalUser</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-attr">createHome</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-attr">home</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/home/yoimiya&quot;</span>;<br>    <span class="hljs-attr">extraGroups</span> <span class="hljs-operator">=</span> [<br>      <span class="hljs-string">&quot;wheel&quot;</span><br>      <span class="hljs-string">&quot;networkmanager&quot;</span><br>    ]; <span class="hljs-comment"># Enable ‘sudo’ for the user.</span><br>    <span class="hljs-attr">packages</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">with</span> pkgs; [<br>      tree<br>    ];<br>  &#125;;<br><br>  <span class="hljs-attr">environment.systemPackages</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">with</span> pkgs; [<br>    vim <span class="hljs-comment"># Do not forget to add an editor to edit configuration.nix! The Nano editor is also installed by default.</span><br>    wget<br>    v2ray<br>    v2raya<br>  ];<br><br>  <span class="hljs-attr">system.stateVersion</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;24.11&quot;</span>; <span class="hljs-comment"># Did you read the comment?</span><br>&#125;<br></code></pre></td></tr></table></figure><p>保存退出后安装系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nixos-install<br></code></pre></td></tr></table></figure><p>安装完成后会要求设置<code>root</code>密码，然后使用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nixos-enter --root /mnt -c <span class="hljs-string">&#x27;passwd yoimiya&#x27;</span><br></code></pre></td></tr></table></figure><p>设置用户密码。设置完成后重启电脑，进入新系统</p><h2 id="开始配置"><a href="#开始配置" class="headerlink" title="开始配置"></a>开始配置</h2>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-f009549b" role="button" aria-expanded="false" aria-controls="collapse-f009549b">        <div class="fold-arrow">▶</div>警告      </div>      <div class="fold-collapse collapse" id="collapse-f009549b">        <div class="fold-content">          <p>在使用这些的配置之前，确保你理解了配置文件的每一句话，并根据实际情况作了修改</p>        </div>      </div>    </div><h3 id="重新配置代理"><a href="#重新配置代理" class="headerlink" title="重新配置代理"></a>重新配置代理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">v2ray run<br><span class="hljs-built_in">sudo</span> v2raya<br></code></pre></td></tr></table></figure><h3 id="克隆配置仓库"><a href="#克隆配置仓库" class="headerlink" title="克隆配置仓库"></a>克隆配置仓库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nix-shell -p git --<span class="hljs-built_in">command</span> <span class="hljs-string">&quot;git clone https://github.com/Rukkhadevata123/nixos-config&quot;</span><br></code></pre></td></tr></table></figure><h3 id="安装Windows字体"><a href="#安装Windows字体" class="headerlink" title="安装Windows字体"></a>安装Windows字体</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> ~/.local/share/fonts<br><span class="hljs-built_in">cp</span> /path/to/windows/fonts ~/.local/share/fonts/<br>fc-cache -fv<br></code></pre></td></tr></table></figure><h3 id="安装主配置文件-根据实际情况修改，请仔细阅读配置的每一行"><a href="#安装主配置文件-根据实际情况修改，请仔细阅读配置的每一行" class="headerlink" title="安装主配置文件(根据实际情况修改，请仔细阅读配置的每一行)"></a>安装主配置文件(根据实际情况修改，请仔细阅读配置的每一行)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ~/nixos-config<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> configuration.nix /etc/nixos/configuration.nix &amp;&amp; <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> home.nix /etc/nixos/home.nix<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> flake.nix /etc/nixos/flake.nix <br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> -r grubtheme /etc/nixos/grubtheme<br></code></pre></td></tr></table></figure><h3 id="更新系统配置-换成Unstable通道-flake不需要"><a href="#更新系统配置-换成Unstable通道-flake不需要" class="headerlink" title="更新系统配置, 换成Unstable通道(flake不需要)"></a>更新系统配置, 换成<code>Unstable</code>通道(flake不需要)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nix-channel --add https://channels.nixos.org/nixos-unstable nixos<br><span class="hljs-built_in">sudo</span> nixos-rebuild switch --upgrade <br></code></pre></td></tr></table></figure><p>如果出错, 可以尝试<code>sudo systemctl stop nixos-rebuild-switch-to-configuration.service</code></p><h3 id="重启到新系统-清理垃圾"><a href="#重启到新系统-清理垃圾" class="headerlink" title="重启到新系统, 清理垃圾"></a>重启到新系统, 清理垃圾</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nix-collect-garbage -d<br>bleachbit <span class="hljs-comment"># 可选</span><br></code></pre></td></tr></table></figure><h2 id="配置新系统"><a href="#配置新系统" class="headerlink" title="配置新系统"></a>配置新系统</h2><p>在设置配置KDE桌面环境</p><h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><ul><li><p>可以安装<code>linux-zen</code>内核</p></li><li><p>关于<code>Pycharm</code>无法使用的问题, 手动导入环境变量, 先在终端运行, 然后把完整文本路径导入<code>Pycharm</code>对应位置(不是直接把下面的命令导入<code>Pycharm</code>):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> LD_LIBRARY_PATH=$(find /nix/store -<span class="hljs-built_in">type</span> d -name <span class="hljs-string">&#x27;*steam-run-fhs*&#x27;</span> -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">echo</span> -n &#123;&#125;<span class="hljs-string">&#x27;/usr/lib32:&#x27;</span>&#123;&#125;<span class="hljs-string">&#x27;/usr/lib64:&#x27;</span> \;)<br></code></pre></td></tr></table></figure><p><code>IDEA</code>也是一样。如果要使用<code>JavaFx</code>则导入<code>LD_LIBRARY_PATH=/home/yoimiya/javafx-sdk-21.0.5/lib:/nix/store/haci0d018njygwdga95bsbx8ww2iswy7-zlib-1.3.1/lib:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib:/nix/store/qqfyfd3zq9jqyk9cibz72ir2ws9znl5a-steam-run-fhs/usr/lib32:/nix/store/qqfyfd3zq9jqyk9cibz72ir2ws9znl5a-steam-run-fhs/usr/lib64</code>，<br>对于虚拟机选项，导入<code>--module-path &quot;/home/yoimiya/javafx-sdk-21.0.5/lib&quot; --add-modules javafx.controls,javafx.fxml</code></p></li><li><p><code>Gnome</code>的新终端<code>Console</code>可以用命令<code>kgx --tab</code>打开</p></li><li><p><code>nix-shell -p ncurses5 flex bison elfutils openssl</code>此配置可以用于内核编译</p></li><li><p><code>nix-shell -p gtk4 gtk3 pkg-config</code>此配置用于rust-gtk开发</p></li><li><p>获取软件包列表 <code>nix-env -qaP --description &gt; pkglist.txt</code></p></li><li><p>其他补充说明请查看仓库中的配置文件</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>NixOS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ubuntu24.04LTS配置及美化</title>
    <link href="/2024/10/13/ubuntu/"/>
    <url>/2024/10/13/ubuntu/</url>
    
    <content type="html"><![CDATA[<h2 id="重置root密码"><a href="#重置root密码" class="headerlink" title="重置root密码"></a>重置<code>root</code>密码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> su root<br>passwd root<br><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure><h2 id="换源-使用24-04版本的不必要-使用24-10或其他Bleeding-Edge的不建议"><a href="#换源-使用24-04版本的不必要-使用24-10或其他Bleeding-Edge的不建议" class="headerlink" title="换源(使用24.04版本的不必要, 使用24.10或其他Bleeding Edge的不建议)"></a>换源(使用24.04版本的不必要, 使用24.10或其他Bleeding Edge的不建议)</h2>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-40264ee1" role="button" aria-expanded="false" aria-controls="collapse-40264ee1">        <div class="fold-arrow">▶</div>警告      </div>      <div class="fold-collapse collapse" id="collapse-40264ee1">        <div class="fold-content">          <p>换源前请看清楚版本, 这里以24.04为例</p>        </div>      </div>    </div><ul><li>方法一: 使用命令行</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nano /etc/apt/sources.list.d/ubuntu.sources<br></code></pre></td></tr></table></figure><p>加入(或改为)以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">Types: deb<br>URIs: https://mirrors.ustc.edu.cn/ubuntu<br>Suites: noble noble-updates noble-backports<br>Components: main restricted universe multiverse<br>Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg<br><br>Types: deb<br>URIs: https://mirrors.ustc.edu.cn/ubuntu<br>Suites: noble-security<br>Components: main restricted universe multiverse<br>Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg<br></code></pre></td></tr></table></figure><p>然后刷新软件包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt upgrade -y<br></code></pre></td></tr></table></figure><ul><li>方法二: 使用<code>Ubuntu</code>自带软件</li></ul><p>打开<code>Software &amp; Updates</code>, 确保这四个软件仓库都选中了</p><p><img src="/2024/10/13/ubuntu/1.png"></p><p>接下来服务器选择<code>Other</code>, 选择<code>China</code>再点击<code>Select Best Server</code>选择最佳镜像站点</p><p><img src="/2024/10/13/ubuntu/2.png"></p><p>更新系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt upgrade -y<br></code></pre></td></tr></table></figure><h2 id="加速Snap-配置选项等待验证"><a href="#加速Snap-配置选项等待验证" class="headerlink" title="加速Snap(配置选项等待验证)"></a>加速<code>Snap</code>(配置选项等待验证)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> snap install snap-store-proxy snap-store-proxy-client<br><span class="hljs-built_in">sudo</span> snap refresh<br></code></pre></td></tr></table></figure><h2 id="安装解码器和微软字体"><a href="#安装解码器和微软字体" class="headerlink" title="安装解码器和微软字体"></a>安装解码器和微软字体</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install ubuntu-restricted-addons ubuntu-restricted-extras -y<br></code></pre></td></tr></table></figure><h2 id="添加中文-和日语-语言包"><a href="#添加中文-和日语-语言包" class="headerlink" title="添加中文(和日语)语言包"></a>添加中文(和日语)语言包</h2><h3 id="安装语言包和输入法"><a href="#安装语言包和输入法" class="headerlink" title="安装语言包和输入法"></a>安装语言包和输入法</h3><p>打开<code>Language Support</code>, 添加所需语言, 重启即可</p><p>重启后, 去设置添加中文<code>智能拼音</code>, 开启云拼音和词典, 和<code>Manjaro</code>一样</p><p>对于日文输入法, 安装后重启, 在设置添加, 并编辑<code>~/.config/mozc/ibus_config.textproto</code>修改<code>active_on_launch</code>为<code>True</code></p><p>重启输入法</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ibus write-cache; ibus restart<br></code></pre></td></tr></table></figure><h3 id="修复字形"><a href="#修复字形" class="headerlink" title="修复字形"></a>修复字形</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> gnome-text-editor /etc/fonts/conf.d/64-language-selector-cjk-prefer.conf<br></code></pre></td></tr></table></figure><p>修改为</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">fontconfig</span> <span class="hljs-keyword">SYSTEM</span> <span class="hljs-string">&quot;fonts.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fontconfig</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>sans-serif<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 简体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 繁体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK HK<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 香港繁体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK KR<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 韩文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 日文 --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>serif<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Serif CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 简体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Serif CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 繁体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Serif CJK HK<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 香港繁体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Serif CJK KR<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 韩文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Serif CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 日文 --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>monospace<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 简体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 繁体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK HK<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 香港繁体中文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK KR<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 韩文 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span> <span class="hljs-comment">&lt;!-- 日文 --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fontconfig</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fc-cache -f -v<br></code></pre></td></tr></table></figure><h2 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h2><h2 id="安装拓展"><a href="#安装拓展" class="headerlink" title="安装拓展"></a>安装拓展</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install -y chrome-gnome-shell gnome-shell-extensions gnome-shell-ubuntu-extensions $(apt search gnome-shell-extension- | grep <span class="hljs-string">&quot;gnome-shell-extension-&quot;</span> | awk -F <span class="hljs-string">&#x27;/&#x27;</span> <span class="hljs-string">&#x27;&#123; print $1 &#125;&#x27;</span>)<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><p>其他可以在浏览器安装</p><h2 id="配置拓展-设置-优化等和Manjaro大同小异"><a href="#配置拓展-设置-优化等和Manjaro大同小异" class="headerlink" title="配置拓展, 设置, 优化等和Manjaro大同小异"></a>配置拓展, 设置, 优化等和Manjaro大同小异</h2><p>需要注意的是, <code>ubuntu-dock</code>和<code>dash-to-dock</code>只能开一个</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install gnome-tweaks<br></code></pre></td></tr></table></figure><h2 id="美化终端"><a href="#美化终端" class="headerlink" title="美化终端"></a>美化终端</h2><h3 id="安装编程字体"><a href="#安装编程字体" class="headerlink" title="安装编程字体"></a>安装编程字体</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span><br>wget https://ghproxy.cn/https://github.com/ryanoasis/nerd-fonts/releases/download/v3.2.1/FiraCode.zip<br>unzip FiraCode.zip -d ~/.local/share/fonts<br><span class="hljs-built_in">rm</span> FiraCode.zip<br>fc-cache -fv<br></code></pre></td></tr></table></figure><p>然后在<code>gnome-terminal</code>改成<code>FiraCodeNerd</code>字体即可</p><h3 id="安装zsh"><a href="#安装zsh" class="headerlink" title="安装zsh"></a>安装<code>zsh</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install zsh<br><span class="hljs-built_in">touch</span> ~/.zshrc<br>chsh -s /usr/bin/zsh<br>reboot<br></code></pre></td></tr></table></figure><h3 id="安装p10k-主题"><a href="#安装p10k-主题" class="headerlink" title="安装p10k(主题)"></a>安装<code>p10k</code>(主题)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install git<br>git <span class="hljs-built_in">clone</span> --depth=1 https://ghproxy.cn/https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;source ~/powerlevel10k/powerlevel10k.zsh-theme&#x27;</span> &gt;&gt;~/.zshrc<br>zsh<br></code></pre></td></tr></table></figure><p>然后回答完所有问题即可</p><h3 id="配置zsh"><a href="#配置zsh" class="headerlink" title="配置zsh"></a>配置<code>zsh</code></h3><h4 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install zsh-autosuggestions zsh-syntax-highlighting<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;source /usr/share/zsh-autosuggestions/zsh-autosuggestions.zsh&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">sudo</span> git <span class="hljs-built_in">clone</span> https://ghfast.top/https://github.com/zsh-users/zsh-history-substring-search.git /usr/share/zsh-history-substring-search<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;source /usr/share/zsh-history-substring-search/zsh-history-substring-search.zsh&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><h4 id="额外配置"><a href="#额外配置" class="headerlink" title="额外配置"></a>额外配置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install eza<br></code></pre></td></tr></table></figure><p>把<code>.zshrc</code>改成下面的配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.</span><br><span class="hljs-keyword">if</span> [[ -r <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache&#125;</span>/p10k-instant-prompt-<span class="hljs-variable">$&#123;(%):-%n&#125;</span>.zsh&quot;</span> ]]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">source</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache&#125;</span>/p10k-instant-prompt-<span class="hljs-variable">$&#123;(%):-%n&#125;</span>.zsh&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># Load plugins</span><br><span class="hljs-built_in">source</span> /usr/share/zsh-autosuggestions/zsh-autosuggestions.zsh<br><span class="hljs-built_in">source</span> /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh<br><span class="hljs-built_in">source</span> /usr/share/zsh-history-substring-search/zsh-history-substring-search.zsh<br><br><span class="hljs-comment"># Enable Powerlevel10k theme</span><br><span class="hljs-built_in">source</span> ~/powerlevel10k/powerlevel10k.zsh-theme<br><br><span class="hljs-comment"># To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.</span><br>[[ ! -f ~/.p10k.zsh ]] || <span class="hljs-built_in">source</span> ~/.p10k.zsh<br><br><span class="hljs-comment"># Autoload functions</span><br><span class="hljs-built_in">autoload</span> -Uz run-help<br>(( <span class="hljs-variable">$&#123;+aliases[run-help]&#125;</span> )) &amp;&amp; <span class="hljs-built_in">unalias</span> run-help<br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">help</span>=run-help<br><span class="hljs-built_in">autoload</span> -Uz run-help-git run-help-ip run-help-openssl run-help-p4 run-help-sudo run-help-svk run-help-svn<br><br><span class="hljs-built_in">autoload</span> -Uz compinit promptinit<br>compinit<br>promptinit<br><br><span class="hljs-comment"># History configuration</span><br>HISTFILE=~/.zsh_history<br>HISTSIZE=1000<br>SAVEHIST=2000<br><span class="hljs-built_in">setopt</span> appendhistory<br><span class="hljs-built_in">setopt</span> histignorealldups<br><span class="hljs-built_in">setopt</span> histignorespace<br><span class="hljs-built_in">setopt</span> inc_append_history<br><span class="hljs-built_in">setopt</span> share_history<br><br><span class="hljs-comment"># Case-insensitive tab completion</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> matcher-list <span class="hljs-string">&#x27;m:&#123;[:lower:][:upper:]&#125;=&#123;[:upper:][:lower:]&#125;&#x27;</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> matcher-list <span class="hljs-string">&#x27;m:&#123;a-zA-Z&#125;=&#123;A-Za-z&#125;&#x27;</span><br><br><span class="hljs-comment"># Use colors for completion listings</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> list-colors <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;(s.:.)LS_COLORS&#125;</span>&quot;</span><br><br><span class="hljs-comment"># Enable rehash for new executables in PATH</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> <span class="hljs-built_in">rehash</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># Enable menu selection</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> menu <span class="hljs-keyword">select</span><br><br><span class="hljs-comment"># Automatically accept exact matches in completion</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> accept-exact <span class="hljs-string">&#x27;*(N)&#x27;</span><br><br><span class="hljs-comment"># Enable caching for faster completion</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> use-cache on<br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> cache-path ~/.zsh/cache<br><br><span class="hljs-comment"># Add auto-description for completion items</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> auto-description <span class="hljs-string">&#x27;specify: %d&#x27;</span><br><br><span class="hljs-comment"># Specify completion methods</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> completer _expand _complete<br><br><span class="hljs-comment"># Format the completion display</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> format <span class="hljs-string">&#x27;Completing %d&#x27;</span><br><br><span class="hljs-comment"># Remove group names from completion listings</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> group-name <span class="hljs-string">&#x27;&#x27;</span><br><br><span class="hljs-comment"># List prompt for completion options</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> list-prompt %SAt %p: Hit TAB <span class="hljs-keyword">for</span> more, or the character to insert%s<br><br><span class="hljs-comment"># Select prompt for scrolling through completion menu</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> select-prompt %SScrolling active: current selection at %p%s<br><br><span class="hljs-comment"># Disable older `compctl` completions</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> use-compctl <span class="hljs-literal">false</span><br><br><span class="hljs-comment"># Enable verbose completion output</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*&#x27;</span> verbose <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># Custom completion style for `kill` command</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*:kill:*&#x27;</span> <span class="hljs-built_in">command</span> <span class="hljs-string">&#x27;ps -u $USER -o pid,%cpu,tty,cputime,cmd&#x27;</span><br><span class="hljs-built_in">zstyle</span> <span class="hljs-string">&#x27;:completion:*:*:kill:*:processes&#x27;</span> list-colors <span class="hljs-string">&#x27;=(#b) #([0-9]#)*=0=01;31&#x27;</span><br><br><span class="hljs-comment"># Editor and aliases</span><br>EDITOR=vim<br><span class="hljs-built_in">alias</span> c=<span class="hljs-string">&#x27;clear&#x27;</span><br><span class="hljs-built_in">alias</span> nf=<span class="hljs-string">&#x27;fastfetch&#x27;</span><br><span class="hljs-built_in">alias</span> pf=<span class="hljs-string">&#x27;fastfetch&#x27;</span><br><span class="hljs-built_in">alias</span> ff=<span class="hljs-string">&#x27;fastfetch&#x27;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">ls</span>=<span class="hljs-string">&#x27;eza -a --icons&#x27;</span><br><span class="hljs-built_in">alias</span> ll=<span class="hljs-string">&#x27;eza -al --icons&#x27;</span><br><span class="hljs-built_in">alias</span> lt=<span class="hljs-string">&#x27;eza -a --tree --level=1 --icons&#x27;</span><br><span class="hljs-built_in">alias</span> shutdown=<span class="hljs-string">&#x27;systemctl poweroff&#x27;</span><br><span class="hljs-built_in">alias</span> v=<span class="hljs-string">&#x27;$EDITOR&#x27;</span><br><span class="hljs-built_in">alias</span> vim=<span class="hljs-string">&#x27;$EDITOR&#x27;</span><br><span class="hljs-built_in">alias</span> wifi=<span class="hljs-string">&#x27;nmtui&#x27;</span><br><span class="hljs-built_in">alias</span> Qtile=<span class="hljs-string">&#x27;startx&#x27;</span><br><span class="hljs-built_in">alias</span> gs=<span class="hljs-string">&quot;git status&quot;</span><br><span class="hljs-built_in">alias</span> ga=<span class="hljs-string">&quot;git add&quot;</span><br><span class="hljs-built_in">alias</span> gc=<span class="hljs-string">&quot;git commit -m&quot;</span><br><span class="hljs-built_in">alias</span> gp=<span class="hljs-string">&quot;git push&quot;</span><br><span class="hljs-built_in">alias</span> gpl=<span class="hljs-string">&quot;git pull&quot;</span><br><span class="hljs-built_in">alias</span> gst=<span class="hljs-string">&quot;git stash&quot;</span><br><span class="hljs-built_in">alias</span> gsp=<span class="hljs-string">&quot;git stash; git pull&quot;</span><br><span class="hljs-built_in">alias</span> gcheck=<span class="hljs-string">&quot;git checkout&quot;</span><br><span class="hljs-built_in">alias</span> gcredential=<span class="hljs-string">&quot;git config credential.helper store&quot;</span><br><span class="hljs-built_in">alias</span> update-grub=<span class="hljs-string">&#x27;sudo grub-mkconfig -o /boot/grub/grub.cfg&#x27;</span><br><span class="hljs-built_in">alias</span> res1=<span class="hljs-string">&#x27;xrandr --output DisplayPort-0 --mode 2560x1440 --rate 165&#x27;</span><br><span class="hljs-built_in">alias</span> res2=<span class="hljs-string">&#x27;xrandr --output DisplayPort-0 --mode 1920x1080 --rate 165&#x27;</span><br><span class="hljs-built_in">alias</span> setkb=<span class="hljs-string">&#x27;setxkbmap de;echo &quot;Keyboard set back to de.&quot;&#x27;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">cp</span>=<span class="hljs-string">&quot;cp -i&quot;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">df</span>=<span class="hljs-string">&#x27;df -h&#x27;</span><br><span class="hljs-built_in">alias</span> free=<span class="hljs-string">&#x27;free -m&#x27;</span><br><span class="hljs-built_in">alias</span> gitu=<span class="hljs-string">&#x27;git add . &amp;&amp; git commit &amp;&amp; git push&#x27;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">history</span>=<span class="hljs-string">&quot;history 0&quot;</span><br><span class="hljs-built_in">alias</span> grep=<span class="hljs-string">&#x27;grep --color=auto&#x27;</span><br><span class="hljs-built_in">alias</span> fgrep=<span class="hljs-string">&#x27;fgrep --color=auto&#x27;</span><br><span class="hljs-built_in">alias</span> egrep=<span class="hljs-string">&#x27;egrep --color=auto&#x27;</span><br><span class="hljs-built_in">alias</span> diff=<span class="hljs-string">&#x27;diff --color=auto&#x27;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">rm</span>=<span class="hljs-string">&#x27;rm -i&#x27;</span><br><span class="hljs-built_in">alias</span> ip=<span class="hljs-string">&#x27;ip --color=auto&#x27;</span><br><span class="hljs-built_in">alias</span> la=<span class="hljs-string">&#x27;ls -A&#x27;</span><br><br><span class="hljs-comment"># Set options</span><br><span class="hljs-built_in">setopt</span> correct                                                  <span class="hljs-comment"># Auto correct mistakes</span><br><span class="hljs-built_in">setopt</span> extendedglob                                             <span class="hljs-comment"># Extended globbing. Allows using regular expressions with *</span><br><span class="hljs-built_in">setopt</span> nocaseglob                                               <span class="hljs-comment"># Case insensitive globbing</span><br><span class="hljs-built_in">setopt</span> rcexpandparam                                            <span class="hljs-comment"># Array expension with parameters</span><br><span class="hljs-built_in">setopt</span> nocheckjobs                                              <span class="hljs-comment"># Don&#x27;t warn about running processes when exiting</span><br><span class="hljs-built_in">setopt</span> numericglobsort                                          <span class="hljs-comment"># Sort filenames numerically when it makes sense</span><br><span class="hljs-built_in">setopt</span> nobeep                                                   <span class="hljs-comment"># No beep</span><br><span class="hljs-built_in">setopt</span> appendhistory                                            <span class="hljs-comment"># Immediately append history instead of overwriting</span><br><span class="hljs-built_in">setopt</span> histignorealldups                                        <span class="hljs-comment"># If a new command is a duplicate, remove the older one</span><br><span class="hljs-built_in">setopt</span> autocd                                                   <span class="hljs-comment"># if only directory path is entered, cd there.</span><br><span class="hljs-built_in">setopt</span> inc_append_history                                       <span class="hljs-comment"># save commands are added to the history immediately, otherwise only when shell exits.</span><br><span class="hljs-built_in">setopt</span> histignorespace                                          <span class="hljs-comment"># Don&#x27;t save commands that start with space</span><br><span class="hljs-built_in">setopt</span> prompt_subst<br><span class="hljs-built_in">setopt</span> interactivecomments <span class="hljs-comment"># allow comments in interactive mode</span><br><span class="hljs-built_in">setopt</span> magicequalsubst     <span class="hljs-comment"># enable filename expansion for arguments of the form ‘anything=expression’</span><br><span class="hljs-built_in">setopt</span> nonomatch           <span class="hljs-comment"># hide error message if there is no match for the pattern</span><br><span class="hljs-built_in">setopt</span> notify              <span class="hljs-comment"># report the status of background jobs immediately</span><br><span class="hljs-built_in">setopt</span> numericglobsort     <span class="hljs-comment"># sort filenames numerically when it makes sense</span><br><span class="hljs-built_in">setopt</span> promptsubst         <span class="hljs-comment"># enable command substitution in prompt</span><br><span class="hljs-built_in">setopt</span> hist_expire_dups_first <span class="hljs-comment"># delete duplicates first when HISTFILE size exceeds HISTSIZE</span><br><span class="hljs-built_in">setopt</span> hist_ignore_dups       <span class="hljs-comment"># ignore duplicated commands history list</span><br><span class="hljs-built_in">setopt</span> hist_ignore_space      <span class="hljs-comment"># ignore commands that start with space</span><br><span class="hljs-built_in">setopt</span> hist_verify            <span class="hljs-comment"># show command with history expansion to user before running it</span><br><span class="hljs-comment">#setopt share_history         # share command history data</span><br><br><span class="hljs-comment"># Enable emacs key bindings</span><br><span class="hljs-built_in">bindkey</span> -e<br><br><span class="hljs-comment"># Essential key bindings</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[7~&#x27;</span> beginning-of-line                  <span class="hljs-comment"># Home key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[8~&#x27;</span> end-of-line                        <span class="hljs-comment"># End key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[2~&#x27;</span> overwrite-mode                     <span class="hljs-comment"># Insert key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[3~&#x27;</span> delete-char                        <span class="hljs-comment"># Delete key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[C&#x27;</span> forward-char                        <span class="hljs-comment"># Right arrow key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[D&#x27;</span> backward-char                       <span class="hljs-comment"># Left arrow key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[5~&#x27;</span> history-beginning-search-backward  <span class="hljs-comment"># Page Up key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[6~&#x27;</span> history-beginning-search-forward   <span class="hljs-comment"># Page Down key</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[1;5C&#x27;</span> forward-word                     <span class="hljs-comment"># Ctrl + Right arrow (forward word)</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[1;5D&#x27;</span> backward-word                    <span class="hljs-comment"># Ctrl + Left arrow (backward word)</span><br><br><span class="hljs-comment"># Simplified undo and word deletion</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[Z&#x27;</span> undo                                <span class="hljs-comment"># Shift + Tab undo</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^H&#x27;</span> backward-kill-word                    <span class="hljs-comment"># Ctrl + Backspace</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^U&#x27;</span> backward-kill-line                    <span class="hljs-comment"># Ctrl + U</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[3;5~&#x27;</span> kill-word                        <span class="hljs-comment"># Ctrl + Delete</span><br><br><span class="hljs-comment"># History search with up/down keys</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[A&#x27;</span> history-substring-search-up         <span class="hljs-comment"># Up arrow</span><br><span class="hljs-built_in">bindkey</span> <span class="hljs-string">&#x27;^[[B&#x27;</span> history-substring-search-down       <span class="hljs-comment"># Down arrow</span><br><br><span class="hljs-comment"># Use terminfo for portability (optional, for special cases)</span><br><span class="hljs-built_in">typeset</span> -g -A key<br>key[Home]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[khome]&#125;</span>&quot;</span><br>key[End]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kend]&#125;</span>&quot;</span><br>key[Insert]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kich1]&#125;</span>&quot;</span><br>key[Delete]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kdch1]&#125;</span>&quot;</span><br>key[Up]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kcuu1]&#125;</span>&quot;</span><br>key[Down]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kcud1]&#125;</span>&quot;</span><br>key[Left]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kcub1]&#125;</span>&quot;</span><br>key[Right]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kcuf1]&#125;</span>&quot;</span><br>key[PageUp]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[kpp]&#125;</span>&quot;</span><br>key[PageDown]=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;terminfo[knp]&#125;</span>&quot;</span><br><br><span class="hljs-comment"># Use lesspipe for better handling of non-text files</span><br>[ -x /usr/bin/lesspipe ] &amp;&amp; <span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(SHELL=/bin/sh lesspipe)</span>&quot;</span><br><br></code></pre></td></tr></table></figure><p>再输入<code>source ~/.zshrc</code>即可</p><p><img src="/2024/10/13/ubuntu/3.png"></p><h2 id="安装vscode"><a href="#安装vscode" class="headerlink" title="安装vscode"></a>安装<code>vscode</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget <span class="hljs-string">&quot;https://code.visualstudio.com/sha/download?build=stable&amp;os=linux-deb-x64&quot;</span> -O code.deb<br><span class="hljs-built_in">mv</span> code.deb /tmp<br><span class="hljs-built_in">cd</span> /tmp<br><span class="hljs-built_in">sudo</span> apt install ./code.deb<br></code></pre></td></tr></table></figure><h2 id="修复鼠标指针、Qt主题问题"><a href="#修复鼠标指针、Qt主题问题" class="headerlink" title="修复鼠标指针、Qt主题问题"></a>修复鼠标指针、Qt主题问题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> snap install bibata-modern-ice-cursor <span class="hljs-comment"># 示例鼠标指针主题</span><br><span class="hljs-built_in">sudo</span> apt install bibata-cursor-theme<br><span class="hljs-comment"># sudo apt install papirus-icon-theme bibata-cursor-theme orchis-gtk-theme &amp;&amp; sudo snap install bibata-modern-ice-cursor bibata-all-cursor gtk-theme-orchis orchis-themes </span><br><span class="hljs-built_in">ln</span> --symbolic /snap/bibata-modern-ice-cursor/8/share/icons/Bibata-Modern-Ice  ~/.local/share/icons/default<br><span class="hljs-keyword">for</span> plug <span class="hljs-keyword">in</span> $(snap connections | grep gtk-common-themes:icon-themes | awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span>); <span class="hljs-keyword">do</span> <span class="hljs-built_in">sudo</span> snap connect <span class="hljs-variable">$&#123;plug&#125;</span> bibata-all-cursor:icon-themes; <span class="hljs-keyword">done</span> <span class="hljs-comment"># 每次安装完snap应用都执行一下</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;QT_STYLE_OVERRIDE=kvantum&#x27;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> -a /etc/environment<br><span class="hljs-built_in">sudo</span> apt install qt6-style-kvantum qt6-style-kvantum-l10n qt6-style-kvantum-themes <br></code></pre></td></tr></table></figure><p>然后打开<code>kvantum-manager</code>设置主题即可</p><p>最终的<code>/etc/environment</code>文件可能长这样</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">PATH=<span class="hljs-string">&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/home/yoimiya/Downloads/clion-2024.2.3/bin:/home/yoimiya/Downloads/RustRover-2024.2.4/bin:/home/yoimiya/.local/bin:&quot;</span><br><br>QT_STYLE_OVERRIDE=kvantum<br></code></pre></td></tr></table></figure><blockquote><p>强制使用<code>x11</code>, 则使用<code>env QT_QPA_PLATFORM=xcb python3 main.py</code><br>Qt应用程序可用选项举例<code>./PythagoreanTriple -style=adwaita</code> <code>qt6ct -style=kvantum</code> <code>env QT_SCALE_FACTOR=1.25 kate</code> <code>env QT_FONT_DPI=96 kate</code><br>Qt应用程序其他选项<code>QT_AUTO_SCREEN_SCALE_FACTOR=1</code> <code>QT_SCALE_FACTOR=1.5</code><br>Java应用程序缩放问题<code>java -jar -Dglass.gtk.uiScale=150% xxx.jar</code></p></blockquote><h2 id="开启可变刷新率-VRR"><a href="#开启可变刷新率-VRR" class="headerlink" title="开启可变刷新率(VRR)"></a>开启可变刷新率(VRR)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gsettings <span class="hljs-built_in">set</span> org.gnome.mutter experimental-features <span class="hljs-string">&quot;[&#x27;scale-monitor-framebuffer&#x27;, &#x27;kms-modifiers&#x27;, &#x27;autoclose-xwayland&#x27;, &#x27;variable-refresh-rate&#x27;, &#x27;xwayland-native-scaling&#x27;]&quot;</span><br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><h2 id="文件极速查找工具"><a href="#文件极速查找工具" class="headerlink" title="文件极速查找工具"></a>文件极速查找工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install plocate<br><span class="hljs-built_in">sudo</span> updatedb<br><span class="hljs-comment"># sudo updatedb -U /path</span><br>locate something<br></code></pre></td></tr></table></figure><h2 id="图形化软件包管理器"><a href="#图形化软件包管理器" class="headerlink" title="图形化软件包管理器"></a>图形化软件包管理器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install synaptic<br></code></pre></td></tr></table></figure><h2 id="更新系统"><a href="#更新系统" class="headerlink" title="更新系统"></a>更新系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;alias update=&quot;sudo apt update &amp;&amp; sudo apt upgrade -y &amp;&amp; sudo apt autoremove -y &amp;&amp; sudo apt autoclean -y &amp;&amp; sudo snap refresh&quot;&#x27;</span> &gt;&gt; ~/.zshrc<br></code></pre></td></tr></table></figure><h2 id="移除旧版本Snap包"><a href="#移除旧版本Snap包" class="headerlink" title="移除旧版本Snap包"></a>移除旧版本Snap包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">LANG=en_US.UTF-8; snap list --all | awk <span class="hljs-string">&#x27;/disabled/ &#123; system(&quot;sudo snap remove &quot; $1 &quot; --revision=&quot; $3) &#125;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="磁盘空间查看器"><a href="#磁盘空间查看器" class="headerlink" title="磁盘空间查看器"></a>磁盘空间查看器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install filelight<br><span class="hljs-built_in">sudo</span> apt install qml-module-qtquick-shapes<br></code></pre></td></tr></table></figure><h2 id="修复NTFS磁盘无法挂载"><a href="#修复NTFS磁盘无法挂载" class="headerlink" title="修复NTFS磁盘无法挂载"></a>修复NTFS磁盘无法挂载</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> lsblk<br><span class="hljs-built_in">sudo</span> ntfsfix --clear-dirty /dev/nvme0n1p4 <br></code></pre></td></tr></table></figure><h2 id="把桌面换成KDE"><a href="#把桌面换成KDE" class="headerlink" title="把桌面换成KDE"></a>把桌面换成KDE</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install kubuntu-desktop<br></code></pre></td></tr></table></figure><p>然后自行卸载安装输入法</p><h2 id="增大vm-max-map-count以提升游戏体验"><a href="#增大vm-max-map-count以提升游戏体验" class="headerlink" title="增大vm.max_map_count以提升游戏体验"></a>增大<code>vm.max_map_count</code>以提升游戏体验</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;vm.max_map_count = 2147483642&#x27;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> /etc/sysctl.d/80-gamecompatibility.conf<br></code></pre></td></tr></table></figure><h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><ul><li><p>音视频、图像格式转换，压缩，处理<code>sudo apt install ffmpeg imagemagick</code></p></li><li><p>网页视频下载器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install yt-dlp<br></code></pre></td></tr></table></figure><p>可以使用脚本传入选项</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#! /bin/sh</span><br>yt-dlp --cookies-from-browser firefox <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span><br></code></pre></td></tr></table></figure></li><li><p><code>matlab</code>内存不足<br>输入命令<code>sudo echo &gt; /etc/security/limits.d/systemd.conf &quot;* hard nofile 65536&quot;</code></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>gnome</tag>
      
      <tag>ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Manjaro Gnome配置及美化指南</title>
    <link href="/2024/10/08/manjaro/"/>
    <url>/2024/10/08/manjaro/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-e88e9ddf" role="button" aria-expanded="false" aria-controls="collapse-e88e9ddf">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-e88e9ddf">        <div class="fold-content">          <p><a href="https://wiki.archlinux.org/title/GNOME">Gnome(arch_wiki)</a><br><a href="https://extensions.gnome.org/">GnomeExtension</a><br><a href="https://www.gnome-look.org/browse/">GnomeLook</a><br><a href="https://wiki.archlinux.org/title/Swap">Swap</a><br><a href="https://wiki.archlinux.org/title/Uniform_look_for_Qt_and_GTK_applications">统一Qt和GTK应用程序的外观</a></p>        </div>      </div>    </div><h2 id="美化示例"><a href="#美化示例" class="headerlink" title="美化示例"></a>美化示例</h2><p><img src="/2024/10/08/manjaro/manjaro1.png"></p><p><img src="/2024/10/08/manjaro/manjaro2.png"></p><p><img src="/2024/10/08/manjaro/manjaro3.png"></p><h2 id="换源并补全依赖"><a href="#换源并补全依赖" class="headerlink" title="换源并补全依赖"></a>换源并补全依赖</h2><p>选择中科大(ustc)或清华(tsinghua)的镜像站<br>使用<code>uname -r</code>命令查看内核版本, 并选择正确的内核头文件</p><blockquote><p>Bleeding Edge的用户不要换中国源，软件包更新慢</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman-mirrors -i -c China -m rank<br><span class="hljs-built_in">sudo</span> pacman -Syyu base-devel linux-headers power-profiles-daemon gst-libav gst-plugin-pipewire eog vlc xwaylandvideobridge fastfetch gedit locate egl-wayland xdg-desktop-portal xdg-desktop-portal-wlr grim --needed<br></code></pre></td></tr></table></figure><h2 id="安装显卡驱动-虚拟机不需要"><a href="#安装显卡驱动-虚拟机不需要" class="headerlink" title="安装显卡驱动(虚拟机不需要)"></a>安装显卡驱动(虚拟机不需要)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> mhwd -a pci nonfree 0300 <br><span class="hljs-built_in">sudo</span> pacman -R libva-vdpau-driver xf86-video-intel xf86-video-nouveau <span class="hljs-comment">#解决VLC闪退</span><br><span class="hljs-built_in">sudo</span> pacman -S libva-nvidia-driver <span class="hljs-comment">#同上 </span><br></code></pre></td></tr></table></figure><h2 id="创建并使用交换文件-如果安装时没有交换分区"><a href="#创建并使用交换文件-如果安装时没有交换分区" class="headerlink" title="创建并使用交换文件(如果安装时没有交换分区)"></a>创建并使用交换文件(如果安装时没有交换分区)</h2><p>这里以16G为例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">su<br>mkswap -U clear --size 16G --file /swapfile<br>swapon /swapfile<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;/swapfile none swap defaults 0 0&#x27;</span> &gt;&gt; /etc/fstab<br><span class="hljs-built_in">cat</span> /etc/fstab<br>free -h<br>reboot<br>free -h<br></code></pre></td></tr></table></figure><h2 id="添加-archlinuxcn-源-安装yay助手"><a href="#添加-archlinuxcn-源-安装yay助手" class="headerlink" title="添加[archlinuxcn]源, 安装yay助手"></a>添加[archlinuxcn]源, 安装yay助手</h2><p>在<code>etc/pacman.conf</code>文件末尾添加:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs conf">[archlinuxcn]<br>Server = https://mirrors.ustc.edu.cn/archlinuxcn/$arch<br></code></pre></td></tr></table></figure><p>然后安装密钥并更新</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -Syy archlinuxcn-keyring<br><span class="hljs-built_in">sudo</span> pacman -Syyu yay<br>yay -S 7-zip octopi bleachbit <span class="hljs-comment"># 软件包缓存清理和垃圾清理工具</span><br></code></pre></td></tr></table></figure><h2 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h2><h2 id="简体中文本地化"><a href="#简体中文本地化" class="headerlink" title="简体中文本地化"></a><a href="https://wiki.archlinuxcn.org/wiki/%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E6%9C%AC%E5%9C%B0%E5%8C%96#">简体中文本地化</a></h2><h3 id="安装字体和输入法"><a href="#安装字体和输入法" class="headerlink" title="安装字体和输入法"></a>安装字体和输入法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S adobe-source-han-sans-jp-fonts adobe-source-han-serif-jp-fonts adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts poppler-data noto-fonts-cjk noto-fonts-emoji ttf-roboto noto-fonts man-pages-zh_cn ttf-dejavu ibus ibus-libpinyin<br>yay -S ibus-mozc mozc-ut <span class="hljs-comment"># 日文输入法, 安装后重启, 在设置添加即可, 并编辑~/.config/mozc/ibus_config.textproto修改active_on_launch为True</span><br></code></pre></td></tr></table></figure><h3 id="修复字形"><a href="#修复字形" class="headerlink" title="修复字形"></a>修复字形</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">touch</span> /etc/fonts/conf.d/64-language-selector-prefer.conf<br><span class="hljs-built_in">sudo</span> nano /etc/fonts/conf.d/64-language-selector-prefer.conf<br></code></pre></td></tr></table></figure><p>写入以下配置:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">fontconfig</span> <span class="hljs-keyword">SYSTEM</span> <span class="hljs-string">&quot;fonts.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fontconfig</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- sans-serif alias --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>sans-serif<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Noto Sans CJK family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Source Han Sans family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans HW<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans K<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br>  <br>  <span class="hljs-comment">&lt;!-- monospace alias --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>monospace<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Noto Sans Mono CJK family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Source Han Sans family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans HW<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans K<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fontconfig</span>&gt;</span><br></code></pre></td></tr></table></figure><p>刷新字体缓存, 重启</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">fc-cache -fv<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><h3 id="配置中文输入法-安装词典"><a href="#配置中文输入法-安装词典" class="headerlink" title="配置中文输入法, 安装词典"></a>配置中文输入法, 安装词典</h3><p>打开云拼音和内置词典</p><p><img src="/2024/10/08/manjaro/1.png"></p><p><img src="/2024/10/08/manjaro/2.png"></p><p>设置可以导入用户词典, 比如<a href="https://github.com/broly8/libpinyin-dict">这个仓库</a></p><h3 id="安装windows字体"><a href="#安装windows字体" class="headerlink" title="安装windows字体"></a>安装windows字体</h3><ul><li>方法一: 使用软件仓库</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> usermod -aG disk <span class="hljs-variable">$USER</span><br>yay -S httpdirfs<br>yay -S ttf-ms-win11-auto<br><span class="hljs-comment"># yay -S ttf-ms-win10-auto</span><br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><ul><li>方法二: 使用镜像提取</li></ul><p>把windows的ISO内的<code>source/install.wim</code>复制到主目录, 然后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ~<br>7z e install.wim Windows/&#123;Fonts/<span class="hljs-string">&quot;*&quot;</span>.&#123;ttf,ttc&#125;,System32/Licenses/neutral/<span class="hljs-string">&quot;*&quot;</span>/<span class="hljs-string">&quot;*&quot;</span>/license.rtf&#125; -ofonts/<br><span class="hljs-built_in">mkdir</span> ~/.local/share/fonts<br><span class="hljs-built_in">mv</span> ~/fonts/* ~/.local/share/fonts/<br>fc-cache -fv<br></code></pre></td></tr></table></figure><h3 id="安装编程字体"><a href="#安装编程字体" class="headerlink" title="安装编程字体"></a><a href="https://www.nerdfonts.com/font-downloads">安装编程字体</a></h3><p>以FiraCode为例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span><br>wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.2.1/FiraCode.zip<br>unzip FiraCode.zip -d ~/.local/share/fonts<br><span class="hljs-built_in">rm</span> FiraCode.zip<br>fc-cache -fv<br></code></pre></td></tr></table></figure><h2 id="使用Alacritty终端"><a href="#使用Alacritty终端" class="headerlink" title="使用Alacritty终端"></a>使用<code>Alacritty</code>终端</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S alacritty<br><span class="hljs-built_in">mkdir</span> ~/.config/alacritty/<br><span class="hljs-built_in">touch</span> ~/.config/alacritty/alacritty.toml<br>gedit ~/.config/alacritty/alacritty.toml<br></code></pre></td></tr></table></figure><p>添加以下内容:</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs toml"><span class="hljs-section">[font]</span><br><span class="hljs-attr">size</span> = <span class="hljs-number">12.0</span><br><br><span class="hljs-section">[font.normal]</span><br><span class="hljs-attr">family</span> = <span class="hljs-string">&quot;FiraCode Nerd Font&quot;</span><br><span class="hljs-attr">style</span> = <span class="hljs-string">&quot;Regular&quot;</span><br><br><span class="hljs-section">[window]</span><br><span class="hljs-attr">opacity</span> = <span class="hljs-number">0.9</span><br><span class="hljs-attr">dynamic_padding</span> = <span class="hljs-literal">true</span><br><span class="hljs-attr">blur</span> = <span class="hljs-literal">true</span><br><br><span class="hljs-section">[window.padding]</span><br><span class="hljs-attr">x</span> = <span class="hljs-number">15</span><br><span class="hljs-attr">y</span> = <span class="hljs-number">15</span><br><br><span class="hljs-section">[window.dimensions]</span><br><span class="hljs-attr">columns</span> = <span class="hljs-number">120</span><br><span class="hljs-attr">lines</span> = <span class="hljs-number">36</span><br><br><span class="hljs-section">[selection]</span><br><span class="hljs-attr">save_to_clipboard</span> = <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><blockquote><p><code>CachyOS</code>的配置可以在<a href="https://github.com/CachyOS/cachyos-alacritty-config/blob/master/etc/skel/.config/alacritty/alacritty.toml">这里</a>找到, 源文件内容如下</p></blockquote>  <figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><code class="hljs toml"><span class="hljs-section">[env]</span><br><span class="hljs-attr">TERM</span> = <span class="hljs-string">&quot;xterm-256color&quot;</span><br><span class="hljs-attr">WINIT_X11_SCALE_FACTOR</span> = <span class="hljs-string">&quot;1&quot;</span><br><br><span class="hljs-section">[window]</span><br><span class="hljs-attr">dynamic_padding</span> = <span class="hljs-literal">true</span><br><span class="hljs-attr">decorations</span> = <span class="hljs-string">&quot;full&quot;</span><br><span class="hljs-attr">title</span> = <span class="hljs-string">&quot;Alacritty@CachyOS&quot;</span><br><span class="hljs-attr">opacity</span> = <span class="hljs-number">0.8</span><br><span class="hljs-attr">decorations_theme_variant</span> = <span class="hljs-string">&quot;Dark&quot;</span><br><br><span class="hljs-section">[window.dimensions]</span><br><span class="hljs-attr">columns</span> = <span class="hljs-number">140</span><br><span class="hljs-attr">lines</span> = <span class="hljs-number">40</span><br><br><span class="hljs-section">[window.class]</span><br><span class="hljs-attr">instance</span> = <span class="hljs-string">&quot;Alacritty&quot;</span><br><span class="hljs-attr">general</span> = <span class="hljs-string">&quot;Alacritty&quot;</span><br><br><span class="hljs-section">[scrolling]</span><br><span class="hljs-attr">history</span> = <span class="hljs-number">10000</span><br><span class="hljs-attr">multiplier</span> = <span class="hljs-number">3</span><br><br><span class="hljs-section">[colors]</span><br><span class="hljs-attr">draw_bold_text_with_bright_colors</span> = <span class="hljs-literal">true</span><br><br><span class="hljs-section">[colors.primary]</span><br><span class="hljs-attr">background</span> = <span class="hljs-string">&quot;0x2E3440&quot;</span><br><span class="hljs-attr">foreground</span> = <span class="hljs-string">&quot;0xD8DEE9&quot;</span><br><br><span class="hljs-section">[colors.normal]</span><br><span class="hljs-attr">black</span> = <span class="hljs-string">&quot;0x3B4252&quot;</span><br><span class="hljs-attr">red</span> = <span class="hljs-string">&quot;0xBF616A&quot;</span><br><span class="hljs-attr">green</span> = <span class="hljs-string">&quot;0xA3BE8C&quot;</span><br><span class="hljs-attr">yellow</span> = <span class="hljs-string">&quot;0xEBCB8B&quot;</span><br><span class="hljs-attr">blue</span> = <span class="hljs-string">&quot;0x81A1C1&quot;</span><br><span class="hljs-attr">magenta</span> = <span class="hljs-string">&quot;0xB48EAD&quot;</span><br><span class="hljs-attr">cyan</span> = <span class="hljs-string">&quot;0x88C0D0&quot;</span><br><span class="hljs-attr">white</span> = <span class="hljs-string">&quot;0xE5E9F0&quot;</span><br><br><span class="hljs-section">[colors.bright]</span><br><span class="hljs-attr">black</span> = <span class="hljs-string">&quot;0x4C566A&quot;</span><br><span class="hljs-attr">red</span> = <span class="hljs-string">&quot;0xBF616A&quot;</span><br><span class="hljs-attr">green</span> = <span class="hljs-string">&quot;0xA3BE8C&quot;</span><br><span class="hljs-attr">yellow</span> = <span class="hljs-string">&quot;0xEBCB8B&quot;</span><br><span class="hljs-attr">blue</span> = <span class="hljs-string">&quot;0x81A1C1&quot;</span><br><span class="hljs-attr">magenta</span> = <span class="hljs-string">&quot;0xB48EAD&quot;</span><br><span class="hljs-attr">cyan</span> = <span class="hljs-string">&quot;0x8FBCBB&quot;</span><br><span class="hljs-attr">white</span> = <span class="hljs-string">&quot;0xECEFF4&quot;</span><br><br><span class="hljs-section">[font]</span><br><span class="hljs-attr">size</span> = <span class="hljs-number">12</span><br><br><span class="hljs-section">[font.normal]</span><br><span class="hljs-attr">family</span> = <span class="hljs-string">&quot;FiraCode Nerd Font&quot;</span><br><span class="hljs-attr">style</span> = <span class="hljs-string">&quot;Regular&quot;</span><br><br><span class="hljs-section">[font.bold]</span><br><span class="hljs-attr">family</span> = <span class="hljs-string">&quot;FiraCode Nerd Font&quot;</span><br><span class="hljs-attr">style</span> = <span class="hljs-string">&quot;Bold&quot;</span><br><br><span class="hljs-section">[font.italic]</span><br><span class="hljs-attr">family</span> = <span class="hljs-string">&quot;FiraCode Nerd Font&quot;</span><br><span class="hljs-attr">style</span> = <span class="hljs-string">&quot;Italic&quot;</span><br><br><span class="hljs-section">[font.bold_italic]</span><br><span class="hljs-attr">family</span> = <span class="hljs-string">&quot;FiraCode Nerd Font&quot;</span><br><span class="hljs-attr">style</span> = <span class="hljs-string">&quot;Bold Italic&quot;</span><br><br><span class="hljs-section">[selection]</span><br><span class="hljs-attr">semantic_escape_chars</span> = <span class="hljs-string">&quot;,│`|:\&quot;&#x27; ()[]&#123;&#125;&lt;&gt;\t&quot;</span><br><span class="hljs-attr">save_to_clipboard</span> = <span class="hljs-literal">true</span><br><br><span class="hljs-section">[cursor]</span><br><span class="hljs-attr">style</span> = <span class="hljs-string">&quot;Underline&quot;</span><br><span class="hljs-attr">vi_mode_style</span> = <span class="hljs-string">&quot;None&quot;</span><br><span class="hljs-attr">unfocused_hollow</span> = <span class="hljs-literal">true</span><br><span class="hljs-attr">thickness</span> = <span class="hljs-number">0.15</span><br><br><span class="hljs-section">[mouse]</span><br><span class="hljs-attr">hide_when_typing</span> = <span class="hljs-literal">true</span><br><br><span class="hljs-section">[[mouse.bindings]]</span><br><span class="hljs-attr">mouse</span> = <span class="hljs-string">&quot;Middle&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;PasteSelection&quot;</span><br><br><span class="hljs-section">[keyboard]</span><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;Paste&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;Paste&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;Copy&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;Copy&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;L&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ClearLogNotice&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;L&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control&quot;</span><br><span class="hljs-attr">mode</span> = <span class="hljs-string">&quot;~Vi&quot;</span><br><span class="hljs-attr">chars</span> = <span class="hljs-string">&quot;\f&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;PageUp&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Shift&quot;</span><br><span class="hljs-attr">mode</span> = <span class="hljs-string">&quot;~Alt&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ScrollPageUp&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;PageDown&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Shift&quot;</span><br><span class="hljs-attr">mode</span> = <span class="hljs-string">&quot;~Alt&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ScrollPageDown&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;Home&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Shift&quot;</span><br><span class="hljs-attr">mode</span> = <span class="hljs-string">&quot;~Alt&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ScrollToTop&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;End&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Shift&quot;</span><br><span class="hljs-attr">mode</span> = <span class="hljs-string">&quot;~Alt&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ScrollToBottom&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;V&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control|Shift&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;Paste&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;C&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control|Shift&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;Copy&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;F&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control|Shift&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;SearchForward&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;B&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control|Shift&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;SearchBackward&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;C&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control|Shift&quot;</span><br><span class="hljs-attr">mode</span> = <span class="hljs-string">&quot;Vi&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ClearSelection&quot;</span><br><br><span class="hljs-section">[[keyboard.bindings]]</span><br><span class="hljs-attr">key</span> = <span class="hljs-string">&quot;Key0&quot;</span><br><span class="hljs-attr">mods</span> = <span class="hljs-string">&quot;Control&quot;</span><br><span class="hljs-attr">action</span> = <span class="hljs-string">&quot;ResetFontSize&quot;</span><br><br><span class="hljs-section">[general]</span><br><span class="hljs-attr">live_config_reload</span> = <span class="hljs-literal">true</span><br><span class="hljs-attr">working_directory</span> = <span class="hljs-string">&quot;None&quot;</span><br></code></pre></td></tr></table></figure><blockquote><p><code>zsh</code>输入<code>p10k configure</code> 可以重新设置zsh主题</p></blockquote><h2 id="来看看系统设置"><a href="#来看看系统设置" class="headerlink" title="来看看系统设置"></a>来看看系统设置</h2><h3 id="设置合适的分辨率-屏幕刷新率-并打开夜间模式"><a href="#设置合适的分辨率-屏幕刷新率-并打开夜间模式" class="headerlink" title="设置合适的分辨率, 屏幕刷新率, 并打开夜间模式"></a>设置合适的分辨率, 屏幕刷新率, 并打开夜间模式</h3><h3 id="5min熄屏设置为从不"><a href="#5min熄屏设置为从不" class="headerlink" title="5min熄屏设置为从不"></a>5min熄屏设置为<code>从不</code></h3><h3 id="外观-设置喜欢的壁纸"><a href="#外观-设置喜欢的壁纸" class="headerlink" title="外观, 设置喜欢的壁纸"></a>外观, 设置喜欢的壁纸</h3><h3 id="默认应用示例"><a href="#默认应用示例" class="headerlink" title="默认应用示例"></a>默认应用示例</h3><p><img src="/2024/10/08/manjaro/3.png"></p><h3 id="设置自定义快捷键"><a href="#设置自定义快捷键" class="headerlink" title="设置自定义快捷键"></a>设置自定义快捷键</h3><p>示例设置打开主目录, 浏览器, 终端的快捷键</p><p><img src="/2024/10/08/manjaro/4.png"></p><p><img src="/2024/10/08/manjaro/5.png"></p><p><img src="/2024/10/08/manjaro/6.png"></p><h3 id="关于打印机-Manjaro应该开箱即用-否则查看此链接CUPS"><a href="#关于打印机-Manjaro应该开箱即用-否则查看此链接CUPS" class="headerlink" title="关于打印机, Manjaro应该开箱即用, 否则查看此链接CUPS"></a>关于打印机, Manjaro应该开箱即用, 否则查看此链接<a href="https://wiki.archlinux.org/title/CUPS">CUPS</a></h3><h3 id="日期和时间设置"><a href="#日期和时间设置" class="headerlink" title="日期和时间设置"></a>日期和时间设置</h3><p><img src="/2024/10/08/manjaro/7.png"></p><h3 id="设置用户头像"><a href="#设置用户头像" class="headerlink" title="设置用户头像"></a>设置用户头像</h3><h2 id="设置Nautilus"><a href="#设置Nautilus" class="headerlink" title="设置Nautilus"></a>设置<code>Nautilus</code></h2><p><img src="/2024/10/08/manjaro/8.png"></p><h2 id="再看看Tweaks"><a href="#再看看Tweaks" class="headerlink" title="再看看Tweaks"></a>再看看<code>Tweaks</code></h2><h3 id="自定义系统字体-并按需改变字体DPI"><a href="#自定义系统字体-并按需改变字体DPI" class="headerlink" title="自定义系统字体, 并按需改变字体DPI"></a>自定义系统字体, 并按需改变字体DPI</h3><h3 id="设置主题和背景"><a href="#设置主题和背景" class="headerlink" title="设置主题和背景"></a>设置主题和背景</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yay -S orchis-theme<br></code></pre></td></tr></table></figure><p><img src="/2024/10/08/manjaro/8-1.png"></p><h3 id="添加窗口按钮和居中显示"><a href="#添加窗口按钮和居中显示" class="headerlink" title="添加窗口按钮和居中显示"></a>添加窗口按钮和居中显示</h3><p><img src="/2024/10/08/manjaro/9.png"></p><h3 id="自定义开机启动的程序"><a href="#自定义开机启动的程序" class="headerlink" title="自定义开机启动的程序"></a>自定义开机启动的程序</h3><h2 id="安装并配置拓展"><a href="#安装并配置拓展" class="headerlink" title="安装并配置拓展"></a>安装并配置拓展</h2><h3 id="安装部分依赖"><a href="#安装部分依赖" class="headerlink" title="安装部分依赖"></a>安装部分依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yay -S gnome-browser-connector touchegg<br></code></pre></td></tr></table></figure><p>打开<code>Firefox</code>浏览器, 进入拓展<a href="https://extensions.gnome.org/">网站</a>, 加入收藏夹, 点击页面上的<code>Click here to install browser extension</code>, 然后刷新页面</p><h3 id="安装农历插件依赖"><a href="#安装农历插件依赖" class="headerlink" title="安装农历插件依赖"></a>安装农历插件依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span><br><span class="hljs-built_in">sudo</span> pacman -S cpio<br>git <span class="hljs-built_in">clone</span> https://gitlab.gnome.org/Nei/ChineseCalendar.git<br><span class="hljs-built_in">cd</span> ChineseCalendar<br><span class="hljs-built_in">chmod</span> +x install.sh<br>./install.sh<br></code></pre></td></tr></table></figure><h3 id="示例拓展列表"><a href="#示例拓展列表" class="headerlink" title="示例拓展列表:"></a>示例拓展列表:</h3><p><img src="/2024/10/08/manjaro/10.png"></p><p><img src="/2024/10/08/manjaro/11.png"></p><p><img src="/2024/10/08/manjaro/12.png"></p><h3 id="简单配置"><a href="#简单配置" class="headerlink" title="简单配置"></a>简单配置</h3><ul><li><code>Dash to Dock</code>使用内置主题</li><li><code>AppIndicator and KStatusNotifierItem Support</code>可以把图标放左边, 缓解200%缩放率导致的右侧图标过挤</li><li>根据需要自定义Dock拦内的应用</li></ul><h2 id="GDM开启所有桌面选项"><a href="#GDM开启所有桌面选项" class="headerlink" title="GDM开启所有桌面选项"></a>GDM开启所有桌面选项</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">ln</span> -s /dev/null /etc/udev/rules.d/61-gdm.rules <br></code></pre></td></tr></table></figure><h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><ul><li><p>Slow loading of system icons&#x2F;slow GDM login: Problems with the loading of system icons, such the ones in the title bar of Files, might be solved by executing the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> gdk-pixbuf-query-loaders --update-cache<br></code></pre></td></tr></table></figure><p>Running the aforementioned command may also fix repeated occurrences of the “Oh no! Something has gone wrong!” error screen and&#x2F;or very slow loading and login with GDM as described in the following forum thread. </p></li><li><p>开启Wayland: 可以使用<code>Manjaro</code>自带的<code>Layout Switcher</code></p></li><li><p>spectacle&#x2F;flameshot截图工具</p></li><li><p>对于<code>flameshot</code>无法在<code>wayland</code>下运行, 这样启动: <code>env XDG_SESSION_TYPE= QT_QPA_PLATFORM=wayland flameshot &amp;</code></p></li><li><p>GnomeCalendar可以添加日历订阅链接</p></li><li><p>Enable button and menu icons: <code>gsettings set org.gnome.settings-daemon.plugins.xsettings overrides &quot;&#123;&#39;Gtk/ButtonImages&#39;: &lt;1&gt;, &#39;Gtk/MenuImages&#39;: &lt;1&gt;&#125;&quot;</code></p></li><li><p>对于QEMU&#x2F;KVM虚拟机里的archlinux, 输入<code>sudo pacman -S spice-vdagent xf86-video-qxl qemu-guest-agent</code>, 然后编辑<code>/etc/mkinitcpio.conf</code>文件, 然后修改开头<code>MODULES=(qxl virtio-gpu virtio virtio_scsi virtio_blk virtio_pci virtio_net virtio_ring)</code>, 再<code>sudo mkinitcpio -P</code>重新生成镜像即可</p></li><li><p>中文压缩包乱码, 使用: <code>unzip -O gbk file.zip</code></p></li><li><p>列出特定仓库软件包<code>pacman -Sl archlinuxcn | grep &#39;\[installed\]&#39;</code></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>gnome</tag>
      
      <tag>manjaro</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用oh-my-posh美化Windows和WSL终端</title>
    <link href="/2024/10/07/oh-my-posh/"/>
    <url>/2024/10/07/oh-my-posh/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-dbf3d9e3" role="button" aria-expanded="false" aria-controls="collapse-dbf3d9e3">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-dbf3d9e3">        <div class="fold-content">          <p><a href="https://ohmyposh.dev/docs/">oh-my-posh文档</a><br><a href="https://learn.microsoft.com/zh-cn/powershell">PowerShell文档</a><br><a href="https://learn.microsoft.com/zh-cn/windows/terminal">Windows终端文档</a></p>        </div>      </div>    </div><h2 id="请自行解决代理问题"><a href="#请自行解决代理问题" class="headerlink" title="请自行解决代理问题"></a>请自行解决代理问题</h2><h2 id="开启PowerShell开发者选项"><a href="#开启PowerShell开发者选项" class="headerlink" title="开启PowerShell开发者选项"></a>开启PowerShell开发者选项</h2><p><img src="/2024/10/07/oh-my-posh/1.png"></p><h2 id="安装Nerd-Font"><a href="#安装Nerd-Font" class="headerlink" title="安装Nerd Font"></a>安装<a href="https://www.nerdfonts.com/font-downloads">Nerd Font</a></h2><p>以<code>MesloLG Nerd Font</code>为例</p><p><img src="/2024/10/07/oh-my-posh/2.png"></p><p>下载解压, 全选字体文件, 右键安装即可</p><p><img src="/2024/10/07/oh-my-posh/3.png"></p><h2 id="更改终端字体"><a href="#更改终端字体" class="headerlink" title="更改终端字体"></a>更改终端字体</h2><p>打开终端, 设置处选择默认配置, 外观, 字体, 选择刚刚安装的<code>Nerd</code>字体, 保存</p><p><img src="/2024/10/07/oh-my-posh/4.png"></p><h2 id="可选-进行其他配置"><a href="#可选-进行其他配置" class="headerlink" title="(可选)进行其他配置"></a>(可选)进行其他配置</h2><p>可在设置处选择开启<code>亚克力</code>以及背景透明度</p><p><img src="/2024/10/07/oh-my-posh/4-1.png"></p><p><img src="/2024/10/07/oh-my-posh/4-2.png"></p><h2 id="可选-可能导致其他应用程序乱码-把Windows终端设置默认UTF-8"><a href="#可选-可能导致其他应用程序乱码-把Windows终端设置默认UTF-8" class="headerlink" title="(可选, 可能导致其他应用程序乱码)把Windows终端设置默认UTF-8"></a>(可选, 可能导致其他应用程序乱码)把Windows终端设置默认UTF-8</h2><p>在控制面板的<code>时钟和区域</code>内更改, 完成后重启电脑</p><p><img src="/2024/10/07/oh-my-posh/5.png"></p><h2 id="安装oh-my-posh"><a href="#安装oh-my-posh" class="headerlink" title="安装oh-my-posh"></a>安装<code>oh-my-posh</code></h2><p>使用<code>winget</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">winget install JanDeDobbeleer.OhMyPosh <span class="hljs-literal">-s</span> winget<br></code></pre></td></tr></table></figure><p><img src="/2024/10/07/oh-my-posh/6.png"></p><p>安装完成后重启终端</p><h2 id="配置Windows的oh-my-posh"><a href="#配置Windows的oh-my-posh" class="headerlink" title="配置Windows的oh-my-posh"></a>配置Windows的<code>oh-my-posh</code></h2><p>新建并编辑配置文件</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell"><span class="hljs-built_in">New-Item</span> <span class="hljs-literal">-Path</span> <span class="hljs-variable">$PROFILE</span> <span class="hljs-literal">-Type</span> File <span class="hljs-literal">-Force</span><br>notepad <span class="hljs-variable">$PROFILE</span><br></code></pre></td></tr></table></figure><p>在<a href="https://ohmyposh.dev/docs/themes">此处</a>找到适合的主题, 在记事本处输入如下内容</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell"><span class="hljs-built_in">oh</span><span class="hljs-literal">-my-posh</span> init pwsh <span class="hljs-literal">--config</span> <span class="hljs-string">&quot;<span class="hljs-variable">$env:POSH_THEMES_PATH</span>/powerlevel10k_rainbow.omp.json&quot;</span> | <span class="hljs-built_in">Invoke-Expression</span><br></code></pre></td></tr></table></figure><p><img src="/2024/10/07/oh-my-posh/7.png"></p><p>关掉并重新打开终端, 即可看到主题效果</p><p><img src="/2024/10/07/oh-my-posh/8.png"></p><h2 id="配置WSL的oh-my-posh-以zsh为例"><a href="#配置WSL的oh-my-posh-以zsh为例" class="headerlink" title="配置WSL的oh-my-posh(以zsh为例)"></a>配置WSL的<code>oh-my-posh</code>(以zsh为例)</h2><p>在WSL内输入如下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install unzip -y<br>curl -s https://ohmyposh.dev/install.sh | bash -s<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;export PATH=$PATH:/home/yoimiya/.local/bin&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">source</span> ~/.zshrc<br><span class="hljs-built_in">cd</span><br>wget https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/main/themes/powerlevel10k_rainbow.omp.json<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;eval &quot;$(oh-my-posh init zsh --config ~/powerlevel10k_rainbow.omp.json)&quot;&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;cd ~/&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><p>完成后可以看到主题效果</p><p><img src="/2024/10/07/oh-my-posh/9.png"></p><h2 id="使用Terminal-Icons添加缺少的文件夹或文件图标"><a href="#使用Terminal-Icons添加缺少的文件夹或文件图标" class="headerlink" title="使用Terminal-Icons添加缺少的文件夹或文件图标"></a>使用<code>Terminal-Icons</code>添加缺少的文件夹或文件图标</h2><p>在Windows终端输入<code>Install-Module -Name Terminal-Icons -Repository PSGallery</code></p><p>然后把<code>Import-Module -Name Terminal-Icons</code>添加到<code>$PROFILE</code>文件即可</p><p><img src="/2024/10/07/oh-my-posh/10.png"></p><h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><ul><li>可以在Windows应用商店安装新版记事本和截图工具等</li><li>在Windows的终端输入PowerShell命令可以按<code>F2</code>切换历史记录显示方式</li><li>PowerShell启动命令建议: <code>Enable-ExperimentalFeature PSCommandNotFoundSuggestion</code></li></ul><h2 id="更多配置请参阅开头参考链接"><a href="#更多配置请参阅开头参考链接" class="headerlink" title="更多配置请参阅开头参考链接"></a>更多配置请参阅开头参考链接</h2>]]></content>
    
    
    <categories>
      
      <category>Windows Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win11</tag>
      
      <tag>Linux</tag>
      
      <tag>PowerShell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Win11LTSC(24H2)配置C++开发环境</title>
    <link href="/2024/10/06/win11-cpp/"/>
    <url>/2024/10/06/win11-cpp/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-de932485" role="button" aria-expanded="false" aria-controls="collapse-de932485">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-de932485">        <div class="fold-content">          <p><a href="https://code.visualstudio.com/Docs">vscode文档</a></p>        </div>      </div>    </div><h2 id="恢复应用商店"><a href="#恢复应用商店" class="headerlink" title="恢复应用商店"></a>恢复应用商店</h2><p>按下<code>win+x</code>打开管理员<code>PowerShell</code>，并输入如下命令</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsreset <span class="hljs-literal">-i</span><br></code></pre></td></tr></table></figure><p><img src="/2024/10/06/win11-cpp/1.png"></p><h2 id="安装Windows终端和PowerShell7"><a href="#安装Windows终端和PowerShell7" class="headerlink" title="安装Windows终端和PowerShell7"></a>安装Windows终端和PowerShell7</h2><p>在应用商店搜索安装即可</p><p><img src="/2024/10/06/win11-cpp/2.png"></p><p><img src="/2024/10/06/win11-cpp/3.png"></p><p>再次按下<code>win+x</code>打开<code>终端管理员</code>，设置默认终端</p><p><img src="/2024/10/06/win11-cpp/4.png"></p><h2 id="安装WSL2-kali-linux"><a href="#安装WSL2-kali-linux" class="headerlink" title="安装WSL2(kali-linux)"></a>安装WSL2(kali-linux)</h2><p>在Windows终端输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsl <span class="hljs-literal">--install</span> <span class="hljs-literal">-d</span> kali<span class="hljs-literal">-linux</span><br></code></pre></td></tr></table></figure><p>这个命令将会启用虚拟机平台, WSL等功能，并安装内核更新包和kali-linux发行版, 对于手动安装过程，请参考<a href="https://yoimiyalove.top/2024/08/22/wsl/">WSL开发环境搭建(kali-linux篇)</a></p><p><img src="/2024/10/06/win11-cpp/5.png"></p><p>之后重启系统</p><h2 id="配置kali-linux"><a href="#配置kali-linux" class="headerlink" title="配置kali-linux"></a>配置kali-linux</h2><h3 id="设置用户名-切换终端"><a href="#设置用户名-切换终端" class="headerlink" title="设置用户名, 切换终端"></a>设置用户名, 切换终端</h3><p>在开始菜单选中<code>kali-linux</code>并打开, 完成后续的安装后提示输入用户名, 最好输入全小写字母的名字, 并设置好密码</p><p>使用<code>chsh -s /usr/bin/zsh</code>切换终端为zsh, 接着输入<code>exit</code>退出</p><p><img src="/2024/10/06/win11-cpp/6.png"></p><p>再次通过开始菜单进入, 检查zsh语法高亮是否正常</p><p><img src="/2024/10/06/win11-cpp/7.png"></p><h3 id="重置root密码"><a href="#重置root密码" class="headerlink" title="重置root密码"></a>重置root密码</h3><p>输入<code>sudo su</code>, 并输入刚刚设置的(管理员)密码, 进入<code>root</code>用户, 接着输入<code>passwd</code>修改<code>root</code>密码, 再输入<code>exit</code>退出<code>root</code>用户</p><p><img src="/2024/10/06/win11-cpp/8.png"></p><h3 id="把WSL迁移到D盘"><a href="#把WSL迁移到D盘" class="headerlink" title="把WSL迁移到D盘"></a>把WSL迁移到D盘</h3><p>打开Windows终端，输入下列命令：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsl <span class="hljs-literal">--shutdown</span><br>mkdir D:\wsl<br>mkdir D:\wsl\kali<br>wsl <span class="hljs-literal">--export</span> kali<span class="hljs-literal">-linux</span> D:\wsl\kali.tar  <span class="hljs-comment"># 导出kali</span><br>wsl <span class="hljs-literal">--unregister</span> kali<span class="hljs-literal">-linux</span>   <span class="hljs-comment"># 注销原来的发行版</span><br>wsl <span class="hljs-literal">--import</span> kali<span class="hljs-literal">-linux</span> D:\wsl\kali D:\wsl\kali.tar <span class="hljs-literal">--version</span> <span class="hljs-number">2</span>  <span class="hljs-comment"># 导入kali</span><br><span class="hljs-built_in">rm</span> D:\wsl\kali.tar  <span class="hljs-comment"># 删除tar文件</span><br>wsl <span class="hljs-literal">-d</span> kali<span class="hljs-literal">-linux</span>  <span class="hljs-comment"># 进入kali</span><br></code></pre></td></tr></table></figure><p><img src="/2024/10/06/win11-cpp/9.png"></p><p>迁移后默认以<code>root</code>身份进入，接下来进入WSL，用<code>nano</code>编辑<code>/etc/wsl.conf</code>文件。假设<code>yoimiya</code>是之前的默认用户名：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[boot]</span><br><span class="hljs-attr">systemd</span>=<span class="hljs-literal">true</span><br><br><span class="hljs-section">[user]</span><br><span class="hljs-attr">default</span>=yoimiya<br></code></pre></td></tr></table></figure><p>按下<code>Ctrl+o</code>写入再按下<code>Ctrl+x</code>退出<code>nano</code>编辑器, 再退出WSL</p><p><img src="/2024/10/06/win11-cpp/10.png"></p><p><img src="/2024/10/06/win11-cpp/11.png"></p><p><img src="/2024/10/06/win11-cpp/12.png"></p><h3 id="换源并更新系统"><a href="#换源并更新系统" class="headerlink" title="换源并更新系统"></a>换源并更新系统</h3><blockquote><p>提示: Windows终端支持鼠标右键粘贴</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak<br><span class="hljs-built_in">sudo</span> nano /etc/apt/sources.list<br></code></pre></td></tr></table></figure><p>编辑 <code>/etc/apt/sources.list</code> 文件， 在文件最前面添加以下条目：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">deb https<span class="hljs-punctuation">:</span><span class="hljs-comment">//mirrors.ustc.edu.cn/kali kali-rolling main non-free non-free-firmware contrib</span><br>deb<span class="hljs-punctuation">-</span>src https<span class="hljs-punctuation">:</span><span class="hljs-comment">//mirrors.ustc.edu.cn/kali kali-rolling main non-free non-free-firmware contrib</span><br></code></pre></td></tr></table></figure><p>保存退出编辑器</p><p><img src="/2024/10/06/win11-cpp/13.png"></p><p>输入<code>sudo apt update &amp;&amp; sudo apt upgrade -y</code>即可更新系统</p><h3 id="可选-进阶设置WSL"><a href="#可选-进阶设置WSL" class="headerlink" title="(可选)进阶设置WSL"></a>(可选)进阶设置WSL</h3><p>开始菜单找到<code>WSL Settings</code>, 启用<code>镜像网络模式</code>以及<code>逐渐释放内存</code>等功能</p><p><img src="/2024/10/06/win11-cpp/14.png"></p><p><img src="/2024/10/06/win11-cpp/15.png"></p><h2 id="Windows安装vscode"><a href="#Windows安装vscode" class="headerlink" title="Windows安装vscode"></a>Windows安装<a href="https://code.visualstudio.com/">vscode</a></h2><p>安装过程省略, 安装完成后记得重启电脑, 打开vscode后, 自行安装主题和中文语言包, 接着安装<code>Remote Development</code>拓展包</p><p><img src="/2024/10/06/win11-cpp/16.png"></p><h2 id="在kali-linux上安装C-工具链"><a href="#在kali-linux上安装C-工具链" class="headerlink" title="在kali-linux上安装C++工具链"></a>在kali-linux上安装C++工具链</h2><p>在WSL内输入<code>sudo apt install build-essential clang clangd llvm lldb</code></p><p><img src="/2024/10/06/win11-cpp/17.png"></p><p><img src="/2024/10/06/win11-cpp/18.png"></p><p>安装完成后退出WSL并执行<code>wsl --shutdown</code>, 接着重新打开<code>kali-linux</code>, 输入<code>cd</code>切换为主目录, 再输入<code>code .</code>打开<code>vscode</code></p><p><img src="/2024/10/06/win11-cpp/19.png"></p><h2 id="安装C-拓展"><a href="#安装C-拓展" class="headerlink" title="安装C++拓展"></a>安装C++拓展</h2><p>安装如图所示的几个拓展, 这里安装了6个(安装不成功则需要解决代理问题, 上面的镜像网络模式可以很方便解决这个问题)</p><p><img src="/2024/10/06/win11-cpp/20.png"></p><h2 id="测试开发环境"><a href="#测试开发环境" class="headerlink" title="测试开发环境"></a>测试开发环境</h2><p>在windows的资源管理器左侧打开WSL的目录, 在主目录<code>/home/yoimiya/</code>新建<code>cpp_test</code>文件夹, 并新建一个<code>cpp</code>文件和<code>.vscode</code>文件夹</p><p><img src="/2024/10/06/win11-cpp/21.png"></p><p>在<code>kali-linux</code>的终端内输入<code>cd /home/yoimiya/cpp_test</code>和<code>code .</code>打开目录, 编写示例代码, 鼠标左键单击行添加断点</p><p><img src="/2024/10/06/win11-cpp/22.png"></p><p>在<code>.vscode</code>文件夹内新建<code>tasks.json</code>文件, 并写入下列内容, 意思是调试时自动编译, 调试完成后自动删除可执行文件</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.0.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;tasks&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;label&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;shell&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;clang++&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;-g&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;-o&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;/main&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-string">&quot;$&#123;file&#125;&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;group&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;kind&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;isDefault&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;problemMatcher&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;label&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;clean&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;shell&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;rm&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>                <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;/main&quot;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;problemMatcher&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>接着新建<code>launch.json</code>文件, 是<code>codelldb</code>调试器的配置</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// 使用 IntelliSense 了解相关属性。 </span><br>    <span class="hljs-comment">// 悬停以查看现有属性的描述。</span><br>    <span class="hljs-comment">// 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387</span><br>    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.2.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;configurations&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;lldb&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;request&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;launch&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Debug&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;program&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;/main&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;cwd&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$&#123;workspaceFolder&#125;&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;preLaunchTask&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;postDebugTask&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;clean&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><img src="/2024/10/06/win11-cpp/23.png"></p><p><img src="/2024/10/06/win11-cpp/24.png"></p><p>编辑完成后, 按<code>F5</code>启动调试, 顶部有调试选项, 比如<code>继续</code>, <code>单步调试</code>, <code>逐过程</code>等, 在左边可以查看变量的值</p><p>结束调试后, 会自动删除二进制文件</p><p><img src="/2024/10/06/win11-cpp/25.png"></p><p>如果选择以非调试模式运行，则会执行<code>tasks.json</code>的内容, 编译并运行代码, 输出在右下角的<code>Debug</code>终端, 如果不想自动删除可执行文件, 删除<code>tasks.json</code>的<code>clean</code>内容, 以及<code>launch.json</code>里的<code>&quot;postDebugTask&quot;: &quot;clean&quot;</code>即可</p><h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><ul><li>可以选择安装<code>GitHub Copilot</code>拓展</li><li>安装<code>rust-analyzer</code>拓展后, 可以使用<code>codelldb</code>调试<code>rust</code>代码</li><li><code>codelldb</code>会为你生成<code>launch.json</code>, 如果一开始没有这个文件, 可以到左边调试选项卡选择创建</li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win11</tag>
      
      <tag>Linux</tag>
      
      <tag>WSL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Today Is Yesterday&#39;s Tomorrow</title>
    <link href="/2024/10/04/belobog/"/>
    <url>/2024/10/04/belobog/</url>
    
    <content type="html"><![CDATA[<h2 id="Today-Is-Yesterday’s-Tomorrow"><a href="#Today-Is-Yesterday’s-Tomorrow" class="headerlink" title="Today Is Yesterday’s Tomorrow"></a>Today Is Yesterday’s Tomorrow</h2><p>legion n.兵团</p><p><em>the Antimatter Legion</em></p><p>immortal adj.不死的(<strong>mortal</strong>)</p><p>intently adj.</p><p>swing by 顺便</p><p><strong>ambush</strong> v.</p><p><strong>besiege</strong> v.</p><p>surveillance screen</p><p><em>hologram</em> n.全息图</p><p><strong>perplex</strong> v.</p><p><em>mannequin</em> n.人体模型</p><p><strong>rampage</strong> v.</p><p><strong>impasse</strong> n.</p><p><strong>dormant</strong> adj.冬眠的；休眠的 (dorm-:dormitory dormancy)(~ volcano)</p><p>encryption key密钥</p><p>*a swarm of locusts 一群蝗虫</p><p>forte n.长处</p><p>vociferous adj.嘈杂</p><p>drone on about喋喋不休</p><p>hunches n. intuition&#x2F;supposition</p><p>colossal adj.巨大的</p><p>deform v.变形</p><p><strong>bizarre</strong> adj.古怪的</p><p><strong>daunting</strong> adj.使人畏惧的</p><ul><li>No one knows what awaits them ahead on the journey, so just taking this first step can be <strong>daunting</strong>.</li></ul><p><strong>inertia</strong> n.</p><p><strong>inextricable</strong> adj.无法解脱的</p><ul><li>an inextricable connection between</li></ul><h2 id="In-the-Withering-Wintry-Night-Belobog-Jarilo-VI"><a href="#In-the-Withering-Wintry-Night-Belobog-Jarilo-VI" class="headerlink" title="In the Withering Wintry Night (Belobog, Jarilo-VI)"></a>In the Withering Wintry Night (Belobog, Jarilo-VI)</h2><p><strong>preliminary</strong> adj.</p><p><strong>adjudication</strong> n.裁定；判决</p><p><strong>relinquish</strong> v.放弃（正式）</p><p>bastion n.堡垒</p><p><em>inferno</em> n.地狱</p><p><strong>relent</strong> v.变温和（relentless &#x2F; unrelenting</p><p><strong>concise</strong> adj.简洁的</p><p>tag along 跟着</p><p>vexation n.苦恼</p><p><strong>distressed</strong> adj.苦恼，忧虑</p><p><strong>compatriot</strong> n.同胞</p><p><strong>introspection</strong> n.内省；反省</p><p>be smooth as heck</p><p>infiltrator n.入侵者</p><p>tyrant n.暴君</p><p><strong>reiterate</strong> v.重申</p><ul><li>Let me reiterate: These competitions are for professionals only! Don’t try this at home!</li></ul><p><strong>ambiance</strong> &#x2F; <strong>ambience</strong> n.氛围</p><p><strong>boisterous</strong> adj.喧闹的</p><p>righteous adj.</p><p>vagrant n.流浪汉</p><p><strong>quell</strong> v. <strong>quench</strong></p><p>thug n.暴徒</p><p><strong>instigator</strong> n.煽动者（<strong>instigate</strong>）</p><p><em>hush money</em> 封口费</p><p>final straw</p><p>sprain n.扭伤</p><p>kick up a fuss 起哄</p><p>run-of-the-mill 一般的</p><p>get your hands dirty亲自动手</p><p><strong>unequivocal</strong> adj.明确的；不含糊的</p><p>The result of my calculation is ~.</p><p><strong>prevalent</strong> adj.盛行的；普遍的(<strong>prevail</strong>)</p><p>connoisseur n.鉴赏家 (钟离)</p><p>get <strong>disoriented</strong></p><p>be at stake</p><p><strong>deplete</strong> v.大量减少</p><p>shake in one’s boots&#x2F;shoes 胆战心惊</p><p>gauze bandage 纱布绷带</p><p><strong>brooch</strong> n.(女用)胸针</p><p>prissy adj.为小事挂虑的</p><p>dosage n.用量(dose)</p><p>unannounced disappearance</p><p><strong>unscathed</strong> adj.</p><p>raving adj.胡说的</p><p>at a moment’s notice 立刻</p><p><strong>walk the talk</strong> 言出必行</p><p><strong>silhouette</strong> n.剪影；轮廓</p><p><strong>not even close</strong> 差远了</p><p><strong>counterfeit</strong> v.</p><hr><p><strong>pry</strong> v.  ~ (into sth) to try to find out information about other people’s private lives in a way that is annoying or rude</p><ul><li><p>I’m sick of you prying into my personal life!</p></li><li><p>I’m sorry. I didn’t mean to pry.</p></li></ul><p><strong>prospector</strong> n. a person who searches an area for gold, minerals, oil, etc. 勘</p><p><strong>belie</strong> v.<br>to give a false impression of sb&#x2F;sth<br>(be+lie)</p><ul><li>Bronya: …Clara’s strength belies her appearance…</li></ul><p><strong>incisive</strong> adj. 1. showing clear thought and good understanding of what is important, and the ability to express this锐利的；透彻的 2. showing sb’s ability to take decisions and act with force果断的；当机立断的</p><ul><li>1 <strong>incisive</strong> comments&#x2F;criticism&#x2F;analysis</li><li>2 an <strong>incisive</strong> performance</li></ul><p><strong>circumvent</strong> v.(formal)<br>to find a way of <strong>avoiding</strong> a difficulty or a rule</p><p><strong>collate</strong> v.<br>to collect information together from different sources in order to examine and compare it</p><ul><li>to <strong>collate</strong> data&#x2F;information&#x2F;figures</li></ul><blockquote><p>If the money’s right, not a problem in sight.</p></blockquote><p>a new lease on life</p><p><strong>rudimentary</strong> adj. </p><ul><li>1 A simple device which can be constructed by anyone with rudimentary carpentry skills</li></ul><blockquote><p>BASlC, elementary, introductory, early, primary, initial, first, fundamental, essential, <em>rare</em> rudimental. </p></blockquote><blockquote><p><em>ANTONYMs</em> advanced</p></blockquote><ul><li>2 The equipment in all the workshops was<br>rudimentary</li></ul><blockquote><p>PRIMITIVE, CRUDE, simple, unsophisticated, rough, rough and ready, makeshift, rude. </p></blockquote><blockquote><p><em>ANTONYMs</em> sophisticated</p></blockquote><ul><li>3 Spider monkeys have four long fingers, but only a rudimentary thumb</li></ul><blockquote><p>VESTIGIAL, undeveloped, incomplete, embryonic, immature, non-functional,<em>technical</em> abortive, primitive,<br>obsolete. </p></blockquote><blockquote><p><em>ANTONYMs</em> developed</p></blockquote><p><strong>admonishment</strong> n.训戒；警告</p><ul><li>You being sarcastic with me?</li></ul><p><strong>defiance</strong> n. defy</p><p><strong>fugitive</strong> n.逃亡者</p><ul><li>a fugitive from justice逃犯</li></ul><h2 id="In-the-Sweltering-Morning-Sun"><a href="#In-the-Sweltering-Morning-Sun" class="headerlink" title="In the Sweltering Morning Sun"></a>In the Sweltering Morning Sun</h2><p><strong>sweltering</strong> adj. oppressively hot 闷热的；热得难受的 (sweat)</p><p><strong>flask</strong> n. 酒瓶(Diona任务)</p><p><strong>ahead of the curve</strong> 捷足先登</p><p><strong>under-the-table</strong></p><p><strong>conspirator</strong> n. conspire</p><p><strong>intervention</strong> n. interfere</p><p>stench adj.foul</p><ul><li>the stench of death in the air…</li></ul><p>encryption key 密钥</p><ul><li>Every person here is ready to sacrifice themselves, ready to spill their blood for Belobog <strong>at a moment’s notice</strong>.</li></ul><p>meteorite n. meteor掉落物</p><p>be <strong>inundate</strong>d with &#x3D;&#x3D; be flooded with</p><ul><li>We could <strong>be inundated with</strong> monsters at any moment…</li></ul><p><strong>pragmatism</strong> n. <strong>pragmatic</strong>实用的、务实的</p><p><strong>paramount</strong> adj. more important than anything else</p><ul><li><p>This matter is of <strong>paramount</strong> importance. (重如山)</p></li><li><p>Safety is <strong>paramount</strong>.</p></li></ul><blockquote><p>有空应该考究一下para-…paradigm parameter paragraph parade parachute paramount这样的?</p></blockquote><p><strong>traverse</strong> v.</p><p>have a scrap with &#x3D;&#x3D; argue&#x2F;quarrel with</p><p><strong>ovation</strong> n. enthusiastic applause</p><ul><li><p>Let’s push for that standing <strong>ovation</strong>!</p></li><li><p>Compare to …, … <strong>pales into insignificance</strong>. 相形见绌</p></li></ul><p><strong>squander</strong> v.</p><p>narcissism n. 自恋</p><p>right on the money</p><p><strong>woeful</strong> adj.可悲的</p><p><strong>wrath</strong> n. anger &#x2F; rage</p><p><strong>shepherd</strong> n. shep+(v.)herd v.to guide 指导</p><ul><li><p>shepherd us toward rejuvenation…</p></li><li><p>It’s the <strong>conceit</strong> and <strong>cowardice</strong> <strong>entrenched</strong> in the depths of human nature, and they are so difficult to efface…</p></li></ul><p><strong>steadfast</strong> adj. <strong>adamant</strong> (steady &amp; fastened &#x2F; entrenched)</p><p><strong>subversion</strong> n. <strong>subversive</strong></p><p><strong>torment</strong> n. torture(</p><p><strong>arbiter</strong> n. <strong>arbitrate</strong></p><p><strong>masquerade</strong> v.( ~ as )</p><p><strong>resplendent</strong> adj.</p><p><strong>shackle</strong> n.</p><p>so be it 就这样</p><p><strong>perpetrator</strong> n. <strong>perpetrate</strong></p><p><strong>abstaining</strong> adj. evasive &#x2F; 弃权</p><p><strong>demise</strong> n. death &#x2F; <strong>perish</strong></p><p>steal ont’s thunder</p><p>sit up and take notice</p><p><strong>subside</strong> v.</p><p><strong>inaugural</strong> adj. <strong>inaugurate</strong></p><ul><li>Lady Bronya’s inaugural address</li></ul><p><strong>perseverance</strong> n.</p><p><strong>palatable</strong> adj. delectable</p><p><strong>run-of-the-mill</strong> adj. ordinary </p><p>chit-chat</p><p><strong>montage</strong> n. a picture, film&#x2F;movie or piece of music or writing that consists of many separate items put together, especially in an interesting or unusual combination 蒙太奇</p><ul><li>True happiness always entails the manifestation of the dignity of mankind.</li></ul><p>make a curtain call</p><p>zealot n. zealous的人</p><p>rise to the challenge</p><p>nook and cranny: every corners</p>]]></content>
    
    
    <categories>
      
      <category>English Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>Starrail</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>eden*</title>
    <link href="/2024/09/29/eden/"/>
    <url>/2024/09/29/eden/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>English Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>Gal</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WSL开发环境搭建(openSUSE-Tumbleweed篇)</title>
    <link href="/2024/09/20/opensuse-wsl/"/>
    <url>/2024/09/20/opensuse-wsl/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-1a212b77" role="button" aria-expanded="false" aria-controls="collapse-1a212b77">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-1a212b77">        <div class="fold-content">          <p><a href="https://en.opensuse.org/openSUSE%3AWSL">openSUSE Wiki</a><br><a href="https://docs.nvidia.com/cuda/wsl-user-guide/index.html">NVIDIA文档</a></p>        </div>      </div>    </div><h2 id="启用wsl2功能，请参考kali那篇文章"><a href="#启用wsl2功能，请参考kali那篇文章" class="headerlink" title="启用wsl2功能，请参考kali那篇文章"></a>启用wsl2功能，请参考kali那篇文章</h2><h2 id="关于高级配置，跟kali那相同"><a href="#关于高级配置，跟kali那相同" class="headerlink" title="关于高级配置，跟kali那相同"></a>关于高级配置，跟kali那相同</h2><h2 id="安装openSUSE-Tumbleweed"><a href="#安装openSUSE-Tumbleweed" class="headerlink" title="安装openSUSE-Tumbleweed"></a>安装openSUSE-Tumbleweed</h2><p>在windows终端输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsl <span class="hljs-literal">--install</span> <span class="hljs-literal">-d</span> openS<span class="hljs-built_in">USE-Tumbleweed</span><br></code></pre></td></tr></table></figure><h2 id="启动并初始化"><a href="#启动并初始化" class="headerlink" title="启动并初始化"></a>启动并初始化</h2><p>启动openSUSE后会有一个图形化配置界面，自行设置好用户名和密码等</p><h2 id="更换软件源"><a href="#更换软件源" class="headerlink" title="更换软件源"></a>更换软件源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper mr -da<br><span class="hljs-built_in">sudo</span> zypper ar -fcg <span class="hljs-string">&#x27;https://mirrors.ustc.edu.cn/opensuse/tumbleweed/repo/oss&#x27;</span> USTC:OSS<br><span class="hljs-built_in">sudo</span> zypper ar -fcg <span class="hljs-string">&#x27;https://mirrors.ustc.edu.cn/opensuse/tumbleweed/repo/non-oss&#x27;</span> USTC:NON-OSS<br><span class="hljs-built_in">sudo</span> zypper ar -fcg <span class="hljs-string">&#x27;https://mirrors.ustc.edu.cn/opensuse/update/tumbleweed&#x27;</span> USTC:UPDATE<br><span class="hljs-built_in">sudo</span> zypper ref<br></code></pre></td></tr></table></figure><h2 id="更换终端（可选）"><a href="#更换终端（可选）" class="headerlink" title="更换终端（可选）"></a>更换终端（可选）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> fish bash-completion<br>chsh -s /usr/bin/fish<br><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure><h2 id="安装解码器"><a href="#安装解码器" class="headerlink" title="安装解码器"></a>安装解码器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper ar -cfp 90 <span class="hljs-string">&#x27;https://mirrors.aliyun.com/packman/suse/openSUSE_Tumbleweed/&#x27;</span> packman<br><span class="hljs-built_in">sudo</span> zypper refresh<br><span class="hljs-built_in">sudo</span> zypper dist-upgrade --from packman --allow-vendor-change<br><span class="hljs-built_in">sudo</span> zypper install --from packman ffmpeg gstreamer-plugins-&#123;good,bad,ugly,libav&#125; libavcodec-full vlc-codecs<br></code></pre></td></tr></table></figure><h2 id="启用Systemd"><a href="#启用Systemd" class="headerlink" title="启用Systemd"></a>启用Systemd</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> -t pattern wsl_systemd<br><span class="hljs-built_in">exit</span><br><span class="hljs-built_in">sudo</span> systemctl is-system-running<br></code></pre></td></tr></table></figure><h2 id="启用WSLg"><a href="#启用WSLg" class="headerlink" title="启用WSLg"></a>启用WSLg</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> -t pattern wsl_gui<br><span class="hljs-built_in">sudo</span> zypper install Mesa-demo-x<br>glxgears<br><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> firefox xorg-x11<br>firefox<br></code></pre></td></tr></table></figure><h2 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper install noto-sans-sc-fonts wqy-zenhei-fonts adobe-sourcehansans-cn-fonts adobe-sourcehanserif-cn-fonts<br><span class="hljs-built_in">sudo</span> zypper install glibc-locale glibc-locale-base<br><span class="hljs-built_in">sudo</span> localectl set-locale LANG=zh_CN.UTF-8<br></code></pre></td></tr></table></figure><h2 id="安装CUDA"><a href="#安装CUDA" class="headerlink" title="安装CUDA"></a>安装CUDA</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper install kernel-source kernel-devel gcc make git<br><span class="hljs-built_in">sudo</span> zypper addrepo https://developer.download.nvidia.com/compute/cuda/repos/opensuse15/x86_64/cuda-opensuse15.repo<br><span class="hljs-built_in">sudo</span> zypper refresh<br><span class="hljs-built_in">sudo</span> zypper install cuda-toolkit-12-6<br><span class="hljs-built_in">export</span> PATH=/usr/local/cuda/bin:<span class="hljs-variable">$PATH</span><br><span class="hljs-built_in">export</span> LD_LIBRARY_PATH=/usr/local/cuda/lib64:<span class="hljs-variable">$LD_LIBRARY_PATH</span><br>nvcc --version<br></code></pre></td></tr></table></figure><blockquote><p>若提示冲突软件包，选1卸载冲突的包</p></blockquote><h2 id="测试CUDA"><a href="#测试CUDA" class="headerlink" title="测试CUDA"></a>测试CUDA</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/NVIDIA/cuda-samples.git<br><span class="hljs-built_in">cd</span> cuda-samples/Samples/1_Utilities/deviceQuery<br>make<br>./deviceQuery<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh<br>bash Miniconda3-latest-Linux-x86_64.sh<br>~/miniconda3/bin/conda init bash fish<br><span class="hljs-built_in">exit</span><br>conda install pytorch torchvision torchaudio cudatoolkit -c pytorch -c nvidia<br>conda config --<span class="hljs-built_in">set</span> auto_activate_base <span class="hljs-literal">false</span><br>python<br></code></pre></td></tr></table></figure><p>进入交互式环境</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;PyTorch version:&quot;</span>, torch.__version__)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;CUDA available:&quot;</span>, torch.cuda.is_available())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;CUDA device count:&quot;</span>, torch.cuda.device_count())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;CUDA device name:&quot;</span>, torch.cuda.get_device_name(<span class="hljs-number">0</span>))<br>exit()<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda install --name base --all --revision 0<br></code></pre></td></tr></table></figure><h2 id="配置开发环境"><a href="#配置开发环境" class="headerlink" title="配置开发环境"></a>配置开发环境</h2><p>跟kali基本相同</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> gcc java-21-openjdk<br></code></pre></td></tr></table></figure><h2 id="安装桌面环境"><a href="#安装桌面环境" class="headerlink" title="安装桌面环境"></a>安装桌面环境</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> -t pattern xfce4<br><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> busybox-net-tools<br><span class="hljs-built_in">echo</span> startxfce4 &gt; ~/.xsession<br><span class="hljs-built_in">chmod</span> +x ~/.xsession<br><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> xrdp xorgxrdp<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now xrdp<br>ifconfig | grep -w <span class="hljs-string">&quot;inet&quot;</span> | grep -v 127.0.0.1 | awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span> | awk -F <span class="hljs-string">&#x27;:&#x27;</span> <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span><br><span class="hljs-built_in">sudo</span> vim /etc/xrdp/xrdp.ini <span class="hljs-comment">#请把端口改成9999等数字，只要不是3389</span><br><span class="hljs-built_in">sudo</span> systemctl restart xrdp<br></code></pre></td></tr></table></figure><p>接下来即可使用windows的远程桌面连接</p><blockquote><p>如果要使用Windows的软件<code>VcXsrv</code>，在终端执行<code>export DISPLAY=localhost:0</code>之后<code>startxfce4</code>即可进入桌面环境</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Linux Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>openSUSE</tag>
      
      <tag>wsl</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Hungry Lamb: Traveling in the Late Ming Dynasty</title>
    <link href="/2024/09/19/the-hungry-lamb/"/>
    <url>/2024/09/19/the-hungry-lamb/</url>
    
    <content type="html"><![CDATA[<h2 id="Finished"><a href="#Finished" class="headerlink" title="Finished"></a>Finished</h2><h2 id="Liang-Prologue-Wolf"><a href="#Liang-Prologue-Wolf" class="headerlink" title="Liang Prologue Wolf"></a>Liang Prologue Wolf</h2><p><strong>inquiring</strong> adj. 好奇的</p><p>twig n. 小树枝 v. 突然理解</p><p><strong>crunch</strong> v. 嘎吱作响; 快速处理大量信息 n. 紧要关头; 缺钱; 仰卧起坐 adj. 至关重要的</p><p>dapple v. 打上斑点 n. 斑点</p><p><strong>adept</strong> adj. 熟练的</p><p>gourd n. 葫芦</p><p><strong>clad</strong> v. 穿衣 adj. 覆盖着的</p><p><strong>menace</strong> </p><p>fella n. 小伙子</p><p><strong>wrap up</strong></p><p><strong>stab</strong></p><p>tael n. 两（计量单位）</p><p><strong>pouch</strong> n. 小袋; 荷包</p><p><strong>embroider</strong>  v. 刺绣; 添枝加叶</p><p>chuckle</p><p><strong>tread</strong> v. 行走; 踩踏</p><blockquote><p>tread trod trodden</p></blockquote><h2 id="Liang-Chapter-1-Cat"><a href="#Liang-Chapter-1-Cat" class="headerlink" title="Liang Chapter 1 Cat"></a>Liang Chapter 1 Cat</h2><p><strong>perch</strong> v. 栖息 n. 栖息处</p><p>boulder n. 巨石</p><p>flask n. 容器; 热水瓶</p><p><strong>sear</strong></p><p><strong>a stroke of</strong></p><p><strong>calamity</strong></p><p><strong>attire</strong> </p><p><strong>gleam</strong></p><p><strong>traffic</strong> v. 非法贩卖</p><p><strong>trafficker</strong> n. 贩子</p><p><strong>nab</strong> v. 逮捕; 抓获</p><p><strong>brink</strong></p><p><strong>offspring</strong></p><p><strong>impoverished</strong></p><p><strong>veteran</strong></p><p><strong>lair</strong> n. 巢穴</p><blockquote><p>beard the lion in his lair 太岁头上动土</p></blockquote><p><strong>higher-up</strong></p><p><strong>caravan</strong></p><p><strong>tip off</strong> 通风报信</p><p><strong>go south</strong> 出错</p><p><strong>rebellion</strong></p><p><strong>hoard</strong></p><p>chug v. 发出咕嘟声</p><blockquote><p><em>Option 1 Ready to accept the job.</em></p></blockquote><p>hemp n. 麻绳</p><p><strong>nudge</strong> v. 轻推; 靠近</p><p><strong>sport</strong> v. 穿戴</p><p><strong>disheveled</strong> adj. 衣着凌乱的; 蓬头散发的</p><p><strong>complexion</strong></p><p><strong>fair</strong> adj. 白皙的</p><p><strong>snatch</strong></p><p>hamlet n. 小村庄</p><p><strong>steer clear of</strong> 避开; 远离</p><p><strong>banish</strong> v. 放逐</p><p><strong>demote</strong> v. 贬职</p><p><strong>turmoil</strong></p><p><strong>hunch</strong> v. 弓背; 蜷缩 n. 预感; 直觉</p><p><strong>dodgy</strong></p><p><strong>elusive</strong></p><p>reincarnation</p><p><em>Maitreya Buddha</em> 弥勒佛</p><p><strong>mock</strong></p><p><strong>no-go</strong> 不行</p><p><strong>settle for</strong> 勉强接受</p><p><strong>bandit</strong></p><p><strong>plump</strong> adj. 丰满的</p><p><strong>furrow</strong></p><p>don v. 穿上</p><p><strong>takeaway</strong> n. 重点信息; 收获; 主旨</p><p><strong>protrude</strong></p><p><strong>hue</strong></p><p><strong>top-notch</strong></p><p><strong>mute</strong></p><p><strong>moisture</strong></p><p><strong>peculiar</strong></p><blockquote><p><em>Option 2 Scope out the lambs first</em></p></blockquote><h2 id="Liang-Chapter-2-Speak"><a href="#Liang-Chapter-2-Speak" class="headerlink" title="Liang Chapter 2 Speak"></a>Liang Chapter 2 Speak</h2><p>sheath n. 刀鞘 v. 套入</p><p>wagon n. 马车</p><p><strong>hit the road</strong></p><p><strong>reckon</strong></p><p><strong>detour</strong></p><p><strong>dig deep into one’s pockets</strong></p><p><strong>grub</strong> v. 挖掘 n. 食物</p><p>munch</p><p><strong>fetch</strong> v. 卖得</p><p><strong>catch wind of</strong></p><p><strong>skinny</strong> adj. 皮包骨的 n. 小道消息</p><p><strong>tricky</strong></p><p><strong>whine</strong> v. 抱怨</p><p>switch n. 鞭子</p><p><strong>huddle</strong></p><p><strong>dawdle</strong> v. 磨蹭</p><p>foothill</p><p>hoof n. 马蹄 v. 步行</p><p>swish v. 鞭打 adj. 豪华的</p><p>crank adj. 不稳定的 n. 怪人 v. 转动</p><p>dagger</p><p><strong>ration</strong> n. 口粮</p><p><strong>polish off</strong> 草草做完</p><p><strong>cluster</strong></p><p><strong>racket</strong> n. 狂欢</p><p>flint n. 打火石</p><p>tinder n. 助燃物</p><p>arson n. 蓄意纵火</p><p><strong>drowsy</strong></p><p><strong>on edge</strong></p><p><strong>succumb</strong></p><p>foliage n. 叶子</p><p><strong>glimmer</strong></p><p><strong>strand</strong></p><p><strong>flutter</strong></p><p>bead</p><blockquote><p><em>Option 1 Step back fast</em></p></blockquote><h2 id="Conclusion-Died-in-Halfway"><a href="#Conclusion-Died-in-Halfway" class="headerlink" title="Conclusion Died in Halfway"></a>Conclusion Died in Halfway</h2><p><strong>thump</strong></p><p><strong>gush</strong></p><blockquote><p><em>Option 2 Neck tackle.</em></p></blockquote><p><strong>pounce</strong> v. 猛扑</p><p>growl v. 咆哮</p><h2 id="Liang-Chapter-3-Swine-Demon"><a href="#Liang-Chapter-3-Swine-Demon" class="headerlink" title="Liang Chapter 3 Swine Demon"></a>Liang Chapter 3 Swine Demon</h2><p><strong>crystal clear</strong></p><p><strong>sinister</strong></p><p><strong>wobble</strong> v. 摇晃</p><p>concubine n. 妾</p><p><strong>dissect</strong></p><p><strong>hawk</strong> v. 叫卖</p><p><strong>devour</strong></p><p><strong>ponder</strong></p><p><strong>add up</strong> 合理</p><p><strong>gobble</strong></p><p><strong>gasp for</strong></p><p><strong>snarl</strong> v. 咆哮着说</p><p>mimic mimicked mimicking </p><p>snotty adj. 目中无人的; 流鼻涕的</p><p>piglet</p><p><strong>wail</strong></p><p>wet oneself</p><p>jolt</p><p><strong>quiver</strong></p><blockquote><p>shiver</p></blockquote><p>corporal</p><p>spank v. 打</p><p><strong>spanking</strong> adj. 令人惊叹的 adv. 十足</p><blockquote><p><em>Option 1 Cut the chatter, just hit her.</em></p></blockquote><p><strong>flinch</strong></p><p><strong>smack</strong></p><p><strong>frail</strong></p><p><em>Man Sui</em></p><p><strong>heed</strong></p><p><strong>lush</strong> adj. 繁茂的 v. 喝醉 n. 酒鬼</p><h2 id="Sui-Prologue-Home"><a href="#Sui-Prologue-Home" class="headerlink" title="Sui Prologue Home"></a>Sui Prologue Home</h2><p>hectare n. 公顷</p><p><strong>squat</strong></p><p><strong>stroke</strong> v. 轻抚</p><p>squint v. 斜眼看</p><p><strong>fervent</strong></p><p><strong>snag</strong></p><p><strong>edible</strong></p><p><strong>nag</strong></p><p><strong>scrub</strong></p><p><strong>imperial</strong></p><p>burlap n. 麻袋</p><p><strong>splurge</strong></p><p>wriggle v. 扭动</p><p><strong>blissful</strong></p><h2 id="Liang-Chapter-4-Shadow-Play"><a href="#Liang-Chapter-4-Shadow-Play" class="headerlink" title="Liang Chapter 4 Shadow Play"></a>Liang Chapter 4 Shadow Play</h2><p>chirp</p><p><strong>fatigue</strong></p><p><strong>vigilant</strong></p><p>chorus</p><p><strong>drift off</strong></p><p><strong>nestle</strong></p><p><strong>accommodate</strong> v. 考虑到</p><p><strong>shroud</strong></p><p><strong>unkempt</strong> adj. 不整洁的; 蓬头垢面的</p><p><strong>mangle</strong></p><p>odor</p><p>churn</p><p><strong>jittery</strong></p><p>scavenge</p><p><strong>gnaw</strong> v. 啃咬; 侵蚀; 折磨</p><p>stow v. 收纳</p><p><strong>wedge</strong></p><p>nausea</p><p>vomit</p><p>coddle v. 溺爱; 慢火炖煮</p><p>smugness n. 娇矜; 装模作样</p><p><strong>stifle</strong></p><p>hide n. 兽皮</p><p>radish n. 萝卜</p><p>hashed</p><p><strong>tinker with</strong></p><blockquote><p><em>Option 2 Lu Bu</em></p></blockquote><p><strong>invincible</strong></p><p><strong>touch-up</strong> n. 修补; 润色</p><p><strong>wiggle</strong></p><p><em>Serpent Spear</em> 丈八蛇矛</p><p><strong>scoundrel</strong></p><p><strong>twirl</strong> v. 旋转</p><p><em>White Bone Demon</em> 白骨精</p><h2 id="Liang-Chapter-5-Official-Soldiers"><a href="#Liang-Chapter-5-Official-Soldiers" class="headerlink" title="Liang Chapter 5 Official Soldiers"></a>Liang Chapter 5 Official Soldiers</h2><p><strong>engulf</strong></p><p><strong>swat</strong></p><p>debris</p><p><strong>black out</strong> 短暂失去意识</p><p>ooze</p><p><strong>mutilate</strong> v. 残害</p><p>swat</p><p><strong>sever</strong></p><p><strong>vibe</strong></p><p>juju n. 魔咒</p><p><strong>vigilant</strong></p><p><strong>spot on</strong></p><p><strong>glint</strong></p><p><strong>huddle</strong></p><blockquote><p><strong>cuddle</strong></p></blockquote><p><strong>crouch</strong> </p><blockquote><p><strong>squat</strong>, <strong>hunker</strong></p></blockquote><p><strong>chime in</strong> 插话</p><p>jab n. v. 猛地一击</p><p><strong>squint</strong></p><p>chubby adj.</p><p>saber n. 军刀</p><p><strong>take out</strong> 杀死</p><p><strong>bide</strong></p><blockquote><p><em>Option 2 Strike immediately</em></p></blockquote><h2 id="Conclusion-Died-in-Halfway-1"><a href="#Conclusion-Died-in-Halfway-1" class="headerlink" title="Conclusion Died in Halfway"></a>Conclusion Died in Halfway</h2><p><strong>lethal</strong> adj. 致命的</p><p><strong>barrel</strong> n. 炮管</p><p>cavity</p><blockquote><p><strong>lethargic</strong> adj.</p></blockquote><blockquote><p><em>Option 1 Wait for an oppotunity</em></p></blockquote><p><strong>standoff</strong> n. 僵局</p><blockquote><p><strong>impasse</strong> </p></blockquote><p><strong>fawn</strong> v. 巴结</p><blockquote><p><strong>toady</strong>, <strong>creep</strong>, <strong>ingratiate</strong></p></blockquote><p><strong>press on</strong> 一鼓作气; 继续走</p><p><strong>main</strong> v. 使残废 n. 重伤 adj. 伤残的</p><p><strong>at stake</strong></p><p><strong>shady</strong> adj. 可疑的</p><h2 id="Liang-Chapter-6-Desolate-Village"><a href="#Liang-Chapter-6-Desolate-Village" class="headerlink" title="Liang Chapter 6 Desolate Village"></a>Liang Chapter 6 Desolate Village</h2><p>gurgle</p><p><strong>scorch</strong> v. 烧灼; 烫伤</p><blockquote><p><strong>scald</strong>, <strong>swelter</strong></p></blockquote><p>locust n. 蝗虫</p><p><strong>crevice</strong></p><p><strong>dilapidated</strong></p><p><strong>strew</strong> v. 遍布</p><p><strong>scant</strong> adj.</p><p><strong>in the wake of</strong></p><p><strong>mar</strong> v. 破坏 n. 污点; 瑕疵</p><p><strong>congeal</strong></p><p>torso n. 上身</p><p><strong>scrawny</strong> adj. 瘦骨嶙峋的</p><p>cannibal n. 食人族 adj. 吃人的</p><p>ewe n. 母羊</p><p><strong>loot</strong></p><p><strong>bolt</strong> v. 突然离开</p><p><strong>frail</strong></p><p><strong>resign</strong> v. 顺从</p><blockquote><p><em>Option 1 Don’t share food with them</em></p></blockquote><p><strong>tighten one’s belt</strong> to spend less money</p><blockquote><p><em>Option 2 Tell the truth</em></p></blockquote><p>hellish adj.</p><p><strong>blab</strong> v. 泄密</p><h2 id="Sui-Chapter-1-Cat-Swine-Demon"><a href="#Sui-Chapter-1-Cat-Swine-Demon" class="headerlink" title="Sui Chapter 1 Cat, Swine Demon"></a>Sui Chapter 1 Cat, Swine Demon</h2><p>gamey adj. 腥味的; 勇敢的</p><p>waft</p><p><strong>come around</strong> 改变看法</p><p>hoe n. 锄头</p><p><strong>grit one’s teeth</strong></p><p><strong>pawn</strong> v. 典当</p><p>bracelet n. 手镯</p><p>dowry n. 嫁妆</p><p><strong>pungent</strong> adj. 辛辣的; 刺激性的; 一针见血的</p><p><strong>kick the bucket</strong> 断气</p><p>deity</p><p><strong>clench</strong></p><p><strong>gouge</strong> v. 凿</p><h2 id="Liang-Chapter-7-Bathhouse"><a href="#Liang-Chapter-7-Bathhouse" class="headerlink" title="Liang Chapter 7 Bathhouse"></a>Liang Chapter 7 Bathhouse</h2><p><strong>feign</strong></p><p><strong>parch</strong> v. 使口渴; 烘干</p><p><strong>lobby</strong></p><p><strong>haul</strong> n. 大批赃物; 旅途 v. 运货</p><p>brothel n. 计院</p><p>courtesan n. 高级计女</p><p><strong>rinse</strong></p><p>oddball n. adj. 古怪的</p><p><strong>snippet</strong></p><p><em>Leifeng Pagoda</em> 雷峰塔</p><p>gag v. 塞嘴</p><p>runabout n. 搪塞; 敷衍; 耍花招</p><p><strong>set up</strong> 欺骗; 陷害</p><blockquote><p><em>leave out many words such as bamboozle</em></p></blockquote><p>dunk v. 扣篮; 浸泡</p><p><strong>fidget</strong></p><p><strong>ditch</strong> v. 放弃</p><p>stool v. 发芽 n. 凳子</p><p>cascade v. 倾泻 n. 一连串; 小瀑布</p><p><strong>out of turn</strong> 不合时宜</p><p><strong>scowl</strong></p><p><strong>spook</strong></p><p>ladle n. 长柄勺</p><p><strong>front</strong> n. 假象; 掩饰</p><p><strong>sweat</strong> vt. 担心</p><p>knockout beauty</p><p><strong>out of the loop</strong></p><p>domino n. 多米诺骨牌</p><p><strong>stampede</strong></p><blockquote><p><em>Option 1 …</em></p></blockquote><p><strong>mull</strong> </p><blockquote><p><strong>ponder</strong>, <strong>contemplate</strong>, <strong>brood</strong>, <strong>scruple</strong></p></blockquote><h2 id="Liang-Chapter-8-Hunger-and-Evil"><a href="#Liang-Chapter-8-Hunger-and-Evil" class="headerlink" title="Liang Chapter 8 Hunger and Evil"></a>Liang Chapter 8 Hunger and Evil</h2><p><strong>usher</strong> v. 迎接; 引导 n. 引座员</p><p><strong>secure</strong> v. 栓牢</p><blockquote><p><em>Option 2 Decline</em></p></blockquote><p>mule n. 骡子</p><p><strong>call it a night</strong></p><p><strong>trek</strong></p><p><strong>stingy</strong> adj. 吝啬的</p><p><strong>on the line</strong></p><p><strong>bite the dust</strong></p><h2 id="Sui-Chapter-2-Shadow-Play"><a href="#Sui-Chapter-2-Shadow-Play" class="headerlink" title="Sui Chapter 2 Shadow Play"></a>Sui Chapter 2 Shadow Play</h2><p>mound n. 土堆</p><p><strong>rummage</strong></p><p><strong>scrape</strong> v. 勉强维持生机</p><p>thug n. 恶棍</p><p>temple n. 太阳穴; 鬓角</p><p><strong>fervor</strong></p><p>ember n. 余烬</p><p><strong>down and out</strong> 穷困潦倒的</p><p>ear n. 谷物或玉米的穗</p><p>tunic n. 短上衣</p><p><strong>go off on</strong> 大发雷霆</p><p><strong>grievance</strong></p><h2 id="Liang-Chapter-9-Selection"><a href="#Liang-Chapter-9-Selection" class="headerlink" title="Liang Chapter 9 Selection"></a>Liang Chapter 9 Selection</h2><p><strong>get cold feet</strong> 胆怯</p><p>All fucking bullshit!</p><p><strong>set in stone</strong> 无法改变的</p><p><strong>pull off</strong> 成功做到</p><blockquote><p><strong>wrap up</strong></p></blockquote><p><strong>vendor</strong> </p><p>turban n. 头巾</p><p><strong>somber</strong></p><p>pickle n. 泡菜 v. 腌制</p><p><strong>replenish</strong></p><p><strong>eloquent</strong></p><p><strong>sophisticated</strong></p><p>brush v. 擦肩而过</p><p>bun</p><blockquote><p><em>Option 1 Decline</em></p></blockquote><blockquote><p><em>Option 2 Hold hands</em></p></blockquote><p><strong>waive</strong></p><p><strong>low-end</strong></p><p><strong>haggle</strong></p><p><strong>have got someone there</strong> 说的有道理</p><p>riddance n. 摆脱</p><p><strong>spread</strong> n. 多样性; 食物; 品种</p><p>drool v. 垂涎</p><blockquote><p>slobber</p></blockquote><p>nibble v. 轻咬一口</p><p>bicker</p><p>hypocrisy</p><p>curfew n. 宵禁</p><p><strong>head over heels</strong> 完全地</p><p><strong>give a damn</strong> 关心</p><p>out cold 睡觉; 失去知觉</p><p>jerk v. 抽搐</p><p><strong>play for keeps</strong> 玩真的</p><p><strong>peddle</strong></p><p><strong>cahoot</strong></p><p><strong>pull the wool over</strong></p><p><strong>from the get-go</strong></p><p>knockout stuff 蒙汗药</p><p>lunge v. 冲向</p><p><strong>straddle</strong></p><p><strong>bulge</strong></p><blockquote><p><em>Option 2 Trust Tongue</em></p></blockquote><h2 id="Conclusion-Wolf-Kill"><a href="#Conclusion-Wolf-Kill" class="headerlink" title="Conclusion Wolf Kill"></a>Conclusion Wolf Kill</h2><p><strong>feeble</strong></p><p><strong>defiance</strong></p><p><strong>flicker out</strong> 慢慢熄灭</p><p>jug n. 水壶; 监狱 v. 炖</p><p>precocious adj. 早熟的</p><p>latch</p><p>squeak</p><p>rod</p><p><strong>bluff</strong></p><p>hoop n. 金属环; 滚圆</p><blockquote><p><em>Option 1 Trust Man Sui</em></p></blockquote><h2 id="Liang-Chapter-10-Cooking-Meat"><a href="#Liang-Chapter-10-Cooking-Meat" class="headerlink" title="Liang Chapter 10 Cooking Meat"></a>Liang Chapter 10 Cooking Meat</h2><p><strong>steadfast</strong> adj. 坚定不移的</p><p>reverberate</p><p>scoff v. n. 嘲笑</p><p><strong>vigilant</strong></p><p>grunt v. n. 发牢骚</p><p><strong>muffle</strong></p><p>crimson</p><blockquote><p>scarlet</p></blockquote><p><strong>ebb</strong></p><p><strong>falter</strong></p><p>marionette n. 提线木偶</p><p>nostril</p><p>coachman n. 马车夫</p><p>barrack v. 喝彩 n. 兵营</p><p><strong>settle a score</strong> 报仇; 算旧账</p><p><strong>have a bone to pick with</strong></p><p>make a run for it </p><p><strong>elope</strong> v. 潜逃</p><p><strong>fib</strong> n. 微不足道的谎言</p><p><strong>knack</strong></p><p><strong>stick</strong> v. 站得住脚</p><p>boonies n. 偏远地区</p><p>cleaver n. 屠刀</p><p>sinew n. 筋; 韧带 v. 加强</p><p>queasy adj. 恶心的; 紧张的</p><p>cesspool n. 化粪池</p><p>piglet</p><p><strong>extrapolate</strong></p><p>dismemberment n. 肢解</p><p>bob</p><p><strong>scrub</strong></p><p><strong>ferocious</strong></p><p>shifty adj. 狡猾的</p><h2 id="Liang-Chapter-11-Dream"><a href="#Liang-Chapter-11-Dream" class="headerlink" title="Liang Chapter 11 Dream"></a>Liang Chapter 11 Dream</h2><blockquote><p>Life sure throws some curveballs, huh?</p></blockquote><p>tad n. 一点点</p><p><em>the Red Hare</em> 赤兔</p><p><strong>ten out of ten</strong></p><p><strong>countenance</strong> n. 表情; 赞同</p><p><strong>scrutinize</strong></p><p><strong>hit the hay</strong> 睡觉</p><p>stagecoach n. 驿站马车</p><p>intro n. 开场白; 前奏</p><p>leopard n. 豹子</p><p><strong>frenzy</strong> v. n. 狂暴</p><p>knights-errant n. 侠客</p><p><strong>cunning</strong></p><blockquote><p>Heroes thrive in times of peace and perish in times of chaos, while villains thrive in chaos and perish in peace.</p></blockquote><p><strong>forlorn</strong></p><h2 id="Sui-Chapter-3-Pouch"><a href="#Sui-Chapter-3-Pouch" class="headerlink" title="Sui Chapter 3 Pouch"></a>Sui Chapter 3 Pouch</h2><p><strong>brunt</strong></p><p><strong>hallucinating</strong></p><p>charcoal</p><p><strong>retribution</strong></p><p>socket n. 眼窝</p><p>kowtow v. n. 磕头; 卑躬屈膝</p><h2 id="Liang-Chapter-12-Daring-Leader"><a href="#Liang-Chapter-12-Daring-Leader" class="headerlink" title="Liang Chapter 12 Daring Leader"></a>Liang Chapter 12 Daring Leader</h2><p><strong>mug</strong></p><p><strong>crumble</strong></p><p>carnage n. 大屠杀</p><p><strong>barricade</strong> v. n. 障碍</p><p><strong>trample</strong></p><p>fang n. 尖牙</p><p>hoofbeat n. 蹄声</p><p>tether n. 系绳 v. 拴绑</p><blockquote><p><em>Option 1 Sprint away</em></p></blockquote><h2 id="Conclusion-Died-in-Halfway-2"><a href="#Conclusion-Died-in-Halfway-2" class="headerlink" title="Conclusion Died in Halfway"></a>Conclusion Died in Halfway</h2><p>buttock n. 臀部</p><blockquote><p><em>Option 2 Stop</em></p></blockquote><p>spell n. 魔咒</p><p><strong>drape</strong> v. 悬挂; 披上 n. 帷幕</p><p>twang n. 口音</p><p><strong>crook</strong></p><blockquote><p><strong>by hook or by crook</strong> 想方设法, <strong>be crook on</strong> 发火, <strong>go crook</strong> 发脾气, <strong>out-and-out crook</strong> 彻头彻尾的骗子</p></blockquote><p><strong>demeanor</strong></p><p><strong>gruffly</strong></p><p><strong>brash</strong> adj. 莽撞的; 自以为是的</p><p><strong>in one’s prime</strong> 盛年</p><p>bellow v. 咆哮; 吼叫</p><p><strong>square off</strong> 摆好战斗姿势</p><p>showdown n. 摊牌; 最终较量</p><blockquote><p><em>Option 1 Agree to the showdown</em></p></blockquote><blockquote><p><em>Option 2 Negotiate again</em></p></blockquote><p>hothead n. 鲁莽的人</p><p><strong>brawn</strong> n. 体力</p><p><strong>retaliate</strong></p><p><strong>snitch</strong> v. 告密</p><p>ravine n. 峡谷; 沟壑</p><p>howl v. n. 怒号</p><h2 id="Liang-Chapter-13-Wolf-and-Liang"><a href="#Liang-Chapter-13-Wolf-and-Liang" class="headerlink" title="Liang Chapter 13 Wolf and Liang"></a>Liang Chapter 13 Wolf and Liang</h2><p><strong>on the house</strong></p><p><strong>scam</strong></p><p><strong>rip-off</strong> n. 敲诈</p><p>updo n. 高髻</p><p>sash n. 腰带</p><p><strong>gown</strong></p><p><strong>cover for</strong></p><p><strong>etstwhile</strong> adj. 从前的</p><p>constable n. 警官</p><p><strong>off the hook</strong></p><p><strong>tank</strong></p><p>fence v. 买卖赃物</p><p><strong>pull a fast one</strong> 欺骗</p><blockquote><p><em>Option 1 Sell for a good price</em></p></blockquote><p>hightail it 迅速逃跑</p><p><strong>well up</strong></p><p><strong>pitch in</strong></p><h2 id="Conclusion-Payback"><a href="#Conclusion-Payback" class="headerlink" title="Conclusion Payback"></a>Conclusion Payback</h2><p><strong>grease someone’s palm</strong> 行贿, 疏通关系</p><p>snarl</p><p>bumpy adj. 颠簸的</p><blockquote><p><em>Option 2 Reconsider</em></p></blockquote><p>burly adj. 结实的</p><p>spike v. 阻扰; 掺入毒药 n. 尖刺</p><p><strong>on board</strong> 赞同</p><h2 id="Liang-Chapter-14-Gift"><a href="#Liang-Chapter-14-Gift" class="headerlink" title="Liang Chapter 14 Gift"></a>Liang Chapter 14 Gift</h2><p>tambourine n. 拨浪鼓</p><p><strong>straighten</strong> v. 整理</p><p><strong>wired</strong> adj. 兴奋的, 紧张的</p><p><strong>ruffle</strong> v. 弄皱</p><p><strong>tousle</strong> v. 弄乱</p><p>raspy adj. 刺耳的</p><p><strong>douse</strong> v. 浇灭</p><p>hoof v. 踢; 步行</p><p>peony n. 牡丹</p><p>bangs n. 刘海</p><p>groove n. 凹槽</p><p>tightfisted adj. 吝啬的</p><blockquote><p><em>Option 1 Regret</em></p></blockquote><h2 id="Sui-Chapter-4-Despair"><a href="#Sui-Chapter-4-Despair" class="headerlink" title="Sui Chapter 4 Despair"></a>Sui Chapter 4 Despair</h2><p>drape v. 用布帘覆盖 n. 窗帘; 褶裥</p><p><strong>dilate</strong> </p><p><strong>dribble</strong> v. 淌; 滴 n. 运球</p><p>lurch v. 蹒跚; 突然倾斜 n. 挫折</p><p>waft v. 飘荡; 吹拂</p><p>thrash v. 打; 使逆行; 猛烈摆动</p><h2 id="Liang-Chapter-15-Fileworks"><a href="#Liang-Chapter-15-Fileworks" class="headerlink" title="Liang Chapter 15 Fileworks"></a>Liang Chapter 15 Fileworks</h2><p>rampart n. 壁垒;</p><p><strong>small-time</strong> adj. 三流的</p><p><strong>case the joint</strong> 踩点</p><p>vermilion adj. 朱红色的</p><p>like peas in a pod </p><p>grimy adj. 肮脏的</p><p>notched adj. 有凹口的</p><p>scrawny adj. 瘦弱的</p><p>sneer v. 冷笑</p><p>lunge v. 突进</p><p>grimace v. 痛苦的表情</p><p>soot n. 煤烟</p><p>flop v. 砰然落下</p><p>clumsily adv. 笨拙地</p><blockquote><p><em>Option 1 Offer them money</em></p></blockquote><blockquote><p>The vermillion gate reeks of meat and wine, by the roadside the starved and frozen lie. 朱门酒肉臭, 路有冻死骨</p></blockquote><p>twinge n. 刺痛</p><p>backdrop n. 背景</p><p>chrysanthenum n. 菊花</p><p><strong>outright</strong> adj. 完全的</p><p>outhouse n. 厕所</p><h2 id="Sui-Chapter-5-To-Be-Alive"><a href="#Sui-Chapter-5-To-Be-Alive" class="headerlink" title="Sui Chapter 5 To Be Alive"></a>Sui Chapter 5 To Be Alive</h2><p><strong>drench</strong> v. 使湿透</p><p>wriggle v. 扭动</p><p>canine adj. 似犬的</p><p>canines n. 虎牙</p><h2 id="Conclusion-Gone"><a href="#Conclusion-Gone" class="headerlink" title="Conclusion Gone"></a>Conclusion Gone</h2><p><strong>patrol</strong> v. 巡逻</p><p><strong>brisk</strong> adj. 轻快的</p><p>chastity n. 贞洁</p><h2 id="Sui-Chapter-6-Desolate-Escape"><a href="#Sui-Chapter-6-Desolate-Escape" class="headerlink" title="Sui Chapter 6 Desolate Escape"></a>Sui Chapter 6 Desolate Escape</h2><p>unkempt adj. 不整洁的</p><p>red-light district n. 妓院</p><h2 id="Sui-Chapter-7-Seeking-Revenge"><a href="#Sui-Chapter-7-Seeking-Revenge" class="headerlink" title="Sui Chapter 7 Seeking Revenge"></a>Sui Chapter 7 Seeking Revenge</h2><h2 id="Conclusion-Bodies-of-the-starved"><a href="#Conclusion-Bodies-of-the-starved" class="headerlink" title="Conclusion Bodies of the starved"></a>Conclusion Bodies of the starved</h2><p>sworn n. 仇人</p><p>vagary n. 奇想</p><p>gulp v. 狼吞虎咽</p><blockquote><p><em>Option 1 Join the Dashing General Li</em></p></blockquote><h2 id="Real-Conclusion-Living-Life-Together"><a href="#Real-Conclusion-Living-Life-Together" class="headerlink" title="Real Conclusion Living Life Together"></a>Real Conclusion Living Life Together</h2><p>pinky n. 小指</p><p><strong>trail off</strong> 逐渐消失</p><p>tawny adj. 黄褐色的</p><p>inferno n. 地狱</p><p>granary n. 谷仓</p><p><strong>travesty</strong> n. 滑稽的模仿</p><p>calabash n. 葫芦</p><p><strong>trance</strong> n. 恍惚</p><p>gallop v. 疾驰</p><p>bale n. 灾祸; 包</p><p><strong>flourish</strong> n. 豪迈的动作</p><p>moor v. 停泊</p><p>pole n. 杆</p><p>sash n. 腰带</p><p>dimple n. 酒窝</p><p><strong>thaw</strong> v. 解冻</p><blockquote><p><em>Option 2 Assassinate the Swine Demon</em></p></blockquote><h2 id="Real-Conclusion-Together-in-Death"><a href="#Real-Conclusion-Together-in-Death" class="headerlink" title="Real Conclusion Together in Death"></a>Real Conclusion Together in Death</h2><blockquote><p>Hsiao-hsiao soughs the wind, oh<br>Cold the waters of the Yi.<br>The knight who leaves you now, oh<br>You shall nevermore see.<br>风萧萧兮易水寒, 壮士一去兮不复还</p></blockquote><p>burp v. 打嗝</p><p>seneschal n. 管家</p><p>scabbard n. 剑鞘</p><p><strong>dispatch</strong> v. 杀死</p><p>nigh v. 接近</p><p>downtrodden adj. 被压迫的</p><p>volley adj. 对齐的</p><p>hedgehog n. 刺猬</p><h2 id="Conclusion-Flee-Quickly"><a href="#Conclusion-Flee-Quickly" class="headerlink" title="Conclusion Flee Quickly"></a>Conclusion Flee Quickly</h2><p><strong>plaster</strong> v. 张贴</p><p>slink v. 溜走</p><h2 id="Conclusion-Wordless"><a href="#Conclusion-Wordless" class="headerlink" title="Conclusion Wordless"></a>Conclusion Wordless</h2><p><strong>comeuppance</strong> n. 因果报应</p>]]></content>
    
    
    <categories>
      
      <category>English Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>Gal</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Yupanqui&#39;s Turnfire</title>
    <link href="/2024/09/18/yupanqui/"/>
    <url>/2024/09/18/yupanqui/</url>
    
    <content type="html"><![CDATA[<h2 id="A-Mysterious-Visitor-From-Huitztlan"><a href="#A-Mysterious-Visitor-From-Huitztlan" class="headerlink" title="A Mysterious Visitor From Huitztlan"></a>A Mysterious Visitor From Huitztlan</h2><p><em>the Scions of the Canopy</em></p><p><strong>get the wrong end of the stick</strong></p><p><em>the Turnfire Night</em></p><p><strong>scramble</strong> v.</p><p>under lock and key (being locked)</p><p><strong>assail</strong> v.</p><p><em>sorcerer</em> n. <em>a man with magic powers, who is helped by evil spirits</em></p><p><strong>aspersion</strong> n. <strong>libel</strong></p><ul><li>How dare you <strong>cast aspersion on</strong> your ruler!</li></ul><p><em>K’uhul Ajaw</em></p><p><strong>impede</strong> v.</p><p><em>Malipo</em>: ancient name Turnfire</p><p>singe v. scorch</p><p><em>Och-Kan was an evil tyrant</em></p><p><em>Yupanqui, the ancestor of the tribe.</em></p><p><em>Xbalanque, the first Pyro Archon.</em></p><p><strong>split-second</strong></p><p><em>parable</em> n. <em>a short story that teaches a moral or spiritual lesson, especially one of those told by Jesus as recorded in the Bible</em></p><p><strong>dredge</strong> v. remove with a power shovel, usually from a bottom of a body of water (dig)</p><ul><li>Let’s not go <strong>dredging up</strong> the past.</li></ul><p><strong>a loose cannon</strong> n. <em>a person who is expected to perform a particular task but who is out of control and dangerous</em></p><p><strong>push one’s buttons</strong> : <em>If you push someone’s buttons, you do something or talk about something that upsets them</em>. -&gt; <strong>button-pusher</strong></p><h2 id="A-Hero’s-Rite"><a href="#A-Hero’s-Rite" class="headerlink" title="A Hero’s Rite"></a>A Hero’s Rite</h2><p><strong>know better than</strong> to do</p><p><strong>get off on the right&#x2F;wrong foot</strong></p><p><strong>about-face</strong> n. <em>An about-face is a complete change of attitude or opinion</em></p><p><strong>combustion</strong> n. burning&#x2F;commotion</p><p><strong>perceptive</strong> adj.</p><p><strong>cleanse</strong></p><p><strong>a close call</strong> n. on the verge of danger</p><ul><li>That’s was a close call.</li></ul><p><strong>bona-fide</strong> adj. If something or someone is bona fide, they are genuine or real.</p><ul><li>Kinich is a <strong>bona-fide</strong> hero who’s inherited the Malipo name.</li></ul><p><strong>worth its weight in gold</strong></p><p><strong>insufferable</strong> adj. unbearable</p><p><strong>pompous</strong> adj. <strong>pretentious&#x2F;flaunting + frivolous</strong>(?</p><ul><li>I’ll bring you up to speed on…</li></ul><p><strong>filthy</strong> adj.</p><p><strong>defile</strong> v. contaminate</p><p><strong>intrigued</strong> adj.</p><p>scumsucking adj. egregious</p><p>brazier n. <em>a metal container for burning coal, wood, etc., used to give warmth or to cook on</em></p><p><strong>keep … at bay</strong></p><ul><li><strong>Desperate times call for desperate measures.</strong></li></ul><h2 id="Kinich’s-Deal"><a href="#Kinich’s-Deal" class="headerlink" title="Kinich’s Deal"></a>Kinich’s Deal</h2><ul><li>An unexpected encounter <strong>finds</strong> you just as you are planning to …</li></ul><p><strong>blurt</strong> v. If someone blurts something, they say it <em>suddenly</em> (after trying hard to keep quiet or to keep it secret.)</p><ul><li>You shouldn’t go around <strong>blurting out</strong> accusations like that, it can get you in trouble.</li><li>Too blunt? I’ll phrase it more gently.</li></ul><p><strong>blunt</strong> adj.</p><p><strong>purge</strong> v. cleanse</p><ul><li>Abyssal contamination is completely <strong>purged</strong> from his body.</li></ul><p><strong>endorse</strong> v.</p><p><strong>mull over on</strong></p><blockquote><p>deliberate on, consider deeply, after much consideration</p></blockquote><p>double-edged sword</p><p><strong>unhinged</strong> adj.</p><p><strong>demonic</strong> adj. <strong>demon</strong></p><p>be <strong>adamant</strong> about</p><p><strong>on the flip side</strong></p><p><strong>have every right</strong></p><ul><li>He <strong>has every right to</strong> do that.</li><li>You <strong>have every right to</strong> remain silence!</li></ul><p><strong>marble</strong> n. <em>informal</em> sb’s intelligence or mental ability</p><p>lost your <strong>marbles</strong></p><p><strong>stalemate</strong> n. </p><blockquote><p>impasse, predicament</p></blockquote><p><strong>be worth your while</strong></p><p><strong>daredevil</strong> n.</p><p><strong>sweep off one’s feet</strong>: overwhelm someone emotionally or become suddenly and completely in love with a person</p><ul><li>I’m sure everyone will <strong>be swept off their feet</strong> when they meed our new flame bearer.</li></ul><p>give you a piece of my mind : criticize</p><p>once and for all</p><p><strong>precarious</strong> adj. not safe or certain; dangerous &#x2F;<br>likely to fall or cause sb to fall</p><blockquote><p>uncertain, insecure, unreliable, unsure,</p></blockquote><p>unpredictable, undependable, risky, hazardous, dangerous, unsafe, hanging by a thread, hanging in the balance,</p><p> <strong>perilous</strong>, <strong>treacherous</strong>, <strong>on a slippery slope</strong>, <strong>on thin ice</strong>, <strong>touch-and-go</strong>, <strong>built on sand</strong>, doubtful, <strong>dubious</strong>, delicate, tricky,</p><p>problematic, unsettled, unstable, unsteady, shaky, rocky, <strong>wobbly</strong>(<strong>wobble</strong>  v.)</p><blockquote><p><em>informal</em> dicey, chancy, <strong>hairy</strong>, iffy; <em>British informal</em> dodgy; <em>archaic or humorous</em> parlous. </p></blockquote><blockquote><p>ANTONYMs safe, secure</p></blockquote><ul><li><em>Paimon: …It’s a good thing Thiago had the sense to stay in his hiding place, or things could’ve gotten really <strong>hairy</strong> for him.</em></li></ul><p><strong>remnant</strong> n.</p><p><strong>bowel</strong> n. <strong>intestine</strong> </p><ul><li><p><strong>the bowel of</strong>: <em>A rumble came from the bowels of the earth (&#x3D; deep underground)</em> .</p></li><li><p><em>You can dive into deep in <strong>the bowels of</strong> the Night Kingdom, and it wouldn’t burn a single hair off your head.</em></p></li></ul><p><strong>That’s a wrap.</strong> &#x3D; Well done(?</p><p>as tough as nails</p><ul><li>Look at him, lost and <strong>listless</strong>… He’s <strong>a shell of</strong> the man he was.</li></ul><p>tatty adj. shabby</p><p><strong>peruse</strong> v. to read sth, especially in a careful way</p><ul><li>Do you truly find no joy at all in <strong>perusing</strong> such rich historical records?</li></ul><blockquote><p><strong>scrutinize</strong>, inspect, study</p></blockquote><p>drivel n. silly nonsense</p><p><strong>grisly</strong> adj.extremely <em>unpleasant</em> and <em>frightening</em> and usually connected with death and violence</p><ul><li><p>A shocking prediction: Every bearer of the ancient name “Malipo” eventually meets a <strong>grisly</strong> end.</p></li><li><p>the <strong>grisly</strong> details of human sacrifices</p></li></ul><blockquote><p><strong>gruesome</strong>, <em>ghastly</em>, frightful, horrid, horrifying, fearful, <strong>hideous</strong>, <em>macabre</em>, <strong>spine-chilling</strong>, horrible, horrendous, <strong>grim</strong>, awful, <strong>dire</strong>, <strong>dreadful</strong>, terrible, horrific,  <strong>disgusting</strong>, <strong>repulsive</strong>, <strong>repugnant</strong>, revolting, repellent, sickening, <strong>distressing</strong>, shocking, <strong>appalling</strong>, abominable, loathsome, <strong>abhorrent</strong>, odious, monstrous, unspeakable.</p></blockquote><p><strong>irredeemable</strong> adj.</p><p><strong>irreverence</strong> n.</p><p><strong>superstition</strong> n.</p><p>a <strong>tit-for-tat</strong> exchange</p><p><strong>palatable</strong> adj. acceptable to the taste or mind</p><ul><li>more <strong>palatable</strong> version of events. The truth is even darker.</li></ul><p><strong>desecrate</strong> v. <strong>blasphemy</strong> (…</p><p><strong>heinous</strong> adj. <strong>grisly</strong>&#x2F; egregious</p><ul><li><p><strong>heinous atrocity</strong></p></li><li><p>I’m a man of my word. <strong>I’d say I under-promised and over-delivered.</strong></p></li><li><p>Change is inevitable, and nothing lasts forever.</p></li></ul><p>masochistic adj. M (…</p><p>sadistic adj. S (…</p><p><em>sadism and masochism</em> (…</p><p><strong>ravenous</strong> adj. extremely hungry(starving)&#x2F;extremely strong</p><ul><li>What’s for lunch? I’m absolutely <strong>ravenous</strong>. &#x2F;<br>a <strong>ravenous</strong> appetite</li></ul><p><strong>dwindle</strong> v. decrease(?</p><p>imbecile n. dinner(x)</p><p><strong>insulate</strong> v. ( ~ against )</p><p><strong>charcoal</strong> n. <em>burned wood becomes charcoal</em> (<strong>char</strong> + coal)</p><p><strong>a fraction of</strong></p><p>atonement n. <em>obsolete</em> reconciliation &#x2F; compensation of god…</p><p>perverse adj. </p><p><strong>scorn</strong> v.</p><p><strong>humiliating</strong> adj.</p><h2 id="Tale-of-Dreams-plucked-From-Fire"><a href="#Tale-of-Dreams-plucked-From-Fire" class="headerlink" title="Tale of Dreams plucked From Fire"></a>Tale of Dreams plucked From Fire</h2><h3 id="Tracer-No-Tracing"><a href="#Tracer-No-Tracing" class="headerlink" title="Tracer No Tracing"></a>Tracer No Tracing</h3><p>pluck sb (from sth): to remove sb from a place or situation, especially one that is unpleasant or dangerous (salvage)</p><p>aplenty adj. abundant &#x2F; plenty</p><ul><li>Your youth means you’re still got chances to make mistakes aplenty.</li></ul><p><em>Chikya</em></p><p>a million dollar question: an important question (that hard to answer).</p><p><strong>inching</strong> my way toward</p><p><strong>therapeutic</strong> adj.</p><p>diddly-squat adv(? barely</p><ul><li>Therapeutic springs my foot–didn’t work worth diddly-squat.</li></ul><p>‘An elixir that can cure all injuries’</p><p><strong>sharp-eyed</strong> -&gt; astute observation (<strong>acuity</strong> n.)</p><p><strong>sublime</strong> (adj.)</p><ol><li><p><strong>Of very high quality and causing great admiration</strong></p><ul><li><strong>Synonyms</strong>: exalted, elevated, noble, lofty, awe-inspiring, awesome, majestic, magnificent, imposing, glorious, supreme, grand, great, outstanding, excellent, first-rate, first-class, superb, perfect, ideal, wonderful, marvelous, splendid, delightful, blissful, rapturous</li><li><strong>Informal Synonyms</strong>: fantastic, fabulous, fab, super, terrific, stellar, heavenly, divine, mind-blowing, too good to be true, out of this world</li><li><strong>British Informal Synonym</strong>: smashing</li><li><strong>Antonyms</strong>: poor, lowly, ordinary</li></ul></li><li><p><strong>(Formal, often disapproving) Extreme behavior or attitudes</strong></p><ul><li><strong>Example</strong>: the sublime confidence of youth</li><li><strong>Synonyms</strong>: supreme, total, complete, utter, consummate (a consummate liar), extreme, arrogant</li></ul></li></ol><p><strong>discrepancy</strong> n.</p><p>Upper Sanctum(Hanan Pacha)</p><p><strong>utopia</strong> n.</p><p>heebie-jeebies ( <em>old-fashioned</em> informal ) a feeling of nervous fear or worry</p><p>hypnosis n.</p><p><strong>subside</strong> v.<br>to become calmer or quieter</p><ul><li>…and the pain in my back should <strong>subside</strong>…</li></ul><h3 id="Seeker-No-Finding"><a href="#Seeker-No-Finding" class="headerlink" title="Seeker No Finding"></a>Seeker No Finding</h3><p><strong>conflagration</strong> n.  a very large <strong>fire</strong> that destroys a lot of land or buildings</p><p>nigh-on &#x3D; approximately</p><p><strong>iridescent</strong> adj. iris 色彩斑斓</p><p>take a shrine to 产生好感</p><p><strong>obsolete</strong> adj.</p>]]></content>
    
    
    <categories>
      
      <category>English Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>Genshin</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ATRI -My Dear Moments-</title>
    <link href="/2024/09/17/ATRI/"/>
    <url>/2024/09/17/ATRI/</url>
    
    <content type="html"><![CDATA[<blockquote><p>The chapters are missing.</p></blockquote><h2 id="Time-is-a-cruel-thief-to-rob-us-of-our-former-selves-We-lose-as-much-to-life-as-we-do-to-death"><a href="#Time-is-a-cruel-thief-to-rob-us-of-our-former-selves-We-lose-as-much-to-life-as-we-do-to-death" class="headerlink" title="Time is a cruel thief to rob us of our former selves. We lose as much to life as we do to death."></a>Time is a cruel thief to rob us of our former selves. We lose as much to life as we do to death.</h2><p><strong>searing</strong> adj. 灼热的</p><p><strong>scrabble</strong></p><p><strong>contort</strong> v. 扭曲</p><p><strong>throb</strong> v. 跳动</p><p><strong>limp</strong> adj. 软弱无力的</p><p>clammy adj. 湿冷的</p><p><strong>torment</strong></p><p><strong>crunch</strong></p><p>prosthetic adj. 假体的</p><p><strong>fiddle</strong> v. 诈骗；篡改 n. 小提琴 </p><p><strong>decrepit</strong> adj. 衰老的</p><p><strong>flinch</strong></p><p>pier n. 码头；桥墩</p><p>bob v. 上下移动</p><p><strong>clamp</strong> v. 夹紧</p><p>splutter</p><p>roger exl. 收到</p><p>rotund adj. 圆润的</p><p><strong>glisten</strong> v. 闪烁</p><p>hull n. 船壳</p><p><strong>teem</strong> v. 充满</p><p><strong>uncanny</strong> adj. 神秘的；奇异的</p><p><strong>posit</strong> v. n. 假定</p><p><strong>inexorable</strong> adj. 无情的；不可阻挡的</p><p><strong>twilight</strong></p><p><strong>bring someone&#x2F;something to their knees</strong> 摧毁；打败</p><p><strong>out of keeping</strong> 不协调</p><p><strong>taut</strong> adj. 拉紧的；紧张的；严格的 n. 使纠缠</p><p><strong>no dice</strong></p><p>clang v. n. 叮当作响</p><p><strong>billow</strong> n. 巨浪；浓烟 v. 翻滚；涌起</p><p>sediment n. 沉淀物 v. 沉淀</p><p><strong>buoy</strong> n. 浮标 v. 鼓舞；使漂浮</p><p><strong>buoyant</strong> adj. 漂浮的；繁荣的；振奋的</p><p><strong>scowl</strong> n. 怒容 v. 怒视</p><p><strong>detritus</strong> n. 残渣</p><p>skitter v. 轻快跑动</p><p>oblong adj. 长方形的</p><p>murky adj. 晦涩的；污浊的</p><p>sarcophagus n. 石棺</p><p>casket n. 首饰盒；骨灰盒</p><p>mannequins n. 人体模型</p><p><strong>nudge</strong> </p><p><strong>inundate</strong></p><p><strong>loom</strong></p><p><strong>out of the woods</strong></p><p><strong>gruesome</strong></p><p><strong>unfazed</strong></p><p>creak</p><p><strong>capsize</strong> v. 翻船</p><p><strong>hit the jackpot</strong></p><p><strong>shudder</strong> v. 颤抖</p><p><strong>plight</strong></p><p><strong>bask</strong> v. 晒太阳；沐浴在</p><p><strong>colloquial</strong> adj. 口语的；非正式的；不准确的</p><p><strong>en masse</strong></p><p><strong>quirk</strong></p><p><strong>patronize</strong> v. 以高人一等的态度对待</p><p><strong>glint</strong> v. 闪光</p><p><strong>cantankerous</strong> adj. 脾气暴躁的；难以相处的</p><p><strong>quote</strong> v. 出价</p><p><strong>wobble</strong></p><p><strong>trot</strong> v. 疾跑</p><p><strong>hobble</strong> v. 蹒跚；妨碍 n. 困境</p><p>gait n. 姿态；步态</p><p>potter v. 闲逛；悠闲地做事</p><p>hem n. 褶边</p><p>backwater n. 不发达地区</p><p><strong>born and bred</strong></p><p><strong>morass</strong> n. 困境</p><p><strong>silhouette</strong> n. 轮廓；外形</p><p><strong>trudge</strong> v. 跋涉</p><p><strong>shuffle</strong> v. 笨拙地移动</p><p><strong>clench</strong></p><p><strong>haggle</strong> v. 讨价还价</p><p>loafers n. 平底便鞋</p><p><strong>furrow</strong></p><p>doozy n. 显眼的东西</p><p>nape n. 后颈</p><p><strong>fetch</strong> v. 卖得</p><p><strong>colossal</strong> adj. 巨大的</p><p><strong>exasperate</strong> v. 激怒</p><p>lass n. 女孩</p><p>natch adv. 当然</p><p>retro adj. 复古的</p><p>innit abbr. 对不对</p><p><strong>noncommittal</strong></p><p><strong>cower</strong> v. 畏缩</p><p><strong>melancholic</strong></p><p>lilt n. 轻快的旋律 v. 哼唱</p><p>churn v. 翻滚</p><p>muted adj. 柔和的</p><p><strong>trajectory</strong></p><p>pajama n. 睡衣</p><p><strong>somber</strong></p><p><strong>horrid</strong></p><p><strong>slick</strong></p><p><strong>reverberate</strong> v. 回响</p><p>writhe v. 因痛苦而翻滚挣扎</p><p>rivulet n. 溪流</p><p><strong>drift into</strong> 不知觉陷入某种状态</p><p>tingle v. 使感到刺痛 n. 兴奋感</p><p>twinge v. 使刺痛；不适</p><p><strong>infringe</strong></p><p><strong>bleary</strong> adj. 无精打采的</p><p>creaky adj. 嘎吱作响的</p><p><strong>diverge</strong></p><p><strong>from here on out</strong></p><p>tuft n. 形容一缕头发</p><p><strong>stick in someone’s craw</strong> 令人难以接受的</p><p><strong>rinse</strong></p><p><strong>That’s all Folks!</strong> 结束了</p><p><strong>on one’s plate</strong></p><p><strong>petulant</strong> adj. 任性的</p><p><strong>aggrandize</strong> v. 夸大</p><p>tut int. 啧</p><p>henchman n. 心腹</p><p>brat</p><p>cane n. 拐杖</p><p><strong>fiery</strong></p><p><strong>high ground</strong> 优势地位</p><p><strong>imperious</strong> adj. 蛮横的</p><p><strong>plaudit</strong></p><p><strong>subside</strong></p><p>hubbub n. 喧闹</p><p>plonk v. 重重放下</p><p><strong>as cool as a cucumber</strong> 出奇的冷静；泰然自若</p><p>chuckle</p><p><strong>reprobate</strong> adj. 堕落的</p><p><strong>begrudge</strong></p><p>smarty-pants n. 自作聪明的人</p><p><strong>silver spoon</strong> 继承的财富</p><p><strong>born with a silver spoon in your mouth</strong> to have a high social position and be rich from birth</p><p><strong>threshold</strong></p><p><strong>hue</strong></p><p>glassy adj. 木然的</p><p><strong>engross</strong></p><p>cowlick n. 额头翘起的一绺头发</p><p><strong>rub off on</strong></p><p><strong>inquisitive</strong> adj. 好奇的</p><p>stutter v. 口吃</p><p><strong>tumult</strong> n. 喧闹；骚动</p><p><strong>mayhem</strong> n. 骚动；混乱</p><p><strong>ransack</strong> v. 洗劫；翻箱倒柜</p><p><strong>haywire</strong> adj. 失控的</p><p><strong>clutch</strong></p><p>chute n. 滑道；斜坡</p><p>samurai 武士</p><p>seppuku n. 切腹自杀</p><p><strong>obliterate</strong></p><p>ply v. 不断提供；定时往来</p><p><strong>decadent</strong></p><p>poop v. 使筋疲力尽</p><p><strong>saddle</strong></p><p>hunk n. 大块</p><p><strong>rife</strong> adj. 普遍的</p><p>authoritarian adj. 独裁的</p><p><strong>one bad apple spoils the barrel</strong></p><p><strong>flunk</strong></p><p>softy&#x2F;softie n. 软心肠的人；意志薄弱的人</p><p>etch</p><p>pylon n. 高压电线塔</p><p><strong>dire</strong></p><p><strong>strait</strong></p><p><strong>bawl</strong></p><p><strong>takeaway</strong> n. 收获；重要信息</p><p><strong>right as rain</strong></p><p><strong>to a T</strong> 恰到好处的</p><p><strong>to a tee</strong></p><p>pumpkin</p><p>drawer n. (旧)内裤</p><p><strong>begrudgingly</strong></p><p>onlooker n. 旁观者</p><p>piston n. 活塞</p><p>cinder</p><p><strong>in the sticks</strong> 在乡村；在乡下；偏远地区</p><p>It’s not like I took anything more than the first, awkward steps into that world, though.</p><p><strong>paramount</strong></p><p><strong>trickle</strong></p><p><strong>graze</strong> v. 放牧；擦伤</p><p>rubberneck n. 爱问长问短的人；伸长脖子看的人</p><p><strong>mangle</strong> v. 严重损坏</p><p><strong>whimper</strong> v. 啜泣；低声抱怨</p><p><strong>horde</strong> n. 一群人</p><p>dumbstruck</p><p><strong>camouflage</strong></p><p><strong>go at it</strong> 争吵或争论</p><p><strong>square up</strong></p><p><strong>home room</strong> &lt;美&gt;年级大教室</p><p><strong>languid</strong> adj. 无精打采的</p><p><strong>sagacious</strong> adj. 有洞察力的</p><p><strong>scurry</strong> v. 疾走</p><p><strong>theatrical</strong> adj. 戏剧性的</p><p>booty n. 战利品</p><p>dart v. 飞奔</p><p><strong>eviscerate</strong> v. 取出内脏；抽去精华；挫伤元气</p><p><strong>squirt</strong> v. 喷涌</p><p>rotor n. 转子</p><p><strong>incandescent</strong> adj. 炽热发光的；杰出的</p><p>trundle v. 缓慢而沉重地行驶</p><p>vane n. 风车地叶片；风向标</p><p><strong>wade</strong> v. 跋涉；涉水</p><p>monolith</p><p>edifice n. 建筑物</p><p><strong>fizzle</strong></p><p>thud 砰v. 地落下</p><p>aqueduct</p><p>sprite</p><p><strong>lateral</strong> adj. 侧面的</p><p><strong>brim</strong> v. 充满 n. 边缘</p><p>gurgle n. 汩汩声</p><p><strong>famished</strong> adj. 极度饥饿的 </p><p>chomp</p><p>filament n. 灯丝</p><p><strong>peckish</strong> adj. 饿的</p><p><strong>by the by</strong> 顺便说一下</p><p><strong>off-putting</strong> adj. 令人不愉快的</p><p><strong>baleful</strong> adj. 邪恶的</p><p><strong>too big for your boots</strong> behaving as if you are more important than you really are</p><p><strong>sinister</strong></p><p>biz n. 商业</p><p><strong>exuberant</strong> adj. 充满活力的</p><p><strong>right in the kisser</strong> Directly in or on the mouth. Typically said of a punch or blow.</p><p><strong>prolific</strong> adj. 作品丰富的</p><p>scavenge v. 拾荒</p><p>membrane</p><p><strong>flip</strong> adj. 无礼的</p><p>flipper n. 脚蹼</p><p><strong>dodgy</strong></p><p>hooky n. 逃学</p><p><strong>skimp</strong></p><p><strong>skimpy</strong></p><p>aerodynamic adj. 流线型的</p><p><strong>get the&#x2F;this show on the road</strong> to begin an activity that has been planned</p><p>doggy-paddle</p><p><strong>deject</strong></p><p><strong>collateral</strong> adj. 次要的；附属的</p><p><strong>buoyancy</strong> n. 浮力</p><p><strong>rubble</strong></p><p>brow knitted</p><p><strong>poach</strong></p><p><strong>nonplussed</strong> adj. 困惑的；泰然自若的</p><p>manatee n. 海牛</p><p><strong>erstwhile</strong> adj. 从前的</p><p><strong>grapple</strong> v. 扭打；努力解决</p><p><strong>magnitude</strong></p><p><strong>hunker</strong> v. 蹲坐；专注于</p><p><strong>groggy</strong> adj. 头昏的</p><p>fission n. 分裂</p><p>fusion</p><p><strong>plug</strong></p><p><strong>reservoir</strong> n. 水库 v. 储备</p><p>unfurl v. 展开</p><p><strong>scribble</strong> n. 潦草的字迹 v. 匆匆书写</p><p><strong>callous</strong> adj. 麻木不仁的</p><p><strong>calloused</strong> adj. 长老茧的</p><p><strong>dilapidated</strong> adj. 破旧的；年久失修的</p><p><strong>hanker</strong> v. 渴望</p><p><strong>revert</strong></p><p><strong>demolish</strong></p><p><strong>snoop</strong> v. 打探</p><p><strong>get back on one’s feet</strong></p><p><strong>cog</strong> v. 剽窃</p><p>stipend n. 薪金</p><p><strong>through the wringer</strong> 历经磨难</p><p><strong>only so many&#x2F;much</strong> </p><p>mat</p><p><strong>impregnate</strong> v. 使充满 adj. 充满的</p><p><strong>horrendous</strong></p><p>stench n. 恶臭</p><p>transformer n. 变压器</p><p>stretch v. 耗尽</p><p><strong>ringer</strong> n. 替补；冒名顶替的人</p><p><strong>take off</strong> 离家出走</p><p><strong>wail</strong> v. 痛哭</p><p><strong>bawl</strong> v. 号哭</p><p><strong>stroke</strong> v. 轻抚</p><p><strong>light out for</strong> 出发；离开</p><p><strong>marvelous</strong></p><p><strong>roof over your head</strong> 住所；关照</p><p>grate v. 磨碎 n. 壁炉</p><p><strong>be above doing sth</strong> 不屑于做</p><p>snicker v. 偷笑</p><p><strong>impassive</strong> adj. 冷漠的</p><p><strong>flagging</strong> adj. 萎靡的</p><p>huff v. 发怒；生气地说</p><p><strong>gaudy</strong> adj. 华而不实的</p><p><strong>faraway</strong></p><p>conman</p><p><strong>proceed</strong> n. 收入</p><p><strong>spell</strong> n. 休息</p><p><strong>hectic</strong></p><p><strong>rhyme or reason</strong> 条理</p><p><strong>baneful</strong> adj. 有害的</p><p><strong>scrape</strong></p><p><strong>sterile</strong></p><p><strong>jittery</strong> adj. 紧张不安的</p><p>harem n. 女眷</p><p><strong>pocket change</strong> 微不足道的金额</p><p>pout</p><p>petite adj. 娇小的</p><p><strong>consternation</strong> n. 惊慌失措</p><p>thwack w. 拍打</p><p><strong>go out of one’s way</strong> 特意做某事</p><p><strong>rail</strong> v. 责骂；抱怨</p><p>far-flung adj. 遥远的</p><p><strong>plastered</strong> adj. 醉酒的</p><p>ruby n. 红宝石</p><p><strong>feign</strong> v. 假装</p><p><strong>get by</strong> 勉强应付生活</p><p>mooch v. 闲逛；索取</p><p>carnivorous adj. 食肉的</p><p><strong>sultry</strong> adj. 湿热的</p><p>huffily adv. 发怒地</p><p><strong>gulp</strong></p><p><strong>vigor</strong> n. 精力</p><p><strong>ablution</strong> n. 盥洗</p><p>sullen adj. 郁郁寡欢的</p><p>josh n. v. 戏谑</p><p><strong>pore</strong> v. 仔细阅读</p><p><strong>bemuse</strong></p><p><strong>gastronomic</strong> adj. 美食学的</p><p><strong>deferential</strong> adj. 恭敬的</p><p>cruise v. 找异性寻欢作乐</p><p>outcast n. 弃儿 adj. 被遗弃的</p><p><strong>throng</strong> v. 聚集；涌向</p><p><strong>rusty</strong> adj. 知识不熟练的</p><p><strong>fervent</strong> </p><p><strong>non-committed</strong> adj. 含糊其辞的</p><p><strong>bear down on</strong> 向…逼近；冲向</p><p><strong>mellifluous</strong> adj. 悦耳的</p><p><strong>dulcet</strong> adj. 悦耳的</p><p><strong>effusive</strong> adj. 感情充沛的</p><p>bust</p><p><strong>coordinate</strong> n. 坐标</p><p>rudder n. 方向舵</p><p><strong>rope</strong></p><p><strong>relay</strong></p><p>optical fibre n. 光纤</p><p>crisscross adj. 交错的；十字型的</p><p>outpost n. 前哨</p><p>bow n. 船头</p><p>dangle v. 悬垂</p><p><strong>falter</strong> v. 踌躇；畏缩</p><p>resound v. 回响</p><p><strong>bewitched</strong> adj. 着迷的</p><p><strong>premonition</strong></p><p>humidity n. 湿度</p><p><strong>extricate</strong> v. 解放</p><p>brine n. 盐水；海水</p><p><strong>gleam</strong> v. 发光</p><p>muggy adj. 湿热的</p><p>pitter-patter n. 噼噼啪啪声</p><p>propeller n. 螺旋桨</p><p>half-ass</p><p><strong>palpable</strong> adj. 明显的</p><p>the birds and the bees 性教育</p><p><strong>tutelage</strong> n. 指导；监护</p><p><strong>squeal</strong> v. 尖叫；告密</p><p>terminology n. 术语</p><p><strong>blow-by-blow</strong> 详细的</p><p><strong>marshal</strong> v. 策划</p><p><strong>put out</strong> 困扰</p><p><strong>knead</strong></p><p><strong>salivate</strong> v. 垂涎</p><p>lap v. 舔食</p><p><strong>scruffy</strong> adj. 破旧的</p><p><strong>conceit</strong></p><p><strong>skewer</strong> </p><p><strong>skew</strong></p><p><strong>flat broke</strong> 没钱</p><p>tart adj. 酸的</p><p><strong>stoop</strong> v. 俯身；弯腰</p><p><strong>gird</strong> v. 用带束缚；包围；挖苦</p><p><strong>loin</strong> n. 腰部</p><p><strong>gird up one’s loins</strong> 准备行动；跃跃欲试</p><p><strong>purse</strong> v. 皱缩</p><p>sandals n. 拖鞋；凉鞋</p><p><strong>dirt-poor</strong> 极度贫困的</p><p><strong>feint</strong> v. 佯攻 adj. 假装的</p><p><strong>frolic</strong> v. 嬉戏；欢闹</p><p><strong>thrash</strong> v. 翻来覆去；鞭打；彻底击败</p><p><strong>topple</strong> v. 失去平衡</p><p>will never hear the end of it 说个没完没了</p><p><strong>yonder</strong> adv. adj. pron. 那边</p><p><strong>twitch</strong> v. 抖动</p><p>jostle v. 推挤</p><p><strong>enrapture</strong> v. 使狂喜</p><p>rupture v. 裂开</p><p><strong>flaunt</strong> v. 卖弄</p><p>jiggle v. 抖动</p><p>bulldoze v. 夷为平地；恐吓</p><p><strong>cheat on</strong> 对…不忠</p><p>rubber ring 橡胶圈</p><p><strong>flail</strong> v. 挥动；鞭打；徒劳挣扎</p><p>cleavage n. 分裂</p><p>bastard n. 混蛋 adj. 劣质的；私生的</p><p><strong>to take one’s last breath</strong> 气绝</p><p>marshmallow n. 棉花糖</p><p><strong>hurl</strong></p><p><strong>lump</strong></p><p><strong>unmitigated</strong> adj. 十足的；绝对的</p><p><strong>liability</strong> n. 责任</p><p><strong>objectionable</strong> adj. 令人反感的</p><p>shojo manga 少女漫画</p><p><strong>apron</strong> n. 围裙；停机坪</p><p><strong>stumble</strong></p><p><strong>recline</strong> v. 斜倚</p><p>puffy adj. 肿胀的</p><p><strong>drift off</strong> 入睡</p><p><strong>squish</strong> v. 塞进</p><p>gargle v. 漱口</p><p>sleephead n. 爱睡懒觉的人</p><p><strong>huddle</strong> v. 缩成一团</p><p><strong>staging post</strong> 中转站</p><p><strong>totter</strong> v. 蹒跚；摇摇欲坠</p><p>folly n. 不明智的行为</p><p><strong>raucous</strong> adj. 沙哑的</p><p><strong>expedient</strong></p><p><strong>affinity</strong> n. 同情心</p><p><strong>twist</strong> v. 编造</p><p><strong>tell off</strong> 责备</p><p><strong>inexorably</strong></p><p>dinger n. 极好的东西</p><p><strong>warp</strong> v. 弯曲</p><p>swat v. 猛地一击</p><p>pugilist n. 拳击手</p><p><strong>furbish</strong> v. 翻新</p><p><strong>obsolescent</strong> adj. 即将过时的</p><p><strong>precipice</strong> n. 悬崖</p><p><strong>flutter</strong></p><p><strong>fluster</strong></p><p><strong>compunction</strong> n. 内疚</p><p><strong>dearth</strong> n. 缺乏</p><p><strong>self-sustaining</strong></p><p>husk n. 外壳</p><p><strong>slobber</strong> v. 流口水；过分热情</p><p>spittle n. 唾液</p><p>just out of diapers</p><p><strong>nonchalant</strong> adj. 冷漠的</p><p>scuttle v. 疾走</p><p><strong>easy-peasy</strong></p><p><strong>assuage</strong> v. 减轻；缓和</p><p><strong>assail</strong></p><p><strong>get on someone’s case</strong> 说三道四</p><p>swig v. 一大口</p><p><strong>rave</strong> v. 赞不绝口；语无伦次</p><p>freebie n. 免费赠品</p><p><strong>drool</strong> v. 流口水</p><p><strong>sidle</strong></p><p>lovey-dovey</p><p><strong>grit one’s teeth</strong> 咬紧牙关</p><p><strong>perspicacious</strong> adj. 有洞察力的</p><p><strong>purchase</strong> v. 抓牢</p><p><strong>sever</strong> v. 切断</p><p><strong>lever</strong></p><p>comfy adj. 舒服的</p><p><strong>scrimp</strong> v. 节俭</p><p><strong>portentous</strong> adj. 预示性的；自命不凡的</p><p><strong>go through a bad&#x2F;difficult&#x2F;rough&#x2F;sticky patch</strong> 不走运</p><p><strong>blot</strong> n. 玷污；污点</p><p><strong>unfathomable</strong> adj. 深不可测的</p><p><strong>tingle</strong></p><p><strong>cheek</strong> v. 顶撞</p><p>cyan n. 蓝绿色</p><p>excrete v. 排泄</p><p><strong>tumble</strong> 摔v. 倒；暴跌</p><p><strong>prone</strong> adj. 俯卧的</p><p>shoo v. 赶走 ini. 嘘</p><p><strong>pass for</strong> 被认为；冒充</p><p><strong>verdant</strong> adj. 碧绿的；长满青草的；不熟练的</p><p><strong>pathetic</strong> adj. 差劲的</p><p><strong>dote</strong> v. 宠爱；溺爱</p><p><strong>perk up</strong> v. 使振奋</p><p><strong>nosedive</strong> v. 俯冲；急剧下降</p><p><strong>upheaval</strong> v. 剧变</p><p><strong>forlorn</strong> adj. 被遗弃的；悲哀的</p><p><strong>foliage</strong> n. 叶子</p><p><strong>budge</strong> v. 微微移动；改变主意</p><p><strong>schematics</strong> n. 图表</p><p><strong>schematic</strong> adj. 示意的；流程图</p><p>hologram n. 全息图</p><p><strong>meld</strong> v. 混合</p><p><strong>makeshift</strong></p><p>vine n. 藤本植物</p><p>javelin n. 标枪</p><p><strong>bosom</strong> n. 内心；胸部</p><p><strong>bumble</strong> v. 跌跌撞撞</p><p>jolt v. 震动 n. 突如其来的情感</p><p>conk 敲打；失去知觉</p><p><strong>proliferation</strong> n. 繁殖</p><p><strong>add up</strong> 合乎情理</p><p><strong>defective</strong> adj. 有瑕疵的</p><p><strong>stride</strong> v. 大步前进</p><p><strong>bemusement</strong> n. 困惑</p><p>glob n. 一团；一块</p><p>pantomime n. 哑剧；用夸张的动作表演</p><p>substation n. 变电所</p><p><strong>refurbish</strong> v. 整修</p><p>backstory n. 背景；经历</p><p><strong>downcast</strong> adj. 垂头丧气的</p><p><strong>misconstrue</strong> v. 误解</p><p><strong>endearing</strong></p><p>avalanche v. 坍塌；涌现 n. 雪崩</p><p><strong>scalp</strong> n. 战利品 v. 击败；严厉处罚；转手倒卖</p><p><strong>peek out</strong> 稍微伸出并部分可见</p><p><strong>prod</strong> v. 戳</p><p>wiggle v. 扭动</p><p><strong>get on like a house on fire</strong> 一见如故；情投意合</p><p><strong>bummed</strong> adj. 不高兴的</p><p><strong>vexing</strong> adj. 使人烦恼的</p><p><strong>flick</strong></p><p><strong>convulse</strong> v. 震撼；抽搐</p><p><strong>ebb</strong> v. n. 退潮</p><p><strong>wretch</strong> </p><p><strong>run-of-the-mill</strong> 一般性的；普通的</p><p><strong>tidbit</strong> n. 趣闻；美味小吃</p><p><strong>tribulation</strong> n. 苦难；烦心事</p><p>bounty n. 奖金</p><p>trafficker n. 人贩子</p><p><strong>loath</strong> adj. 不情愿的</p><p><strong>loathe</strong> v. 憎恶</p><p><strong>smart</strong> v. 感到疼痛；苦恼</p><p><strong>have a bone to pick with someone</strong> 对…有意见；抱怨</p><p><strong>flurry</strong> n. 一小阵 v. 慌忙行动</p><blockquote><p>fling flung</p></blockquote><p><strong>modicum</strong> n. 少量</p><p><strong>cripple</strong> v. 造成严重损害</p><p>jugular 颈n. 动脉</p><p>retch n. v. 恶心</p><p>stun gun n. 电击枪</p><p><strong>cartridges</strong> n. 弹药</p><p><strong>pander</strong> v. 迎合 n. 拉皮条者</p><p>cull v. 挑选；宰杀</p><p>amok adj. 失去理智的</p><p><strong>non-lethal</strong> adj. 不致命的</p><p><strong>fit as a fiddle</strong> 非常健康</p><p><strong>mimic</strong> v. 模仿</p><p><strong>persona non grata</strong></p><p>emote v. 夸张地表现情感</p><p><strong>derogatory</strong> adj. 贬义的；侮辱性的</p><p>gust n. 一阵强风</p><p>peal n. 响亮的声音</p><p>toad n. 厌鬼</p><p><strong>unearthly</strong> adj. 可怕的</p><p><strong>crumple</strong> v. 弄皱；崩塌；瓦解</p><p>crump v. 爆炸</p><p>pariah n. 被社会遗弃的人</p><p><strong>streak</strong></p><p><strong>household</strong> adj. 家喻户晓的</p><p><strong>scornful</strong></p><p><strong>smudge</strong> v. 玷污</p><p><strong>on all fours</strong> 趴在地上</p><p><strong>let up</strong> 减小</p><p>squall n. 暴风雨；呼啸</p><p>puddle n. 水坑；弄湿</p><p>circuitry n. 电路</p><p><strong>disconcerting</strong> adj. 令人不安的；使人困惑的</p><p><strong>giddy</strong> adj. 头晕目眩的；令人兴奋的</p><p><strong>breach</strong></p><p><strong>fugitive</strong> n. 逃亡者</p><p>lunkhead n. 呆子</p><p><strong>not pull any&#x2F;your punches</strong> to speak in an honest way without trying to be kind</p><p><strong>blow off</strong> 不理睬；放弃</p><p><strong>quench</strong> v. 解渴；扑灭；取消</p><p><strong>inertly</strong> adj. 不活泼的；缓慢的</p><p><strong>highly strung</strong> 容易激动的</p><p>tint n. 着色；色调</p><p><strong>dredge</strong> v. 挖掘</p><p><strong>beat to the punch</strong> 先发制人</p><p><strong>embellish</strong></p><p><strong>scramble</strong></p><p><strong>adamant</strong> adj. 坚定的</p><p><strong>cuddle</strong></p><p><strong>twist someone’s arm</strong> to persuade someone to do something they do not want to do</p><p><strong>strum</strong> v. 弹奏</p><p>amp n. 扩音器</p><p>axe n. 吉他</p><p>jam n. 即兴演奏</p><p>moth n. 飞蛾</p><p><strong>feckless</strong> adj. 死气沉沉的；不负责任的</p><p>sputter n. 噼啪声；急促&#x2F;结结巴巴地说</p><p><strong>wimpy</strong> adj. 懦弱的</p><p>Kármán line : a conventional definition of the edge of space</p><p><strong>jet black</strong></p><p><strong>splinter off</strong> 离开</p><p><strong>seep</strong> v. 渗透</p><p><strong>mellow</strong> adj. 柔和的；稳健的；愉快的 v. 松弛</p><p><strong>niggle</strong> v. 使隐隐不安；吹毛求疵</p><p><strong>whim</strong></p><p><strong>blemish</strong> n. 污点 v. 玷污</p><p><strong>scrawl</strong></p><p>boon n. 恩惠</p><p>bunt v. 触击；顶撞</p><p>bunting n. 旗帜</p><p>lifeline n. 救生索</p><p>hiccup n. 打嗝；暂时的困难</p><p><strong>propulsion</strong></p><p><strong>unbidden</strong> adj. 自发的</p><p><strong>wistful</strong> adj. 渴望的；沉思的；恋恋不舍的</p><p><strong>wallow</strong> v. 打滚；沉溺</p><p>condensation n. 水滴；冷凝</p><p><strong>flux</strong> v. 流出；变迁</p><p><strong>singular</strong> adj. 卓越的</p><p>obituary n. 讣告</p><p>decry v. 公开谴责</p>]]></content>
    
    
    <categories>
      
      <category>English Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>Gal</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Café Stella and the Reaper&#39;s Butterflies</title>
    <link href="/2024/09/17/cafestella/"/>
    <url>/2024/09/17/cafestella/</url>
    
    <content type="html"><![CDATA[<h2 id="Common-chapter1"><a href="#Common-chapter1" class="headerlink" title="Common(chapter1)"></a>Common(chapter1)</h2><p><em>Pearly Gates</em> 天国之门</p><p><em>peeping Tom</em> 偷窥狂</p><p>sexual fetish</p><p><strong>stupefied</strong> adj. 麻木的；吃惊的</p><p><strong>proximal</strong> adj. 近端的</p><p><strong>awestruck</strong> adj. 敬畏的</p><p><strong>lilac</strong> n. 丁香 adj. 淡紫色的</p><p><strong>swathe</strong> n. 绷带</p><p><strong>gingerly</strong> adj. 小心地</p><p><strong>pitch-black</strong> adj. 漆黑的</p><p>buckle n. 锁扣</p><p>scythe n. 镰刀</p><p><strong>glisten</strong> v. 闪烁</p><p><strong>assail</strong> v. 攻击</p><p><strong>off the mark</strong> 不正确的</p><p><em>Grim Reaper</em> 死神</p><p><strong>grim</strong></p><p><strong>unnerving</strong> adj. 紧张的</p><p><strong>slink</strong> v. 悄悄跟来</p><p><strong>saunter</strong> v. 漫步</p><p><strong>eerie</strong> adj. 怪异的</p><p><strong>bicker</strong> n. 口角</p><p>blare v. 发出响亮刺耳的声音</p><p><strong>barrel</strong> v. 快速移动</p><p>screech v. 尖叫</p><p><strong>prank</strong></p><p><strong>abate</strong> v. 减少</p><p><strong>crap</strong> n. 垃圾 adj. 劣质的</p><p><strong>pseudo</strong> adj. 假的</p><p>dude n. 家伙</p><p><strong>groggy</strong> adj. 头昏眼花的</p><p>exorcism n. 驱魔</p><p><strong>freakishly</strong> adv. 见异思迁；朝三暮四</p><p>plop n. 落水扑通声</p><p>smack v. 击打</p><p><strong>happy-go-lucky</strong> adj. 无忧无虑的</p><p><strong>ulterior</strong> adj. 隐晦的</p><p><strong>perverse</strong> adj. 故意的；任性的</p><p><strong>in the cards</strong> 可能的</p><p><strong>incessant</strong> adj. 不停的</p><p><strong>veer</strong> v. 偏离；转向</p><p><strong>careen</strong> v. 倾倒；猛冲</p><p>macho adj. 男子气概的</p><p><strong>leeway</strong> n. 余地</p><p>goddamn adj. 该死的</p><p><strong>buzzword</strong> n. 流行语</p><p><strong>red flag</strong> 危险标识</p><p><strong>pan out</strong> 结果；成功</p><p><strong>beaver</strong> v. 勤奋工作</p><p><strong>whiplash</strong> v. 鞭打</p><p><strong>piss off</strong> 滚开</p><p><strong>fuzzy</strong> adj. 爱挑剔的；大惊小怪的</p><p><strong>espressivo</strong> adj. 富于表情</p><p><strong>hold-up</strong> 阻塞</p><p>slurp v. 啧</p><p><strong>pensive</strong> adj. 沉思的</p><p>gag n. 笑话</p><p><strong>think better of</strong> 重新考虑后决定不做</p><p><strong>be big on</strong> 喜爱</p><p><strong>pluck</strong> n. 勇气 v. 采摘；鼓起勇气</p><p><strong>act up</strong></p><p><strong>out of whack</strong></p><p>whiff v. 吸气</p><p><strong>collect oneself</strong> 冷静下来</p><p><strong>belatedly</strong> adv. 晚了</p><p>your highness 殿下</p><p>Geez 天啊</p><p><strong>brazen</strong> adj. 厚颜无耻的；肆无忌惮的</p><p><strong>brash</strong> adj. 自以为是的；盛气凌人的</p><p><strong>tyrant</strong> n. 暴君</p><p><strong>tenant</strong> n. 租户</p><p><strong>alive and kicking</strong> 活跃的</p><p>grimace n. 鬼脸</p><p><strong>different strokes for different folks</strong></p><p>altruist adj. 利他的</p><p><strong>stroke of genius</strong> 非凡的创见</p><p><strong>cringe</strong> v. 卑躬屈膝</p><p>hot stuff 奇才</p><p>trot v. 疾走</p><p>wacky adj. 滑稽古怪的</p><p><strong>dig in</strong></p><p><strong>voracious</strong></p><p><strong>devour</strong></p><p><strong>gorge</strong></p><p><strong>gobble</strong></p><p><strong>scarf</strong></p><p>omelet n. 煎蛋饼</p><p>fillet n. 里脊肉</p><p><strong>know better than</strong> 知道不该；明白事理</p><p><strong>hold off</strong> 推迟</p><p><strong>gall</strong> v. 激怒 n. 厚颜无耻</p><p><strong>crappy</strong> adj. 劣质的；蹩脚的；不舒服的</p><p>ain’t cha 不是吗</p><p>bum</p><p>gigolo n. 男性情人；小白脸</p><p><strong>take someone up on</strong> 接受；就(某一点)挑战(或质问)说话者</p><p><strong>risque</strong> adj. 败坏风俗的</p><p><strong>mortify</strong> v. 使羞辱；抑制</p><p><strong>set the record straight</strong> 澄清事实</p><p><strong>nether</strong> adj. 下面的</p><p><strong>a sight for sore eyes</strong> </p><p><strong>something else</strong> 特别的东西</p><p>nausea n. 恶心</p><p><strong>slash</strong> v. 砍击 n. 斜杠</p><p>stalker n. 跟踪狂</p><p><strong>curt</strong> adj. 简短的；无礼的；草率的</p><p><strong>come off as</strong> 冒充</p><p><strong>aloof</strong> adj. 冷漠的；保持距离的</p><p><strong>jumbled</strong> adj. 混乱的</p><p><strong>willy-nilly</strong> </p><p><strong>ordain</strong> v. 决定；规定(尤指上帝；命运)</p><p><strong>flutter</strong></p><p><strong>linger</strong> v. 缓慢消亡</p><p>good grief 天哪；没办法</p><p>your excellency 阁下</p><p><strong>venerable</strong> adj. 庄严的；值得尊敬的</p><p><strong>blue-blooded</strong> adj. 贵族的</p><p><strong>pompous</strong> adj. 炫耀的；自负的</p><p><strong>impudent</strong></p><p><strong>far-fetched</strong></p><p>fluffy adj. 松软的；空洞的</p><p>swine 卑鄙的人；猪</p><p><strong>pearls before swine</strong></p><p>purr v. 猫发出呼噜声；满意地低语</p><p><strong>luxuriant</strong> adj. 繁茂的；丰富的</p><p><strong>figment</strong> n. 虚构的事物</p><p><strong>whine</strong> v. 发牢骚</p><p><strong>insolent</strong> adj. 傲慢无礼的</p><p>churl n. 粗暴卑鄙的人；吝啬鬼</p><p><em>Cat Sidhe</em> 猫妖</p><p><strong>grandiose</strong> adj. 做作的；构思宏大的</p><p><strong>bemoan</strong> v. 哀叹；抱怨</p><p><strong>normie</strong> n. 正常人；现充</p><p><strong>chad</strong> n. 社交达人；现充</p><p><strong>tiptoe</strong> v. 回避 adj. 蹑手蹑脚的</p><p><strong>bashful</strong> adj. 害羞的；(上下文)纯洁的</p><p><strong>honeypot</strong> n. 吸引人的事物；(上下文)仙人跳</p><p><strong>hit close to home</strong> 戳到痛处；令人尴尬</p><p><strong>mope</strong> v. 闷闷不乐；沮丧</p><p>frat boy 吵闹无聊的人</p><p>unironically adv. 非讽刺地；真诚地</p><p><strong>be not cut out to do something</strong> 没有做…的天赋</p><p><strong>takeaway</strong> n. 重点；收获</p><p>a pain in the ass 令人讨厌的</p><p><strong>pester</strong></p><p>be sound like a broken record 喋喋不休</p><p><strong>pushy</strong> adj. 固执己见的；野心勃勃的</p><p>Gosh</p><p><strong>bulge</strong> v. 凸出；充满</p><p><strong>leech</strong> v. 依附于</p><p><strong>more power to you(r elbow)</strong> 一帆风顺</p><p><strong>once and for all</strong> 一劳永逸的</p><p><strong>stay one’s hand</strong> 静观其变</p><p><strong>scam</strong> v. 诡计；骗局</p><p><strong>con</strong> n. v. 欺骗 adj. 保守的</p><p><strong>renege</strong> v. 食言</p><p><strong>out of</strong> 无精打采</p><p><strong>vibe</strong> n. 感应；共鸣；氛围</p><p><strong>in broad daylight</strong> 光天化日之下</p><p><strong>unfounded</strong></p><p><strong>fluster</strong></p><p><strong>mangy</strong> adj. 破旧的；衣衫褴褛的</p><p><strong>sobriquet</strong> n. 绰号</p><p><strong>sleazy</strong> adj. 粗制滥造的；腐败的</p><p><strong>nitpicking</strong> 吹毛求疵的</p><p><strong>carp</strong></p><p><strong>dense</strong> adj. 迟钝的；笨拙的</p><p><strong>impeccable</strong></p><p><strong>taut</strong> adj. 紧张的</p><p><strong>black tea</strong></p><p><strong>stubby</strong> adj. 短粗的</p><p>opposable adj. 与(其他手指)相对的</p><p>dice n. 切块；骰子</p><p>saute v. 炒</p><p>ketchup n. 番茄酱</p><p>a good toss (上下文)搅拌均匀</p><p><strong>nerve-wracking</strong> adj. 伤脑筋的</p><p><strong>scowl</strong></p><p>runny adj. 水分过多的；过于柔软的</p><p><strong>spoon-feed</strong> 填鸭式教育</p><p><strong>clientele</strong></p><p><strong>dodge</strong></p><p>smooch v. 慢舞；接吻；弄脏</p><p><strong>mumble</strong></p><p><strong>grumble</strong></p><p><strong>reimburse</strong></p><p><strong>cut to the chase</strong> 开门见山</p><p><strong>dabble</strong> v. 涉足；涉水</p><p><strong>from the get-go</strong> 从一开始</p><p><strong>the apple does not fall far from the tree</strong> 有其父必有其子</p><p><strong>lump</strong> v. 把…混为一谈；勉强同意</p><p><strong>strike out</strong> 开始行动；自谋生路；删除；失败</p><p><strong>and what not</strong> 诸如此类</p><p><strong>hunch</strong> n. 直觉 v. 隆起</p><p><strong>to the bone</strong> 留下深刻印象</p><p><strong>work one’s fingers to the bone</strong> 拼命工作</p><p><strong>steep</strong> v. 浸泡</p><p>BLT 一种三明治(培根生菜番茄)</p><p><strong>senile</strong> adj. 老年的</p><p><strong>decor</strong> v. 装饰</p><p><strong>meager</strong> adj. 不足的</p><p><strong>frilly</strong> adj. 过于精致的；镶褶边的；多饰边的</p><p>batter n. 面糊</p><p><strong>piping hot</strong></p><p><strong>tap water</strong></p><p><strong>mineral water</strong></p><p><strong>astringent</strong> adj. 收缩的；严厉的；辛辣的</p><p>aerate v. 使…透气</p><p>cozy n. 保温罩</p><p><strong>misery</strong></p><p><strong>rub off on</strong> 感染</p><p><strong>lease</strong></p><p><strong>dreg</strong></p><p><strong>full-bodied</strong> 浓郁的</p><p><strong>aback</strong> adv. 吃惊地；背风地</p><p><strong>garner</strong> v. 积累；储藏；谷仓</p><p>buzz marketing 嗡嗡营销；利用互动和数字媒体技术；通过在线内容来产生关于产品、服务或公司的话题和热度</p><p><strong>the bee’s knees</strong> 优秀的或受欢迎的人或事物</p><p>SNS 社交网站Social Network Site</p><p>photogenic adj. 上照的；上镜的；发光的 </p><p><strong>dope</strong></p><p><strong>go-getter</strong> n. 积极进取的人</p><p><strong>doom and gloom</strong> 前途黯淡；悲观</p><p><strong>fiddle</strong></p><p><strong>stoop</strong></p><p><strong>toady</strong> n. 阿谀奉承者 v. 谄媚</p><p>kibble v. 粗磨食物</p><p><strong>understaffed</strong> adj. 人手不足的</p><p>extensions n. (上下文)假发</p><p>touche int. 说得好；有道理</p><p><strong>qualm</strong> n. 疑虑；不安</p><p><strong>butter up</strong> 阿谀奉承</p><p>semantic adj. 语义的</p><p><strong>wimp</strong> n. 胆小鬼</p><p>syrup n. 糖浆</p><p>tart n. 馅饼 adj. 打扮得花枝招展；尖酸刻薄的</p><p><strong>right as money</strong></p><p><strong>fit the bill</strong></p><p><strong>without further ado</strong></p><p><strong>wobble</strong> v. 摇晃</p><p><strong>spongy</strong></p><p>dollop n. 一团 v. 随意添加(大团物质)</p><p><strong>palate</strong></p><p><strong>palatable</strong></p><p><strong>savory</strong></p><p><strong>incur one’s wrath</strong></p><p><strong>hit the spot</strong></p><p><strong>sluggish</strong></p><p><strong>zone out</strong></p><p><strong>under the weather</strong></p><p><strong>lay off</strong> 停止干涉</p><p><strong>straight up</strong></p><p><strong>bane</strong> n. 祸害</p><p>boob n. 笨蛋；过失；犯错</p><p><strong>agape</strong> adj. 瞠目结舌的</p><p><strong>otherworldly</strong></p><p><strong>loiter</strong> v. 徘徊</p><p>u-turn </p><p>beeline n. 直线</p><p>chummy adj. 亲密的；合得来的</p><p><strong>clam up</strong> 缄默不语</p><p><strong>paranoid</strong> adj. 多疑的</p><p><strong>perk</strong></p><p>womanizer</p><p><strong>hit it off</strong> 合得来</p><p><strong>obnoxious</strong> adj. 令人不快的</p><p><strong>to no avail</strong> 努力或尝试没有取得任何成果</p><p><strong>doze off</strong></p><p><strong>conk out</strong> 停止工作；睡着 </p><p><strong>collar</strong> v. 抓住；强留某人谈话</p><p>buddy-buddy adj. 非常亲密的</p><p>hook up 搭讪</p><p><strong>lazy bum</strong> 懒人</p><p><strong>flagship</strong></p><p>department store</p><p>patisserie n. 糕点店</p><p><strong>on the line</strong> 处于危险中；模棱两可</p><p><strong>throw someone for a loop</strong> 使某人大吃一惊</p><p>snick v. 开出一条缝；刻痕；门锁喀哒一声</p><p>masochist n. 受虐狂</p><p><strong>ASAP</strong></p><p><strong>brood</strong> v. 深思熟虑 n. 一大家孩子</p><p><strong>husky</strong> adj. 强壮的；嘶哑的</p><p><strong>baffled</strong></p><p><strong>furrow</strong> v. 皱眉 n. 沟渠</p><p><strong>lethargic</strong> adj. 无精打采的</p><p><strong>dwindle</strong> v. 减少</p><p><strong>spread (oneself too) thin</strong> 过度分散精力或资源</p><p><strong>a kick in the pants</strong> 激励某人停止懒散行为</p><p>hit on 搭讪</p><p>vulgar adj. 粗俗的；下流的</p><p>parfait n. 冻糕</p><p><strong>bite off more than one can chew</strong></p><p><strong>vouch for</strong></p><p><strong>people person</strong> 喜欢与他人在一起的人</p><p><strong>errand</strong></p><p>underclassman n. (美)大学一；二年级学生</p><p>touchy-feely adj. 露骨的；感情外露的</p><p>co-ed adj. 男女同校的</p><p><strong>blasphemy</strong></p><p><strong>smirk</strong> n. v. 傻笑</p><p>Internet cafe</p><p>clique n. 小团体；派系斗争</p><p><strong>candidly</strong> adv. 坦白地</p><p>windowsill</p><p><strong>in due time</strong></p><p><strong>enigmatic</strong></p><p><strong>slack off</strong></p><p><strong>cheap shot</strong> 恶意中伤；恶意的言行</p><p>mushy adj. 烂糊的；刹不住车的；多愁善感的</p><p>sloppy</p><p>sap n. 傻瓜 v. 挖墙脚；破坏</p><p><strong>revamp</strong> v. 翻新</p><p><strong>outright</strong></p><p>sup v. 小口喝；打招呼 int. 怎么样</p><p><strong>shut-in</strong> n. 卧病在家的人</p><p><strong>on-site</strong> </p><p><strong>cakewalk</strong> n. 容易的事 v. 轻松取胜</p><p>bullshit n. 胡扯</p><p><strong>slump</strong></p><p><strong>catch-22</strong> n. 无法摆脱的困境；第二十二条军规</p><p><strong>gourmet</strong></p><p><strong>go overboard</strong> 过分；鲁莽从事</p><p>bust-waist-hip measurements</p><p><strong>spurt</strong></p><p><strong>unabashed</strong></p><p><strong>abashed</strong> adj. 害羞的；尴尬的</p><p><strong>dastardly</strong> adj. 卑鄙的</p><p><strong>flimsy</strong> adj. 站不住脚的；复写纸</p><p>tape measure 卷尺</p><p>sicko n. 神金</p><p>bub n. 家伙</p><p><strong>need-to-know basis</strong> 最高机密</p><p><strong>toned</strong> adj. 强壮的</p><p><strong>brusque</strong> adj. 草率的</p><p><strong>mess around</strong></p><p>voluptuous adj. 满足感官的；撩人的</p><p><strong>out of shape</strong></p><p><strong>bent out of shape</strong></p><p>well-endowed adj. 资金充足的</p><p><strong>tickle</strong> v. 使愉悦；痒</p><p><strong>squeal</strong> v. 告密</p><p><strong>cobble</strong> v. 粗制滥造 n. 鹅卵石</p><p>emulsification n. 乳化</p><h2 id="Common-chapter2"><a href="#Common-chapter2" class="headerlink" title="Common(chapter2)"></a>Common(chapter2)</h2><p><strong>smooth talker</strong> 花言巧语的人</p><p>pudgy adj. 矮胖的</p><p>I wuv you.</p><p><strong>suggestive</strong> adj. 引起联想的</p><p>goodness gracious </p><p><strong>gawk</strong></p><p>grade-schooler</p><p><strong>nonchalant</strong> adj. 漠不关心的；冷静的；若无其事的</p><p><strong>draw the line</strong></p><p>greenlight</p><p><strong>skimp</strong></p><p>ole adj. 旧的</p><p><strong>go way back</strong> 相识已久</p><p><strong>chump</strong></p><p><strong>angelic</strong></p><p><strong>demeanor</strong></p><p>bubbly adj. 爽朗的</p><p><strong>debauchery</strong></p><p><strong>etiquette</strong></p><p><strong>snicker</strong></p><p><strong>mischievous</strong></p><p><strong>rattle</strong></p><p>infomercial n. 电视专题广告</p><p><strong>pat (someone) on the back</strong></p><p><strong>knock someone’s socks off</strong> 让某人大吃一惊</p><p><strong>screw up</strong></p><p><strong>throw down the gauntlet</strong> 下挑战书</p><p><strong>lightheaded</strong> adj. 头昏眼花的；贫血的；三心二意的</p><p>thigh</p><p><strong>outlandish</strong> adj. 古怪的</p><p>pick-up 搭讪</p><p>pick-up line</p><p><strong>slander</strong></p><p><strong>get on one’s feet</strong> 振作起来</p><p><strong>up to scratch</strong> 达标</p><p><strong>connoisseur</strong></p><p>half-ass</p><p>instant noodles</p><p><strong>swanky</strong> adj. 时髦的；装模作样的；炫耀的</p><p><strong>chew out</strong> 责备</p><p><strong>take a nosedive</strong> 暴跌</p><p>waltz v. 轻快地走动；轻松完成</p><p>chewy</p><p><strong>finesse</strong></p><p>dollop</p><p><strong>garnish</strong></p><p><strong>amateurish</strong></p><p><strong>make a fuss</strong></p><p><strong>off the ground</strong></p><p><strong>cut corners</strong></p><p><strong>coax</strong></p><p>twerp</p><p><strong>honorific</strong> 表adj. 示尊敬的</p><p>mooch v.  无聊闲逛；索取</p><p><strong>mooch off</strong> 蹭吃蹭喝；啃老</p><p>rephrase</p><p><strong>rummage</strong> v. 翻箱倒柜</p><p>sous- n. 助理</p><p>maitre n. 总管</p><p><strong>managerial</strong></p><p><strong>bookkeeping</strong> </p><p><strong>regimen</strong> n. 养生</p><p>puke v. 呕吐</p><p><strong>bellyache</strong> v. 发牢骚；抱怨</p><p>maggot v. 异想天开 n. 蛆</p><p><strong>filthy</strong> adj. 肮脏的</p><p><strong>sewer</strong></p><p><strong>by the numbers</strong> 一板一眼地</p><p>whisk v. 搅拌；快速移动</p><p>marine corps</p><p><strong>face the music</strong></p><p><strong>go for broke</strong> 全力以赴；孤注一掷</p><p>chime</p><p><strong>drawing board</strong> 规划阶段</p><p><strong>from side to side</strong></p><p><strong>in&#x2F;at a pinch</strong> 在必要时刻</p><p><strong>buckle down</strong> 开始努力工作</p><p><strong>rein</strong></p><p><strong>get free rein</strong></p><p>feline</p><p><strong>digit</strong> n. 手指</p><p><strong>shape up</strong></p><p><strong>squirm</strong> n. v. 局促不安；尴尬</p><p>boot camp</p><p><strong>cost-to-sales</strong></p><p><strong>feud</strong> v. n. 长期争吵</p><p><strong>retrospect</strong></p><p>clout n. 权势 v. 猛击</p><p><strong>amicable</strong> adj. 友好的</p><p><strong>hashtag</strong> </p><p><strong>delish</strong> adj. 美味的</p><p>ajar adj. (门)半开的&#x2F;地</p><p><strong>compromising</strong> adj. 有失颜面的</p><p>latch n. 门闩 v. 抓住</p><p><strong>beat around the bush</strong></p><h2 id="Common-chapter3"><a href="#Common-chapter3" class="headerlink" title="Common(chapter3)"></a>Common(chapter3)</h2><p><strong>barbarity</strong></p><p><strong>ingratiate</strong> v. 迎合</p><p>bona fide adj. 真的</p><p><strong>fidelity</strong></p><p><strong>ripple</strong></p><p>tummy n. 肚子</p><p><strong>chiseled</strong> adj. 轮廓分明的</p><p><strong>chisel</strong> v. 欺骗</p><p>ab n. 腹肌</p><p><strong>oblique</strong></p><p>flabby adj. 松软的</p><p><strong>rain on someone’s parade</strong> 泼某人冷水；扫某人兴</p><p><strong>do the trick</strong></p><p><strong>wet blanket</strong></p><p><strong>pragmatic</strong></p><p><strong>piggyback</strong> v. 依附</p><p><strong>pep</strong> v. 使精力充沛</p><p><strong>pep up</strong></p><p><strong>pass the baton</strong></p><p><strong>crumb</strong></p><p><strong>afterthought</strong></p><p><strong>rueful</strong> adj. 悲哀的；悔恨的；遗憾的</p><p><strong>pick up</strong> 好转</p><p><strong>trickle</strong></p><p><strong>million-dollar question</strong> 关键的问题</p><p><strong>man</strong> v. 值守；操控；语气词</p><p><strong>digress</strong> v. 离题</p><p>tsundere v. 傲娇</p><p><strong>hectic</strong></p><p>brownies n. 一种巧克力方块蛋糕</p><p>poop v. 筋疲力尽</p><p><strong>massage</strong> 按v. 摩；篡改；奉承</p><p><strong>blast</strong></p><p><strong>eat crow</strong> 丢脸；接受自己被打败了</p><p><strong>Poor is the pupil who does not surpass his master.</strong> 青出于蓝而胜于蓝</p><p><strong>tally (up)</strong></p><p><strong>screw the pooch</strong> 搞砸了</p><p><strong>trial by fire</strong></p><p><strong>sulk(y)</strong></p><p><strong>on the double</strong> 立刻</p><p><strong>brace oneself</strong></p><p>house blend 混合咖啡；综合咖啡</p><p><strong>jinx</strong></p><p><strong>hang in</strong></p><p><strong>exasperated</strong> adj. 恼怒的</p><p><strong>stylish</strong></p><p><strong>toast</strong> v. 敬酒；干杯</p><p>clink</p><p><strong>blackout drunk</strong> 烂醉如泥</p><p><strong>spacious</strong></p><p><strong>specious</strong></p><p><strong>bartender</strong></p><p><strong>highball</strong> v. 快速前进</p><p><strong>hot and bothered</strong></p><p><strong>hangover</strong> n. 宿醉</p><p><strong>call it a night</strong></p><p><strong>party pooper</strong> 扫兴的人</p><p><strong>tipsy</strong> adj. 微醉的</p><p><strong>complex</strong> n. 综合大楼</p><p><strong>damned·est</strong> adj. 尽力而为(的)</p><p><strong>condolence</strong></p><p><strong>on the house</strong></p><p>pout v. 撇嘴</p><p><strong>intoxicated</strong> </p><p>chug</p><p>puff</p><p>blowfish</p><p><strong>dagger</strong></p><p><strong>projection</strong> n. 预计；估算</p><p><strong>dwindle</strong></p><p><strong>understatement</strong></p><p><strong>telepathic</strong></p><p><strong>precarious</strong></p><p><strong>admonish</strong></p><p><strong>throw a tantrum</strong> 发脾气</p><p><strong>fishy</strong></p><p><strong>frivolous</strong></p><p><strong>heed</strong></p><p><strong>gist</strong></p><p><strong>brood</strong></p><p><strong>preach to the choir</strong> to try to persuade people who already agree with you</p><p><strong>jumpy</strong> adj. 焦虑不安的</p><p>flashback n. 瞬间的痛苦回忆</p><p><strong>trudge</strong> n. 沉重的步伐 v. 艰难地走</p><p><strong>slump</strong></p><p><strong>crass</strong> adj. 愚钝的；粗鲁的；非常的</p><p><strong>hunch</strong></p><p><strong>gripe</strong> v. 发牢骚</p><p><strong>implore</strong></p><p>mister kiddy diddler 萝莉控</p><p><strong>blunder</strong></p><p><strong>hiccup</strong> n. 小故障；打嗝</p><p><strong>prattle</strong></p><p><strong>prattle on</strong> 喋喋不休</p><p><strong>charisma</strong> n. 魅力；感召力；领导力</p><p><strong>meddle</strong> v. 干涉</p><p><strong>chipper</strong> adj. 兴高采烈的</p><p><strong>berserk</strong> adj. 狂暴的</p><p><strong>net</strong> v. 挣得；获得</p><p>fine-tune v. 微调</p><p>toiletries </p><p>drugstore</p><p>mosey v. n. 闲逛</p><p>cuddly(-wuddly) adj. 令人想拥抱的</p><p><strong>odds and ends</strong></p><p><strong>hefty</strong></p><p><strong>hefty price tag</strong> 昂贵的价格</p><p><strong>spunk</strong> n. 勇气；决心</p><p><strong>teensy</strong></p><p><strong>smoothie</strong> n. 举止文雅的人；奶昔</p><p><strong>skewed</strong></p><p>make out 亲吻</p><p>atrium n. 中庭</p><p>patter</p><p><strong>giddy</strong> adj. 眩晕的；激动的</p><h2 id="Common-chapter4"><a href="#Common-chapter4" class="headerlink" title="Common(chapter4)"></a>Common(chapter4)</h2><p><strong>ballsy</strong> adj. 有种的；大胆的</p><p><strong>swoon</strong> v. 着迷；昏厥</p><p><strong>solace</strong></p><p>squash n. 南瓜；倭瓜</p><p>trio</p><p><strong>rub it in</strong> 反复提及</p><p><strong>devilish</strong> adj. 恶魔般的 adv. 极其；非常</p><p>gizmo n. 小装置</p><p><strong>huddle</strong> v. 挤在一起</p><p><strong>caption</strong></p><p><strong>hermit</strong> n. 隐士</p><p><strong>snobby</strong></p><p><strong>hands-off</strong></p><p><strong>veteran</strong></p><p><strong>on a whim</strong></p><p><strong>not the least</strong></p><p>sommelier n. 侍酒师</p><p><strong>mellow</strong></p><p><strong>lush</strong> adj. 繁茂的 n. 酒鬼 v. 喝醉</p><p><strong>verdant</strong> adj. 翠绿的；不老练的</p><p>grove n. 小树林</p><p>barista n. 咖啡师</p><p><strong>hoity-toity</strong> adj. 傲慢的；装腔作势</p><p><strong>squat</strong></p><p>macro n. 宏</p><p>spreadsheet</p><p><strong>in the red</strong></p><p><strong>rave</strong> v. 奋笔疾书；赞不绝口；迷恋</p><p><strong>rant and rave</strong> 大喊大叫；怒气冲冲地抱怨</p><p>moe, moe, kyun</p><p><strong>fall flat</strong> 完全失败</p><p><strong>Don’t quit your day job.</strong> DQYDJ表示认为对方做某事不在行</p><p><strong>coy</strong> adj. 含糊其辞的；忸怩作态的</p><p><strong>clean as a whistle</strong></p><p>canister n. 金属罐</p><blockquote><p>grind-&gt;ground</p></blockquote><p><strong>squirm</strong></p><p><strong>protrude</strong> v. 突出</p><p><strong>erect</strong></p><p><strong>smite</strong> v. 重击；征服</p><p><strong>strut</strong></p><p>euphemism n. 委婉语</p><p><strong>tumble</strong> v. 翻滚</p><p>cleavage v. 分裂</p><p>tarnish</p><p><strong>gullible</strong> adj. 轻信的</p><p><strong>cow</strong> v. 恐吓；使顺从</p><p><strong>scat</strong> v. 迅速离开</p><p><strong>fiasco</strong></p><p><strong>onto something</strong></p><p><strong>for the record</strong> 郑重声明</p><p><strong>give someone the benefit of the doubt</strong> 把…往好处想</p><p><strong>breather</strong> n. 短暂休息</p><p><strong>hypocritical</strong></p><p><strong>cheeky</strong></p><p><strong>scumbag</strong> n. 卑鄙小人</p><p><strong>bamboozle</strong> v. 欺骗</p><p><strong>segue</strong> v. 无间断继续；切换</p><p><strong>segue into</strong> 平稳过渡</p><p><strong>barring</strong> prep. 除非</p><p><strong>awry</strong> adj. adv. 不顺利</p><p><strong>go awry</strong></p><p><strong>barge</strong> v. 插手</p><p><strong>stutter</strong> v. 结巴</p><p><strong>fumble</strong> n. 笨拙</p><p><strong>fine and dandy</strong> 很好</p><p>dandy adj. 一流的；时髦的 n. 花花公子</p><p><strong>go out on a limb</strong> 冒险尝试</p><p><strong>rote</strong> v. 死记硬背</p><p><strong>cram</strong> v. 临时抱佛脚</p><p><strong>hate to say</strong> 不得不说</p><p><strong>lay it on me</strong> 向我倾诉吧；算在我头上</p><p><strong>chalk it up</strong> 宣布；记账；取得成就</p><p><strong>chalk it up to</strong> 就当作是</p><p><strong>complexion</strong></p><p><strong>out of sorts</strong> 状态不佳</p><p><strong>play it safe</strong></p><p><strong>all hands on deck</strong></p><p>A-OK</p><p><strong>lust</strong> n. 强烈的欲望</p><p><strong>spook</strong></p><p>commando n. 特遣队</p><p><strong>fess</strong></p><p><strong>fidget</strong> v. 坐立不安</p><p><strong>tippy-toe</strong></p><p>yelp</p><p><strong>wobble</strong></p><p><strong>squishy</strong></p><p><strong>supple</strong> adj. 柔软的</p><p><strong>grope</strong> v. 摸索；搜寻</p><p><strong>patter</strong></p><p><strong>palpitation</strong> n. 心悸</p><p><strong>way to go</strong> 干得漂亮</p><p><strong>swimmingly</strong></p><p><strong>congrats</strong></p><p>woo v. 争取支持</p><p><strong>guile</strong> n. 狡猾；欺骗</p><h2 id="Natsume-chapter5"><a href="#Natsume-chapter5" class="headerlink" title="Natsume(chapter5)"></a>Natsume(chapter5)</h2><p><strong>whine</strong> </p><p><strong>elated</strong> adj. 兴高采烈的</p><p><strong>disdain</strong> v. 蔑视</p><p><strong>bask</strong> v. 晒太阳；沉浸在</p><p><strong>spank(ing)</strong></p><p>shtick n. 把戏；妙语</p><p><strong>downright</strong> adj. 十足的</p><p><strong>lukewarm</strong></p><p><strong>giddy</strong></p><p><strong>pedestal</strong></p><p><strong>mischief</strong></p><p>Sike 开玩笑；骗你的</p><p>booze v. 饮酒</p><p><strong>right at home</strong></p><p><strong>lo and behold</strong> 真没想到；走着瞧</p><p><strong>rowdy</strong> adj. 喧闹的</p><p><strong>butterfly in stomach</strong> 紧张或兴奋</p><p><strong>off-putting</strong> adj. 令人不舒服的</p><p><strong>hunker</strong> v. 专注于；蹲下</p><p><strong>last minute</strong></p><p><strong>intramural</strong></p><p><strong>snort</strong></p><p><strong>get behind</strong> 支持</p><p><strong>slick</strong></p><p><strong>aflutter</strong></p><p><strong>faze</strong></p><p><strong>poke around</strong></p><p><strong>brusque</strong></p><p><strong>toasty</strong> adj. 温暖舒适的</p><p>tangerine n. 橘子</p><p>oden n. 关东煮</p><p>bun</p><p>faucet</p><p><strong>peppy</strong></p><p><strong>pull out all the stops</strong></p><p>dough n. 生面团；钱</p><p><strong>ferment</strong> v. 发酵；骚乱</p><p><strong>gripe</strong></p><p><strong>at the end of the day</strong></p><p><strong>repercussions</strong></p><p>gargle v. 漱口</p><p><strong>animosity</strong> n. 憎恶</p><p>boomshell n. 出乎意料的事</p><p><strong>ravenous</strong> adj. 渴望的；贪得无厌的</p><p><strong>grisly</strong> adj. 可怖的；令人厌恶的</p><p><strong>quizzical</strong></p><p><strong>pandemonium</strong> n. 喧嚣；混乱</p><p><strong>accentuate</strong></p><p><strong>hem</strong></p><p><strong>umami</strong></p><p>slit</p><p>profit margin</p><p><strong>run out of steam</strong></p><p><strong>like nobody’s business</strong> 非常快；很多地</p><p><strong>je ne sais quo</strong>i 难以描绘(或表达)的好品质；妙不可言的特性(法语)</p><p>lard</p><p>broth n. 肉汤</p><p>tic n. 痉挛</p><p>nostrils n. 鼻孔</p><p>dumb ass</p><p>flare 用于nostrils</p><p>braise</p><p>consomme n. 清汤</p><p><strong>gleeful</strong></p><p><strong>speak volumes</strong> 意味深长；不言而喻</p><p><strong>earth to someone</strong> e.g. Hey, Earth to Caitlin! Did you hear anything I just said?</p><p><strong>long shot</strong></p><p><strong>tried-and-true</strong></p><p><strong>orthodox</strong></p><p><strong>bottle</strong> n. 信心；勇气；泄气</p><p><strong>gung-ho</strong> adj. 瞎起劲的</p><p><strong>apprehensive</strong></p><p><strong>skewer</strong> v. 严厉批评</p><p><strong>copious</strong> adj. 丰富的</p><p>bead n. 水珠</p><p>be in for a treat</p><p><strong>pore</strong> v. 深思熟虑；细读 n. 毛孔</p><p>karma</p><p>Russian Roulette 俄罗斯轮盘</p><p><strong>on the fence</strong> 犹豫不决；观望</p><p><strong>scrumptious</strong></p><p><strong>plaque</strong> n. 牌匾</p><p><strong>as happy as a clam (at high water)</strong></p><p><strong>drab</strong></p><p>pajama</p><p><strong>attire</strong></p><p><strong>crutch</strong></p><p>geezer n. 老头</p><p><strong>too many cooks spoil the broth</strong></p><p><strong>moisturize</strong></p><p>citrus</p><p><strong>fluke</strong> n. 侥幸</p><h2 id="Natsume-chapter6"><a href="#Natsume-chapter6" class="headerlink" title="Natsume(chapter6)"></a>Natsume(chapter6)</h2><p>dart</p><p><strong>to and fro</strong></p><p><strong>squirm</strong></p><p><strong>measly</strong></p><p><strong>cumbersome</strong></p><p><strong>purplish</strong></p><p><strong>hue</strong></p><p><strong>disinfectant</strong> n. 消毒剂</p><p><strong>chap</strong> v. 皲裂</p><p><strong>crest</strong> v. 到达顶点</p><p>hush v. 安静</p><p>eyelash</p><p><strong>drowsy</strong> adj. 昏昏欲睡的</p><p>carnal</p><p><strong>clad</strong></p><p><strong>ogle</strong></p><p><strong>peevish</strong> adj. 易怒的；脾气差的</p><p><strong>plump</strong></p><p><strong>meek</strong> adj. n. 温顺的(人)</p><p><strong>pompous</strong></p><p><strong>run its course</strong> to develop and finish naturally</p><p><strong>throb</strong> v. (心脏)跳动</p><p><strong>flat-out</strong></p><p><strong>itchy</strong> adj. 不安的；渴望的</p><p><strong>take something with a grain of salt</strong> to not completely believe something that you are told, because you think it is unlikely to be true</p><p><strong>egotistical</strong> adj. 自我为尊的</p><p><strong>racy</strong> adj. 生动的；充满活力的</p><p>crossdresser n. 女装大佬</p><p><strong>atrophy</strong> v. 退化；失去活力</p><p>hurrah exl. 万岁</p><p><strong>grind someone’s gears</strong> to annoy someone</p><p><strong>wistful</strong> adj. 惆怅的；渴望的</p><p><strong>barge</strong></p><p>pang n. 剧痛</p><p><strong>volatility</strong> n. 反复无常</p><p><strong>volatile</strong></p><p><strong>piggyback</strong></p><p>molester</p><p><strong>cheesy</strong></p><p><strong>corny</strong></p><p><strong>close call</strong></p><p><strong>exude</strong> v. 显露出</p><p><strong>ooze</strong> v. 流露出</p><p><strong>nimble</strong></p><p><strong>scram</strong></p><p><strong>beckon</strong></p><p><strong>frisky</strong> adj. 精力充沛的</p><p><strong>haywire</strong> adj. 天马行空的</p><p><strong>jiggle</strong> v. 晃动</p><p><strong>perky</strong> adj. 活泼的</p><p><strong>hypnotic</strong></p><p><strong>sultry</strong> adj. 湿热的</p><p><strong>lap up</strong></p><p><strong>splatter</strong> v. 飞溅</p><p><strong>spasm</strong> v. 抽搐</p><p><strong>reel</strong> v. 感到震惊</p><p><strong>goofy</strong> adj. 愚蠢的；滑稽的</p><h2 id="Natsume-chapter7"><a href="#Natsume-chapter7" class="headerlink" title="Natsume(chapter7)"></a>Natsume(chapter7)</h2><p><strong>weasel</strong> v. 逃避</p><p>douche bag 讨厌鬼</p><p><strong>douce</strong> adj. 温和的</p><p><strong>gallow</strong> v. 恐吓</p><p><strong>head over heels</strong> 深深地；彻底地</p><p><strong>tact</strong></p><p><strong>horny</strong> adj. 充满欲望的</p><p><strong>in the slightest</strong></p><p><strong>brunt</strong>n.  影响最大的部分</p><p><strong>scooch</strong> v. 蹲下；挪动</p><p><strong>snuggle</strong></p><p><strong>cuddle</strong></p><p><strong>latch</strong></p><p><strong>copious</strong></p><p><strong>seductive</strong></p><p><strong>obscene</strong> adj. 可憎的</p><p><strong>hackneyed</strong> adj. 老套的</p><p><strong>nary</strong> adv. 决不；一点也不</p><p><strong>exasperated</strong></p><p><strong>astringent</strong> adj. 收缩的；严厉的；涩的</p><p>butler n. 男管家</p><p><strong>stink</strong> adj. 令人讨厌的</p><p><strong>duly noted</strong> 注意到</p><p><strong>disgruntled</strong> </p><p><strong>entwine</strong></p><p><strong>nuzzle</strong> v. 依偎；贴近</p><p><strong>tearjerker</strong>n.  催人泪下的电影(或图书；故事等)</p><p>window shopping 逛街看橱窗；只逛不买</p><p><strong>blind</strong> n. 窗帘</p><p>chandelier n. 吊灯</p><p><strong>lustful</strong> adj. 渴望的</p><p><strong>coy</strong></p><p><strong>miffed</strong> adj. 恼羞成怒的</p><p>lovey-dovey adj. 情意绵绵的；多愁善感的</p><p>mademoiselle</p><p>fraulein n. 小姐</p><p>senorita</p><p>milady</p><p><strong>snazzy</strong> adj. 时髦的</p><p><strong>tingly</strong> adj. 刺激的</p><p>biceps</p><h2 id="Natsume-chapter8"><a href="#Natsume-chapter8" class="headerlink" title="Natsume(chapter8)"></a>Natsume(chapter8)</h2><p><strong>fall short of</strong></p><p>holy crap</p><p><strong>blurt</strong></p><p>dapper adj. 衣冠楚楚的</p><p><strong>whimper</strong></p><p><strong>third wheel</strong> someone who is not wanted or needed in a situation, especially someone who is present with two other people who are in a romantic relationship</p><p><strong>rehabilitation</strong></p><p>milord n. 阁下</p><p><strong>click one’s tongue</strong> 表示不满</p><p>minx n. 轻佻女子</p><p>SFX -&gt; Special Effects Cinematography</p><p><strong>wishy-washy</strong> adj. 淡然无味的</p><p>bullseye n. 靶心</p><p><strong>spook</strong> v. 惊吓</p><p><strong>spooky</strong></p><p><strong>serene</strong></p><p><strong>grit your teeth</strong></p><h2 id="Natsume-epilogue"><a href="#Natsume-epilogue" class="headerlink" title="Natsume(epilogue)"></a>Natsume(epilogue)</h2><p><strong>sought-after</strong> adj. 受欢迎的</p><p><strong>put two and two together</strong> 推断出某事</p><p>dweeb n. 书呆子，乏味的人</p><p><strong>intact</strong></p><p>snot n. 令人讨厌的人</p><p><strong>swallow hard</strong></p><p>gag</p><p><strong>muffled</strong></p><h2 id="Natsume-afterwards"><a href="#Natsume-afterwards" class="headerlink" title="Natsume(afterwards)"></a>Natsume(afterwards)</h2><p><strong>spur-of-the-moment</strong></p><p><strong>cranky</strong></p><p><strong>confection</strong></p><p>aisle n. 货架</p><p><strong>make head or tail of</strong></p><p><strong>exponential</strong></p><p><strong>scrub</strong></p><p><strong>pulsate</strong> v. 有节奏地舒张或收缩</p><p><strong>stay on one’s toes</strong></p>]]></content>
    
    
    <categories>
      
      <category>English Learning</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>Gal</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>在Hyper-V中配置openSUSE-Tumbleweed</title>
    <link href="/2024/09/15/opensuse/"/>
    <url>/2024/09/15/opensuse/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-bd8f112d" role="button" aria-expanded="false" aria-controls="collapse-bd8f112d">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-bd8f112d">        <div class="fold-content">          <p><a href="https://en.opensuse.org/">openSUSE_wiki</a><br><a href="https://zh.opensuse.org/">openSUSE_wiki_zh</a></p>        </div>      </div>    </div><h2 id="更换软件源"><a href="#更换软件源" class="headerlink" title="更换软件源"></a>更换软件源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper mr -da<br><span class="hljs-built_in">sudo</span> zypper ar -fcg <span class="hljs-string">&#x27;https://mirrors.ustc.edu.cn/opensuse/tumbleweed/repo/oss&#x27;</span> USTC:OSS<br><span class="hljs-built_in">sudo</span> zypper ar -fcg <span class="hljs-string">&#x27;https://mirrors.ustc.edu.cn/opensuse/tumbleweed/repo/non-oss&#x27;</span> USTC:NON-OSS<br><span class="hljs-built_in">sudo</span> zypper ar -fcg <span class="hljs-string">&#x27;https://mirrors.ustc.edu.cn/opensuse/update/tumbleweed&#x27;</span> USTC:UPDATE<br><span class="hljs-built_in">sudo</span> zypper ref<br></code></pre></td></tr></table></figure><h2 id="安装解码器"><a href="#安装解码器" class="headerlink" title="安装解码器"></a>安装解码器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper ar -cfp 90 <span class="hljs-string">&#x27;https://mirrors.aliyun.com/packman/suse/openSUSE_Tumbleweed/&#x27;</span> packman<br><span class="hljs-built_in">sudo</span> zypper refresh<br><span class="hljs-built_in">sudo</span> zypper dist-upgrade --from packman --allow-vendor-change<br><span class="hljs-built_in">sudo</span> zypper install --from packman ffmpeg gstreamer-plugins-&#123;good,bad,ugly,libav&#125; libavcodec-full vlc-codecs<br></code></pre></td></tr></table></figure><h2 id="安装输入法"><a href="#安装输入法" class="headerlink" title="安装输入法"></a>安装输入法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> fcitx5 fcitx5-chinese-addons fcitx5-configtool<br>wget https://github.com/wuhgit/CustomPinyinDictionary/releases/download/assets/CustomPinyinDictionary_Fcitx_20240824.tar.gz<br>wget https://github.com/felixonmars/fcitx5-pinyin-zhwiki/releases/download/0.2.5/zhwiki-20240909.dict<br>tar -zxvf CustomPinyinDictionary_Fcitx_20240824.tar.gz<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mkdir</span> -p /usr/share/fcitx5/pinyin/dictionaries/<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> CustomPinyinDictionary_Fcitx.dict /usr/share/fcitx5/pinyin/dictionaries/<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> zhwiki-20240909.dict /usr/share/fcitx5/pinyin/dictionaries/<br><span class="hljs-built_in">ls</span> /usr/share/fcitx5/pinyin/dictionaries/<br><span class="hljs-built_in">rm</span> CustomPinyinDictionary_Fcitx_20240824.tar.gz CustomPinyinDictionary_Fcitx.dict zhwiki-20240909.dict<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><h2 id="配置蓝牙"><a href="#配置蓝牙" class="headerlink" title="配置蓝牙"></a>配置蓝牙</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> bluez-obexd<br>systemctl --user start obex<br>systemctl --user <span class="hljs-built_in">enable</span> obex<br></code></pre></td></tr></table></figure><h2 id="配置Hyper-V"><a href="#配置Hyper-V" class="headerlink" title="配置Hyper-V"></a>配置Hyper-V</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> openSUSE-release-appliance-hyperv xrdp xorgxrdp<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now hv_fcopy_daemon.service hv_kvp_daemon.service hv_vss_daemon.service xrdp<br><span class="hljs-built_in">sudo</span> firewall-cmd --add-port=3389/tcp --permanent<br><span class="hljs-built_in">sudo</span> firewall-cmd --reload<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><h2 id="获取IP地址，记下第二个命令的输出"><a href="#获取IP地址，记下第二个命令的输出" class="headerlink" title="获取IP地址，记下第二个命令的输出"></a>获取IP地址，记下第二个命令的输出</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper <span class="hljs-keyword">in</span> busybox-net-tools<br>ifconfig | grep -w <span class="hljs-string">&quot;inet&quot;</span> | grep -v 127.0.0.1 | awk <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span> | awk -F <span class="hljs-string">&#x27;:&#x27;</span> <span class="hljs-string">&#x27;&#123;print $2&#125;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="自动启动桌面环境"><a href="#自动启动桌面环境" class="headerlink" title="自动启动桌面环境"></a>自动启动桌面环境</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> startxfce4 &gt; ~/.xsession<br><span class="hljs-built_in">chmod</span> +x ~/.xsession<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># ~/.xsession for kde-plasma-x11</span><br><span class="hljs-built_in">export</span> DESKTOP_SESSION=plasma<br><span class="hljs-built_in">exec</span> startplasma-x11<br></code></pre></td></tr></table></figure><h2 id="Windows远程桌面连接"><a href="#Windows远程桌面连接" class="headerlink" title="Windows远程桌面连接"></a>Windows远程桌面连接</h2><p>输入&lt;上面获取的IP地址&gt;:3389，确认后选择<code>xorg</code>，输入用户名和密码即可连接成功</p><h2 id="解决声音问题"><a href="#解决声音问题" class="headerlink" title="解决声音问题"></a>解决声音问题</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> zypper addrepo https://download.opensuse.org/repositories/home:Psheng/openSUSE_Tumbleweed/home:Psheng.repo<br><span class="hljs-built_in">sudo</span> zypper refresh<br><span class="hljs-built_in">sudo</span> zypper install pulseaudio-module-xrdp<br><span class="hljs-built_in">sudo</span> reboot<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hyper-V</tag>
      
      <tag>Linux</tag>
      
      <tag>openSUSE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>使用systemd-boot管理统一内核镜像</title>
    <link href="/2024/08/26/uki/"/>
    <url>/2024/08/26/uki/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-83a3424a" role="button" aria-expanded="false" aria-controls="collapse-83a3424a">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-83a3424a">        <div class="fold-content">          <p><a href="https://wiki.archlinux.org/title/Unified_kernel_image#">UKI</a><br><a href="https://wiki.archlinux.org/title/Systemd-boot#">systemd-boot</a></p>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-91f23d81" role="button" aria-expanded="false" aria-controls="collapse-91f23d81">        <div class="fold-arrow">▶</div>警告      </div>      <div class="fold-collapse collapse" id="collapse-91f23d81">        <div class="fold-content">          <p>本教程使用<code>mkinitcpio</code>，EndeavourOS用户默认使用<a href="https://wiki.archlinux.org/title/Dracut">Dracut</a>，请自行参阅wiki</p>        </div>      </div>    </div><h2 id="情况一：两系统在不同硬盘，使用systemd-boot引导"><a href="#情况一：两系统在不同硬盘，使用systemd-boot引导" class="headerlink" title="情况一：两系统在不同硬盘，使用systemd-boot引导"></a>情况一：两系统在不同硬盘，使用systemd-boot引导</h2><h3 id="添加启动参数"><a href="#添加启动参数" class="headerlink" title="添加启动参数"></a>添加启动参数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">su<br><span class="hljs-built_in">mkdir</span> /etc/cmdline.d<br><span class="hljs-built_in">touch</span> /etc/cmdline.d/root.conf<br><span class="hljs-built_in">echo</span> root=$(<span class="hljs-built_in">cat</span> /etc/fstab | grep ext4 | awk <span class="hljs-string">&#x27;&#123; print $1 &#125;&#x27;</span>) rw &gt;&gt; /etc/cmdline.d/root.conf<br><span class="hljs-built_in">cat</span> /etc/cmdline.d/root.conf<br></code></pre></td></tr></table></figure><p>文件内容如下所示</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">root</span>=UUID=<span class="hljs-number">0</span>a3407de-<span class="hljs-number">014</span>b-<span class="hljs-number">458</span>b-b5c1-<span class="hljs-number">848</span>e92a327a3 rw<br></code></pre></td></tr></table></figure><h3 id="修改-preset文件"><a href="#修改-preset文件" class="headerlink" title="修改.preset文件"></a>修改<code>.preset</code>文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">su<br>vim /etc/mkinitcpio.d/linux.preset <span class="hljs-comment">#zen内核则为/etc/mkinitcpio.d/linux-zen.preset</span><br></code></pre></td></tr></table></figure><p>注释掉<code>image</code>字样的行，取消注释<code>uki</code>字样的行，示例文件如下所示<br>splash是启动时闪过的图片，默认是archlinux的logo</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># mkinitcpio preset file for the &#x27;linux&#x27; package</span><br><br><span class="hljs-comment">#ALL_config=&quot;/etc/mkinitcpio.conf&quot;</span><br><span class="hljs-attr">ALL_kver</span>=<span class="hljs-string">&quot;/boot/vmlinuz-linux&quot;</span><br><br><span class="hljs-attr">PRESETS</span>=(<span class="hljs-string">&#x27;default&#x27;</span> <span class="hljs-string">&#x27;fallback&#x27;</span>)<br><br><span class="hljs-comment">#default_config=&quot;/etc/mkinitcpio.conf&quot;</span><br><span class="hljs-comment">#default_image=&quot;/boot/initramfs-linux.img&quot;</span><br><span class="hljs-attr">default_uki</span>=<span class="hljs-string">&quot;/efi/EFI/Linux/arch-linux.efi&quot;</span><br><span class="hljs-attr">default_options</span>=<span class="hljs-string">&quot;--splash=/usr/share/systemd/bootctl/splash-arch.bmp&quot;</span><br><br><span class="hljs-comment">#fallback_config=&quot;/etc/mkinitcpio.conf&quot;</span><br><span class="hljs-comment">#fallback_image=&quot;/boot/initramfs-linux-fallback.img&quot;</span><br><span class="hljs-attr">fallback_uki</span>=<span class="hljs-string">&quot;/efi/EFI/Linux/arch-linux-fallback.efi&quot;</span><br><span class="hljs-attr">fallback_options</span>=<span class="hljs-string">&quot;-S autodetect&quot;</span><br></code></pre></td></tr></table></figure><h3 id="构建UKI镜像"><a href="#构建UKI镜像" class="headerlink" title="构建UKI镜像"></a>构建UKI镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p /efi/EFI/Linux<br>mkinitcpio -p linux <span class="hljs-comment">#zen内核则为linux-zen</span><br></code></pre></td></tr></table></figure><h3 id="简单清理"><a href="#简单清理" class="headerlink" title="简单清理"></a>简单清理</h3>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-6aeb2756" role="button" aria-expanded="false" aria-controls="collapse-6aeb2756">        <div class="fold-arrow">▶</div>警告      </div>      <div class="fold-collapse collapse" id="collapse-6aeb2756">        <div class="fold-content">          <p>最好<code>手打</code>下面的命令，用<code>tab</code>补全文件路径</p>        </div>      </div>    </div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /efi/initramfs-linux.img <br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /efi/initramfs-linux-fallback.img<br><span class="hljs-comment"># sudo rm -rf /boot/initramfs-linux.img</span><br><span class="hljs-comment"># sudo rm -rf /boot/initramfs-linux-fallback.img</span><br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /efi/loader/entries/arch.conf<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /efi/loader/entries/arch-fallback.conf<br></code></pre></td></tr></table></figure><h2 id="情况二：两系统在同一块硬盘，使用systemd-boot引导"><a href="#情况二：两系统在同一块硬盘，使用systemd-boot引导" class="headerlink" title="情况二：两系统在同一块硬盘，使用systemd-boot引导"></a>情况二：两系统在同一块硬盘，使用systemd-boot引导</h2><h3 id="添加启动参数-1"><a href="#添加启动参数-1" class="headerlink" title="添加启动参数"></a>添加启动参数</h3><p>与情况一相同</p><h3 id="修改-preset文件-1"><a href="#修改-preset文件-1" class="headerlink" title="修改.preset文件"></a>修改<code>.preset</code>文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">su<br>vim /etc/mkinitcpio.d/linux.preset <span class="hljs-comment">#zen内核则为/etc/mkinitcpio.d/linux-zen.preset</span><br></code></pre></td></tr></table></figure><p>注释掉<code>image</code>字样的行，取消注释<code>uki</code>字样的行，示例文件如下所示<br>splash是启动时闪过的图片，默认是archlinux的logo</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-comment"># mkinitcpio preset file for the &#x27;linux&#x27; package</span><br><br><span class="hljs-comment">#ALL_config=&quot;/etc/mkinitcpio.conf&quot;</span><br><span class="hljs-attr">ALL_kver</span>=<span class="hljs-string">&quot;/boot/vmlinuz-linux&quot;</span><br><br><span class="hljs-attr">PRESETS</span>=(<span class="hljs-string">&#x27;default&#x27;</span> <span class="hljs-string">&#x27;fallback&#x27;</span>)<br><br><span class="hljs-comment">#default_config=&quot;/etc/mkinitcpio.conf&quot;</span><br><span class="hljs-comment">#default_image=&quot;/boot/initramfs-linux.img&quot;</span><br><span class="hljs-attr">default_uki</span>=<span class="hljs-string">&quot;/boot/EFI/Linux/arch-linux.efi&quot;</span><br><span class="hljs-attr">default_options</span>=<span class="hljs-string">&quot;--splash=/usr/share/systemd/bootctl/splash-arch.bmp&quot;</span><br><br><span class="hljs-comment">#fallback_config=&quot;/etc/mkinitcpio.conf&quot;</span><br><span class="hljs-comment">#fallback_image=&quot;/boot/initramfs-linux-fallback.img&quot;</span><br><span class="hljs-attr">fallback_uki</span>=<span class="hljs-string">&quot;/boot/EFI/Linux/arch-linux-fallback.efi&quot;</span><br><span class="hljs-attr">fallback_options</span>=<span class="hljs-string">&quot;-S autodetect&quot;</span><br></code></pre></td></tr></table></figure><h3 id="构建UKI镜像-1"><a href="#构建UKI镜像-1" class="headerlink" title="构建UKI镜像"></a>构建UKI镜像</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p /boot/EFI/Linux<br>mkinitcpio -p linux <span class="hljs-comment">#zen内核则为linux-zen</span><br></code></pre></td></tr></table></figure><h3 id="简单清理-1"><a href="#简单清理-1" class="headerlink" title="简单清理"></a>简单清理</h3>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-6aeb2756" role="button" aria-expanded="false" aria-controls="collapse-6aeb2756">        <div class="fold-arrow">▶</div>警告      </div>      <div class="fold-collapse collapse" id="collapse-6aeb2756">        <div class="fold-content">          <p>最好<code>手打</code>下面的命令，用<code>tab</code>补全文件路径</p>        </div>      </div>    </div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /boot/initramfs-linux.img<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /boot/initramfs-linux-fallback.img<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /boot/loader/entries/arch.conf<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">rm</span> -rf /boot/loader/entries/arch-fallback.conf<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>arch</tag>
      
      <tag>efi</tag>
      
      <tag>uefi</tag>
      
      <tag>uki</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows+archlinux分区和引导方案</title>
    <link href="/2024/08/25/efi/"/>
    <url>/2024/08/25/efi/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-a516ab5d" role="button" aria-expanded="false" aria-controls="collapse-a516ab5d">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-a516ab5d">        <div class="fold-content">          <p><a href="https://wiki.archlinux.org/title/Unified_Extensible_Firmware_Interface#UEFI_Shell">UEFI Shell</a><br><a href="https://wiki.archlinux.org/title/EFI_system_partition">EFI系统分区&#x2F;或称为ESP</a><br><a href="https://wiki.archlinux.org/title/Systemd-boot">Systemd-boot</a><br><a href="https://wiki.archlinux.org/title/GRUB">GRUB</a><br><a href="https://wiki.archlinux.org/title/Dual_boot_with_Windows">双系统说明</a><br><a href="https://wiki.archlinux.org/title/Partitioning">分区</a></p>        </div>      </div>    </div><h2 id="情况一：两系统在不同硬盘，使用GRUB引导（上文默认方案）"><a href="#情况一：两系统在不同硬盘，使用GRUB引导（上文默认方案）" class="headerlink" title="情况一：两系统在不同硬盘，使用GRUB引导（上文默认方案）"></a>情况一：两系统在不同硬盘，使用GRUB引导（上文默认方案）</h2><h3 id="分区方案"><a href="#分区方案" class="headerlink" title="分区方案"></a>分区方案</h3><blockquote><p>EFI系统分区：500M<br>交换分区（Swap分区）：等于电脑自身物理内存（比如16G）<br>根目录分区：剩余全部空间</p></blockquote><h3 id="转换成GPT磁盘"><a href="#转换成GPT磁盘" class="headerlink" title="转换成GPT磁盘"></a>转换成GPT磁盘</h3><ul><li>可以用Linux命令<code>parted</code>操作，也可以在Windows下用<code>磁盘管理</code>或者<code>DiskGenius</code>操作</li></ul><h3 id="使用cfdisk分区"><a href="#使用cfdisk分区" class="headerlink" title="使用cfdisk分区"></a>使用cfdisk分区</h3><ul><li><p>图形化操作，先创建<code>500M</code>大小的分区，类型选择<code>EFI System Partition</code>，然后选择<code>Write</code>操作写入</p></li><li><p>再创建<code>4G</code>（示例）大小的交换分区，具体大小自己决定，类型选择<code>Linux Swap</code>，然后选择<code>Write</code>操作写入</p></li><li><p>最后所有空间给根分区，类型默认为<code>Linux File System</code>，然后选择<code>Write</code>操作写入</p></li><li><p>选择<code>quit</code>退出</p></li></ul><h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><blockquote><p>请把<code>x</code>替换为具体的数字，可以用<code>fdisk -l</code>查看</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.ext4  /dev/sdax            <span class="hljs-comment">#格式化根目录（和home目录）的分区</span><br>mkfs.vfat  /dev/sdax            <span class="hljs-comment">#格式化efi分区</span><br><span class="hljs-comment"># mkfs.fat -F32 /dev/sdxn       #格式化efi分区（另一种方式）</span><br>mkswap /dev/sdxn                <span class="hljs-comment">#初始化 Swap 分区</span><br></code></pre></td></tr></table></figure><h3 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h3><p>根据具体系统<code>sda</code>或<code>nvme0n</code>输入下列命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount /dev/sda1 /mnt            <span class="hljs-comment">#先挂载根分区</span><br><span class="hljs-built_in">mkdir</span> /mnt/efi                  <br>mount /dev/sda2 /mnt/efi        <span class="hljs-comment">#再挂载efi分区</span><br>swapon /dev/sda3                <span class="hljs-comment">#启用交换分区</span><br><span class="hljs-built_in">df</span> -h                           <span class="hljs-comment">#复查分区挂载情况</span><br></code></pre></td></tr></table></figure><h3 id="使用GRUB引导"><a href="#使用GRUB引导" class="headerlink" title="使用GRUB引导"></a>使用GRUB引导</h3><blockquote><p><code>ntfs-3g</code>可以不装</p></blockquote><p>此时我们应该用过<code>arch-chroot /mnt</code>命令进入了新系统，并安装了<code>os-prober</code>，<code>efibootmgr</code>和<code>ntfs-3g</code>软件包</p><ul><li>安装grub，<code>/efi</code>是efi系统分区的挂载点</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=ARCH --removable<br>vim /etc/default/grub<br></code></pre></td></tr></table></figure><ul><li><p>进入编辑界面，去掉 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行中最后的 <code>quiet</code> 参数（可选）</p></li><li><p>这个选项可以更改主题：<code>GRUB_THEME=&quot;/usr/share/grub/themes/Yunli/theme.txt&quot;</code>，请进入系统桌面环境后再操作</p></li><li><p>为了引导windows，则还需要添加新的一行<code>GRUB_DISABLE_OS_PROBER=false</code>，或者在最后一行去掉<code>GRUB_DISABLE_OS_PROBER=false</code>前的<code>#</code></p></li><li><p>最后重新生成grub配置文件</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><blockquote><p>如果重启界面看不到Windows，则进入系统后挂载windwos硬盘并重新行该命令，再重启即可</p></blockquote><blockquote><p>如果重启后看不到GRUB，请到UEFI固件设置更改启动顺序</p></blockquote><h2 id="情况二：两系统在不同硬盘，使用systemd-boot引导"><a href="#情况二：两系统在不同硬盘，使用systemd-boot引导" class="headerlink" title="情况二：两系统在不同硬盘，使用systemd-boot引导"></a>情况二：两系统在不同硬盘，使用systemd-boot引导</h2><h3 id="分区方案-1"><a href="#分区方案-1" class="headerlink" title="分区方案"></a>分区方案</h3><blockquote><p>EFI系统分区：1G<br>交换分区（Swap分区）：等于电脑自身物理内存（比如16G）<br>根目录分区：剩余全部空间</p></blockquote><h3 id="从转换磁盘到挂载分区部分与上面相同"><a href="#从转换磁盘到挂载分区部分与上面相同" class="headerlink" title="从转换磁盘到挂载分区部分与上面相同"></a>从<code>转换磁盘</code>到<code>挂载分区</code>部分与上面相同</h3><h3 id="使用systemd-boot引导"><a href="#使用systemd-boot引导" class="headerlink" title="使用systemd-boot引导"></a>使用systemd-boot引导</h3><blockquote><p>警告：请确保启动方式是UEFI模式</p></blockquote><blockquote><p>此时我们应该用过<code>arch-chroot /mnt</code>命令进入了新系统，且efi系统分区在<code>/efi</code>目录</p></blockquote><p>使用<code>bootctl</code>命令将systemd-boot安装到ESP，并启动自动更新服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">bootctl install<br>systemctl <span class="hljs-built_in">enable</span> systemd-boot-update.service<br></code></pre></td></tr></table></figure><p>先编辑<code>/efi/loader/loader.conf</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /efi/loader/loader.conf<br></code></pre></td></tr></table></figure><p>加入以下内容，默认启动选项配置是<code>arch.conf</code></p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pf"><span class="hljs-keyword">default</span>  arch.conf<br><span class="hljs-keyword">timeout</span>  <span class="hljs-number">4</span><br>console-mode <span class="hljs-keyword">max</span><br>editor   <span class="hljs-keyword">no</span><br></code></pre></td></tr></table></figure><p>然后把<code>/boot</code>内的镜像复制到<code>/efi</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> /boot/* /efi/ <br></code></pre></td></tr></table></figure><p>产生两个配置文件<code>/efi/loader/entries/arch.conf</code>和<code>/efi/loader/entries/arch-fallback.conf</code></p><blockquote><p>假设你的分区是单根分区，且是ext4格式，可以用下面的命令生成这两个文件</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v UUID /usr/share/systemd/bootctl/arch.conf &gt; /efi/loader/entries/arch.conf<br><span class="hljs-built_in">echo</span> options root=$(<span class="hljs-built_in">cat</span> /etc/fstab | grep ext4 | awk <span class="hljs-string">&#x27;&#123; print $1 &#125;&#x27;</span>) rw &gt;&gt; /efi/loader/entries/arch.conf<br>grep -v UUID /usr/share/systemd/bootctl/arch.conf &gt; /efi/loader/entries/arch-fallback.conf<br><span class="hljs-built_in">echo</span> options root=$(<span class="hljs-built_in">cat</span> /etc/fstab | grep ext4 | awk <span class="hljs-string">&#x27;&#123; print $1 &#125;&#x27;</span>) rw &gt;&gt; /efi/loader/entries/arch-fallback.conf<br></code></pre></td></tr></table></figure><p>接下来微调这两个文件，第二个文件要加上<code>fallback</code>字样，同时要把<code>微码镜像</code>也添加进去，最终两个文件大概长这样（这里是zen内核的例子）</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs maxima">## This <span class="hljs-built_in">is</span> just an <span class="hljs-built_in">example</span> config file.<br>## Please edit the paths <span class="hljs-keyword">and</span> kernel parameters according to your <span class="hljs-built_in">system</span>.<br><br><span class="hljs-built_in">title</span>   Arch Linux<br>linux   /vmlinuz-linux-zen<br>initrd  /intel-ucode.img<br>initrd  /initramfs-linux-zen.img<br>options root=UUID=33c6745e-<span class="hljs-number">87b1</span>-<span class="hljs-number">4663</span>-8a39-a9a82915669d rw<br></code></pre></td></tr></table></figure><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs maxima">## This <span class="hljs-built_in">is</span> just an <span class="hljs-built_in">example</span> config file.<br>## Please edit the paths <span class="hljs-keyword">and</span> kernel parameters according to your <span class="hljs-built_in">system</span>.<br><br><span class="hljs-built_in">title</span>   Arch Linux fallback<br>linux   /vmlinuz-linux-zen<br>initrd  /intel-ucode.img<br>initrd  /initramfs-linux-zen-fallback.img<br>options root=UUID=33c6745e-<span class="hljs-number">87b1</span>-<span class="hljs-number">4663</span>-8a39-a9a82915669d rw<br></code></pre></td></tr></table></figure><p>接下来输入<code>bootctl list</code>可以看到引导菜单的情况</p><p>重启进入archlinux，为方便操作，请用<code>su</code>进入root账户</p><h3 id="处理windows分区情况"><a href="#处理windows分区情况" class="headerlink" title="处理windows分区情况"></a>处理windows分区情况</h3><p>先安装<code>edk2-shell</code>软件包</p><p>复制shellx64.efi以便systemd-boot检测到</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> /usr/share/edk2-shell/x64/Shell.efi /efi/shellx64.efi<br></code></pre></td></tr></table></figure><p>接下来用<code>fdisk -l</code>命令查看windows的<code>efi</code>分区位置，再用<code>blkid</code>命令，看一下这个分区的UUID</p><p>重启，引导菜单选择<code>EFI Shell</code>，输入<code>map</code>查看所有分区，找到上一步分区对应的UUID，查看这一行开头的<code>Alias</code>字样后面的内容，例如可能是<code>HD0a65535a1</code>，记下这串字符</p><p>重启进入arch，新建<code>/efi/loader/entries/windows.conf</code>，加入以下内容</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs moonscript">title   Windows<br>efi     /shellx64.efi<br>options -nointerrupt -nomap -noversion <span class="hljs-name">HD0a65535a1</span>:EFI\Microsoft\Boot\Bootmgfw.efi<br></code></pre></td></tr></table></figure><p>保存退出后，输入<code>bootctl list</code>查看引导菜单的情况</p><p>重启即可看到这些引导选项</p><h3 id="使用bind挂载选项"><a href="#使用bind挂载选项" class="headerlink" title="使用bind挂载选项"></a>使用<code>bind</code>挂载选项</h3><p>这样<code>pacman</code>就可以直接更新内核文件并保持EFI系统分区的规划。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount --<span class="hljs-built_in">bind</span> /efi /boot<br><span class="hljs-built_in">sudo</span> vim /etc/fstab<br></code></pre></td></tr></table></figure><p>加入以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">/efi /boot none defaults,<span class="hljs-built_in">bind</span> 0 0<br></code></pre></td></tr></table></figure><h2 id="情况三：两系统在同一块硬盘，使用GRUB引导"><a href="#情况三：两系统在同一块硬盘，使用GRUB引导" class="headerlink" title="情况三：两系统在同一块硬盘，使用GRUB引导"></a>情况三：两系统在同一块硬盘，使用GRUB引导</h2><blockquote><p>跟情况一的区别：不额外创建efi系统分区，不格式化windows的efi分区，直接挂载至<code>/mnt/efi</code>即可，后续步骤相同</p></blockquote><h2 id="情况四：两系统在同一块硬盘，使用systemd-boot引导"><a href="#情况四：两系统在同一块硬盘，使用systemd-boot引导" class="headerlink" title="情况四：两系统在同一块硬盘，使用systemd-boot引导"></a>情况四：两系统在同一块硬盘，使用systemd-boot引导</h2><h3 id="分区方案-2"><a href="#分区方案-2" class="headerlink" title="分区方案"></a>分区方案</h3><blockquote><p>EFI系统分区：用Windows的<br>Linux拓展分区（boot分区）：1G<br>交换分区（Swap分区）：等于电脑自身物理内存（比如16G）<br>根目录分区：剩余全部空间</p></blockquote><h3 id="转换成GPT磁盘-1"><a href="#转换成GPT磁盘-1" class="headerlink" title="转换成GPT磁盘"></a>转换成GPT磁盘</h3><ul><li>可以用Linux命令<code>parted</code>操作，也可以在Windows下用<code>磁盘管理</code>或者<code>DiskGenius</code>操作</li></ul><h3 id="使用cfdisk分区-1"><a href="#使用cfdisk分区-1" class="headerlink" title="使用cfdisk分区"></a>使用cfdisk分区</h3><ul><li><p>图形化操作，先创建<code>1G</code>大小的分区，类型选择<code>Linux Extended Partition</code>，然后选择<code>Write</code>操作写入</p></li><li><p>再创建<code>4G</code>（示例）大小的交换分区，具体大小自己决定，类型选择<code>Linux Swap</code>，然后选择<code>Write</code>操作写入</p></li><li><p>最后所有空间给根分区，类型默认为<code>Linux File System</code>，然后选择<code>Write</code>操作写入</p></li><li><p>选择<code>quit</code>退出</p></li></ul><h3 id="格式化-1"><a href="#格式化-1" class="headerlink" title="格式化"></a>格式化</h3><blockquote><p>请把<code>x</code>替换为具体的数字，可以用<code>fdisk -l</code>查看</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.ext4  /dev/sdax            <span class="hljs-comment">#格式化根目录分区 </span><br>mkfs.fat -F32 /dev/sdxn         <span class="hljs-comment">#格式化拓展分区</span><br>mkswap /dev/sdxn                <span class="hljs-comment">#初始化 Swap 分区</span><br></code></pre></td></tr></table></figure><h3 id="挂载分区-1"><a href="#挂载分区-1" class="headerlink" title="挂载分区"></a>挂载分区</h3><p>根据具体系统<code>sda</code>或<code>nvme0n</code>输入下列命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount /dev/sda1 /mnt            <span class="hljs-comment">#先挂载根分区</span><br><span class="hljs-built_in">mkdir</span> /mnt/efi                  <br>mount /dev/sda2 /mnt/efi        <span class="hljs-comment">#再挂载efi分区，用Windows的</span><br>mount /dev/sda3 /mnt/boot       <span class="hljs-comment">#挂载boot分区</span><br>swapon /dev/sda2                <span class="hljs-comment">#启用交换分区</span><br><span class="hljs-built_in">df</span> -h                           <span class="hljs-comment">#复查分区挂载情况</span><br></code></pre></td></tr></table></figure><h3 id="使用systemd-boot引导-1"><a href="#使用systemd-boot引导-1" class="headerlink" title="使用systemd-boot引导"></a>使用systemd-boot引导</h3><blockquote><p>警告：请确保启动方式是UEFI模式</p></blockquote><blockquote><p>此时我们应该用过<code>arch-chroot /mnt</code>命令进入了新系统，且efi系统分区在<code>/efi</code>目录，boot分区在<code>/boot</code>目录</p></blockquote><p>使用命令<code>bootctl</code>，并启动自动更新服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">bootctl --esp-path=/efi --boot-path=/boot install<br>systemctl <span class="hljs-built_in">enable</span> systemd-boot-update.service<br></code></pre></td></tr></table></figure><p>编辑<code>/efi/loader/loader.conf</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /efi/loader/loader.conf<br></code></pre></td></tr></table></figure><p>加入以下内容，默认启动选项配置是<code>arch.conf</code></p><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pf"><span class="hljs-keyword">default</span>  arch.conf<br><span class="hljs-keyword">timeout</span>  <span class="hljs-number">4</span><br>console-mode <span class="hljs-keyword">max</span><br>editor   <span class="hljs-keyword">no</span><br></code></pre></td></tr></table></figure><p>再产生两个配置文件<code>/boot/loader/entries/arch.conf</code>和<code>/boot/loader/entries/arch-fallback.conf</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v UUID /usr/share/systemd/bootctl/arch.conf &gt; /boot/loader/entries/arch.conf<br><span class="hljs-built_in">echo</span> options root=$(<span class="hljs-built_in">cat</span> /etc/fstab | grep ext4 | awk <span class="hljs-string">&#x27;&#123; print $1 &#125;&#x27;</span>) rw &gt;&gt; /boot/loader/entries/arch.conf<br>grep -v UUID /usr/share/systemd/bootctl/arch.conf &gt; /boot/loader/entries/arch-fallback.conf<br><span class="hljs-built_in">echo</span> options root=$(<span class="hljs-built_in">cat</span> /etc/fstab | grep ext4 | awk <span class="hljs-string">&#x27;&#123; print $1 &#125;&#x27;</span>) rw &gt;&gt; /boot/loader/entries/arch-fallback.conf<br></code></pre></td></tr></table></figure><p>接下来微调这两个文件，第二个文件要加上<code>fallback</code>字样，同时要把<code>微码镜像</code>也添加进去，最终两个文件大概长这样，跟情况二相同</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs maxima">## This <span class="hljs-built_in">is</span> just an <span class="hljs-built_in">example</span> config file.<br>## Please edit the paths <span class="hljs-keyword">and</span> kernel parameters according to your <span class="hljs-built_in">system</span>.<br><br><span class="hljs-built_in">title</span>   Arch Linux<br>linux   /vmlinuz-linux-zen<br>initrd  /intel-ucode.img<br>initrd  /initramfs-linux-zen.img<br>options root=UUID=33c6745e-<span class="hljs-number">87b1</span>-<span class="hljs-number">4663</span>-8a39-a9a82915669d rw<br></code></pre></td></tr></table></figure><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs maxima">## This <span class="hljs-built_in">is</span> just an <span class="hljs-built_in">example</span> config file.<br>## Please edit the paths <span class="hljs-keyword">and</span> kernel parameters according to your <span class="hljs-built_in">system</span>.<br><br><span class="hljs-built_in">title</span>   Arch Linux fallback<br>linux   /vmlinuz-linux-zen<br>initrd  /intel-ucode.img<br>initrd  /initramfs-linux-zen-fallback.img<br>options root=UUID=33c6745e-<span class="hljs-number">87b1</span>-<span class="hljs-number">4663</span>-8a39-a9a82915669d rw<br></code></pre></td></tr></table></figure><p>接下来输入<code>bootctl list</code>可以看到引导菜单的情况</p><p>安装完桌面环境，重启即可看到arch和windows的选项（<code>systemd-boot</code>会自动探测同一esp下windows的efi文件）</p>]]></content>
    
    
    <categories>
      
      <category>Linux Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>Linux</tag>
      
      <tag>arch</tag>
      
      <tag>efi</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>小技巧合集</title>
    <link href="/2024/08/23/tips/"/>
    <url>/2024/08/23/tips/</url>
    
    <content type="html"><![CDATA[<ol><li>输入法通过u模式输入ushuishuishui就能打出生僻字淼</li><li>安装软件尽量官网下载安装，也可以去寻找绿色版</li><li>在文件资源管理器输入shell:AppsFolder即可管理所有已安装的电脑软件</li><li>@标识符前面的字符会被浏览器忽略所以这个地址<a href="https://www.baidu.com@google.com/">https://www.baidu.com@google.com</a> 实际是打开了谷歌，不要看域名就以为链接安全</li><li>浏览器控制台输入body.contentEditable&#x3D;true直接编辑网页，都不用ps了</li><li>某些网页禁止了复制，浏览器控制台输入body.outerHTML&#x3D;documentbody.outerHTML就可以解除复制限制</li><li>把xlsx文件后缀改成zip，可以查看到这个.xlsx文件的内部结构，包括定义电子表格样式的XML文件，存储实际电子表格数据的XML文件</li><li>word中alt+鼠标拖动可以垂直选择文本</li><li>word中段落以回车换行分割，如果想换行不分段用shift+回车，ctrl+回车直接分页</li><li>如果有大段连续文本需要选中，可以在起始&#x2F;结束处先点击一下放置光标，然后到另一端按住shift点击</li><li>选中所有图片后粘贴到Word里，保存成docx，再用WinRAR打开保存的文件，你会发现所有图片都在一个文件夹里，而且文件名已经给你按顺序改成编号了</li><li>笔记本从长期插充电器，是不会损害机器的电池自带保护功能，不用担心缩短寿命</li><li>不建议盲目安装某些杀毒软件（某60，某大师），没有配置好的话只会让电脑更卡顿，</li><li>安装一些软件的时候，可以把系统默认安装路径改到d盘。</li><li>要是想隐藏某些文件，直接把文件拓展名改了，别人就打不开了，你要再打开就再该改回来（或者新建一个文件夹，文件夹名字前加一个小数点，那么这个文件夹就变成了可隐藏的属性，需要在“查看”里勾选“显示隐藏文件夹”，这个文件夹才会被看到。当你不想别人看到这些文件时，把勾取消就行了）</li><li>有些加了密码限制编辑的pdf文件可以打印保存为pdf，这个新pdf可以编辑</li><li>一定不要直接对电脑屏幕，喷水擦或者拿湿巾擦，很容易造成显示器损毁</li><li>电脑适时清灰</li><li>Win+R，打开【运行对话框】输入【cleanmgr】，按下回车键，点击确定即可快速清理磁盘垃圾</li><li>Geek强制删除软件，但慎用</li><li>ctrl+shift+E启动任务管理器  win+v显示剪切板</li><li>Win+L锁屏   win+shift+s截屏   shift+delete一次性永久删除文件（不用先放进回收站再删除了）  Shift+6是省略号……（终于不用打6个点了）</li><li>开机自启动管理：打开设置→应用→启动，可管理应用的自启动权限。</li><li>录屏：快捷键Win+G唤出Xbox，点击捕获中的小圆点可以进行录屏（不支持桌面和文件资源管理器的录制）。</li><li>放大镜&#x2F;缩小镜：Win加+可以放大；Win加-可以缩小。</li><li>DVD播放器：Win+R输入dvdplay，回车，可调取电脑自带的DVD播放器。</li><li>强行刷新网页：Ctrl+F5</li><li>调出虚拟键盘：Win+R输入osk可调出虚拟键盘。</li><li>快速清理缓存：Ctrl+Shift+R</li><li>图片批量改名：全部选中要改名的图片，右键选择重命名，将其中一个改为xx回车后系统会自动将其编号为xx(1)、xx(2)、xx(3)等等。</li><li>查看电脑硬件配置：鼠标右键点击我的电脑，选择属性，打开后可以看见CPU、内存、系统类型等基本信息。</li><li>多标签页切换：Ctrl+Tab。</li><li>快速切换程序：Alt+Tab、Win+Tab。</li><li>秒开文件资源管理器：Win+E。</li><li>快速调节电脑：Win+X</li><li>快速关闭页面：Ctrl+W、Alt+F4</li><li>快速关机、重启：Ctrl+Alt+Del,点击重启或关机同时按住Ctrl可重新启动或关机。</li><li>直接显示桌面：Win+D</li><li>快速返回误删页面：Ctrl+Shift+T</li><li>便笺：打开便笺，点击右上角“+”号，新建便笺，把想贴在桌面的事件提醒写在上面，可贴在桌面的任意一个地方。</li><li>多选操作：需要多选几个排在一起的文件夹，先选中第一个文件夹，然后按住Shift键，再点击最后一个文件夹，可实现快捷多选。需要多选几个并非排在一起的文件夹，按住Ctrl键，可实现不连续的多选。</li><li>截图：PrtSc键；Win+Shift+Alt，可选取截图范围。</li><li>窗口分栏：Win+End当前页面会自动靠右，空格可选取需要靠左的页面。</li><li>剪贴板：Win+V可调出剪贴板。</li><li>Word中插入箭头：点击插入→符号→字体：普通文本→子集：箭头，可看到不同方向的箭头。</li><li>语音输入：Win+H。</li><li>实时字幕：打开设置→辅助功能→字幕。</li><li>专注模式：点击桌面右下角时间，点击开始专注。</li><li>虚拟桌面：Win+Tab:新建桌面。</li><li>查找关键字：Ctrl+F。</li><li>快速移动光标：Ctrl+PaUp&#x2F;PgDn&#x2F;Home&#x2F;End，光标上下左右移动。</li><li>最大化&#x2F;最小化：Win+PgUp&#x2F;PgDn</li><li>文本编辑器和Word软件按住ctrl+左右方向键可以逐单词移动光标</li></ol>]]></content>
    
    
    <categories>
      
      <category>Windows Daily Use</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>tips</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Windows+archlinux双系统指导</title>
    <link href="/2024/08/22/arch/"/>
    <url>/2024/08/22/arch/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-8be20cd7" role="button" aria-expanded="false" aria-controls="collapse-8be20cd7">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-8be20cd7">        <div class="fold-content">          <p><a href="https://wiki.archlinux.org/">archlinux_wiki</a><br><a href="https://arch.icekylin.online/">ArchlinuxGuide</a><br><a href="https://archlinuxstudio.github.io/ArchLinuxTutorial/#/">Archlinux安装使用教程</a></p>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-530e0707" role="button" aria-expanded="false" aria-controls="collapse-530e0707">        <div class="fold-arrow">▶</div>阅读提示      </div>      <div class="fold-collapse collapse" id="collapse-530e0707">        <div class="fold-content">          <p>尽量阅读<strong>英文版</strong>的维基</p>        </div>      </div>    </div><h2 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h2><ul><li>在Windows下关闭<strong>BitLocker</strong>，<strong>快速启动</strong>和<strong>休眠</strong>，在<code>BIOS</code>关闭<strong>Secure Boot</strong>，调整启动方式为<strong>UEFI</strong></li><li>准备好<a href="https://archlinux.org/download/">安装镜像</a></li><li>准备好安装了<a href="https://www.ventoy.net/cn/doc_start.html">Ventoy</a>的U盘，并把镜像放入U盘根目录</li><li>进入安装界面</li></ul><h2 id="禁用reflector服务，我们自己修改镜像源"><a href="#禁用reflector服务，我们自己修改镜像源" class="headerlink" title="禁用reflector服务，我们自己修改镜像源"></a>禁用reflector服务，我们自己修改镜像源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl stop reflector.service<br></code></pre></td></tr></table></figure><h2 id="确保是否为-UEFI-模式"><a href="#确保是否为-UEFI-模式" class="headerlink" title="确保是否为 UEFI 模式"></a>确保是否为 UEFI 模式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> /sys/firmware/efi/efivars<br></code></pre></td></tr></table></figure><p>看到输出一堆东西即可</p><h2 id="连接无线网络"><a href="#连接无线网络" class="headerlink" title="连接无线网络"></a>连接无线网络</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">iwctl <span class="hljs-comment"># 进入交互式命令行</span><br>device list <span class="hljs-comment"># 列出无线网卡设备名，比如无线网卡看到叫 wlan0</span><br>station wlan0 scan <span class="hljs-comment"># 扫描网络</span><br>station wlan0 get-networks <span class="hljs-comment"># 列出所有 wifi 网络</span><br>station wlan0 connect wifi-name <span class="hljs-comment"># 进行连接，注意这里无法输入中文。回车后输入密码即可</span><br><span class="hljs-built_in">exit</span> <span class="hljs-comment"># 连接成功后退出</span><br></code></pre></td></tr></table></figure><p>测试是否连接成功<code>ping www.bing.com</code></p><h2 id="更新系统时钟"><a href="#更新系统时钟" class="headerlink" title="更新系统时钟"></a>更新系统时钟</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">timedatectl set-ntp <span class="hljs-literal">true</span> <span class="hljs-comment"># 将系统时间与网络时间进行同步</span><br>timedatectl status <span class="hljs-comment"># 检查服务状态</span><br></code></pre></td></tr></table></figure><h2 id="更换国内软件仓库镜像源加快下载速度"><a href="#更换国内软件仓库镜像源加快下载速度" class="headerlink" title="更换国内软件仓库镜像源加快下载速度"></a>更换国内软件仓库镜像源加快下载速度</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/pacman.d/mirrorlist<br></code></pre></td></tr></table></figure><p>任选下列其一并放入mirrorlist的最上面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">Server = https://mirrors.ustc.edu.cn/archlinux/<span class="hljs-variable">$repo</span>/os/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># 中国科学技术大学开源镜像站</span><br>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/<span class="hljs-variable">$repo</span>/os/<span class="hljs-variable">$arch</span> <span class="hljs-comment"># 清华大学开源软件镜像站</span><br></code></pre></td></tr></table></figure><p>退出vim，刷新软件包并导入密钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -Sy<br>pacman -S archlinux-keyring<br></code></pre></td></tr></table></figure><h2 id="分区和格式化（使用ext4文件系统）"><a href="#分区和格式化（使用ext4文件系统）" class="headerlink" title="分区和格式化（使用ext4文件系统）"></a>分区和格式化（使用ext4文件系统）</h2><blockquote><p>更详细的说明请参考<a href="https://yoimiyalove.top/2024/08/25/efi/">另一篇文章</a></p></blockquote><blockquote><p>本文分区方案：详细文章里的情况一：两系统在不同硬盘，使用GRUB引导</p></blockquote><ul><li>EFI系统分区：500M</li><li>交换分区（Swap分区）：等于电脑自身物理内存（比如16G）</li><li>根目录分区：剩余全部空间</li></ul><blockquote><p>archlinux的wiki上说如果要从中启动的磁盘 <a href="https://wiki.archlinux.org/title/EFI_system_partition#Check_for_an_existing_partition">已经有一个EFI分区</a>，请不要创建另一个磁盘，而是使用现有分区。但这里我们假设有两块硬盘，<code>/dev/sda</code>可以看到windows的efi分区，我们选择<code>/dev/sdb</code>安装archlinux，这时我们最好新建efi分区。这个链接还说明了为什么建议使用<code>/efi</code>挂载点而不是传统的<code>/boot/efi</code></p></blockquote><ol><li>转换为GPT磁盘</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">lsblk                       <span class="hljs-comment">#显示分区情况 找到你想安装的磁盘名称</span><br>parted /dev/sdx             <span class="hljs-comment">#执行parted，进入交互式命令行，进行磁盘类型变更</span><br>mktable                     <span class="hljs-comment">#在交互式界面输入mktable</span><br>gpt                         <span class="hljs-comment">#询问New disk label type? 输入gpt 将磁盘类型转换为gpt 如磁盘有数据会警告，输入yes即可</span><br>quit                        <span class="hljs-comment">#最后quit退出parted命令行交互</span><br></code></pre></td></tr></table></figure><ol start="2"><li>接下来使用 <code>cfdisk</code> 命令对磁盘分区。</li></ol><ul><li>进入 <code>cfdisk</code> 后的操作很直观，用键盘的方向键、Tab 键、回车键配合即可操作分配各个分区的大小与格式。一般建议将 EFI 分区设置为磁盘的第一个分区，据说有些主板如果不将 EFI 设置为第一个分区，可能有不兼容的问题。其中 EFI 分区选择<code>EFI System</code>类型，根目录分区选择<code>Linux filesystem</code>类型，交换分区选择<code>Linux Swap</code>类型。</li><li>记得只有写入了操作分区表才会更改，操作完进行写入(<code>Write</code>操作)</li></ul><ol start="3"><li>分区时，使用</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">fdisk -l                     <span class="hljs-comment">#查看磁盘情况</span><br>cfdisk /dev/sdx              <span class="hljs-comment">#来执行分区操作,分配各个分区大小，类型</span><br>fdisk -l                     <span class="hljs-comment">#分区结束后， 复查磁盘情况</span><br></code></pre></td></tr></table></figure><ol start="4"><li>建立好分区后，需要对分区用合适的文件系统进行格式化。</li></ol><ul><li><p>这里用<code>mkfs.ext4</code>命令格式化根分区与 home 分区，用<code>mkfs.vfat</code>命令格式化 EFI 分区。如下命令中的 <code>sdax</code> 中，x 代表分区的序号。格式化命令要与上一步分区中生成的分区名字对应才可以。</p></li><li><p>磁盘若事先有数据，会提示你: ‘proceed any way?’ 按 y 回车继续即可。</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs.ext4  /dev/sdax            <span class="hljs-comment">#格式化根目录（和home目录）的分区</span><br>mkfs.vfat  /dev/sdax            <span class="hljs-comment">#格式化efi分区</span><br><span class="hljs-comment"># mkfs.fat -F32 /dev/sdxn       #格式化efi分区（另一种方式）</span><br>mkswap /dev/sdxn                <span class="hljs-comment">#初始化 Swap 分区</span><br></code></pre></td></tr></table></figure><h2 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h2><p>根据具体系统<code>sda</code>或<code>nvme0n</code>输入下列命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount /dev/sda1  /mnt<br><span class="hljs-built_in">mkdir</span> /mnt/efi<br>mount /dev/sda2 /mnt/efi<br>swapon /dev/sda2<br><span class="hljs-built_in">df</span> -h <span class="hljs-comment">#复查分区挂载情况</span><br></code></pre></td></tr></table></figure><h2 id="安装基本系统"><a href="#安装基本系统" class="headerlink" title="安装基本系统"></a>安装基本系统</h2><p>请根据具体CPU情况选择amd或intel的微核</p><blockquote><p><code>ntfs-3g</code>可以不装</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacstrap -K /mnt base base-devel linux-zen linux-firmware linux-zen-headers networkmanager nano vim grub os-prober efibootmgr ntfs-3g intel-ucode bluez bluez-utils bash-completion zsh zsh-completions <span class="hljs-built_in">sudo</span> fish man-db man-pages texinfo sof-firmware <br><span class="hljs-comment"># pacstrap /mnt base base-devel linux linux-firmware linux-headers networkmanager nano vim grub os-prober efibootmgr ntfs-3g amd-ucode bluez bluez-utils bash-completion zsh zsh-completions sudo fish man-db man-pages texinfo sof-firmware</span><br></code></pre></td></tr></table></figure><h2 id="生成-fstab-文件"><a href="#生成-fstab-文件" class="headerlink" title="生成 fstab 文件"></a>生成 fstab 文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab<br><span class="hljs-built_in">cat</span> /mnt/etc/fstab <span class="hljs-comment">#复查fstab情况</span><br></code></pre></td></tr></table></figure><h2 id="切换到新系统"><a href="#切换到新系统" class="headerlink" title="切换到新系统"></a>切换到新系统</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">arch-chroot /mnt<br></code></pre></td></tr></table></figure><h2 id="设置时区和硬件时间"><a href="#设置时区和硬件时间" class="headerlink" title="设置时区和硬件时间"></a>设置时区和硬件时间</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br>hwclock --systohc<br></code></pre></td></tr></table></figure><h2 id="设置-Locale-进行本地化"><a href="#设置-Locale-进行本地化" class="headerlink" title="设置 Locale 进行本地化"></a>设置 Locale 进行本地化</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/locale.gen<br></code></pre></td></tr></table></figure><p>去掉 <code>en_US.UTF-8</code> 所在行以及 <code>zh_CN.UTF-8</code> 所在行的注释符号（#）</p><p>重新生成locale</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">locale-gen<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;LANG=en_US.UTF-8&#x27;</span>  &gt; /etc/locale.conf<br></code></pre></td></tr></table></figure><p>更多操作，进入桌面后请参考<a href="https://wiki.archlinuxcn.org/wiki/%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E6%9C%AC%E5%9C%B0%E5%8C%96#">简体中文本地化</a></p><h2 id="设置主机名"><a href="#设置主机名" class="headerlink" title="设置主机名"></a>设置主机名</h2><p>首先在<code>/etc/hostname</code>设置主机名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/hostname<br></code></pre></td></tr></table></figure><p>加入你想为主机取的主机名，这里比如叫 <code>myarch</code>。</p><p>接下来在<code>/etc/hosts</code>设置与其匹配的条目。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/hosts<br></code></pre></td></tr></table></figure><p>加入如下内容</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">127.0.0.1</span>   localhost<br>::<span class="hljs-number">1</span>         localhost<br><span class="hljs-number">127.0.1.1</span>   myarch<br></code></pre></td></tr></table></figure><h2 id="为-root-用户设置密码"><a href="#为-root-用户设置密码" class="headerlink" title="为 root 用户设置密码"></a>为 <code>root</code> 用户设置密码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">passwd root<br></code></pre></td></tr></table></figure><h2 id="创建普通账户"><a href="#创建普通账户" class="headerlink" title="创建普通账户"></a>创建普通账户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">useradd -m -G wheel [用户名]<br>passwd [用户名]<br></code></pre></td></tr></table></figure><p>编辑sudoers赋予用户root权限</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/sudoers<br></code></pre></td></tr></table></figure><p>删除<code>%wheel ALL=(ALL:ALL) ALL</code>前的注释符号（#）</p><h2 id="启动必要服务"><a href="#启动必要服务" class="headerlink" title="启动必要服务"></a>启动必要服务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl <span class="hljs-built_in">enable</span> NetworkManager  <span class="hljs-comment"># 网络服务</span><br>systemctl <span class="hljs-built_in">enable</span> bluetooth  <span class="hljs-comment"># 蓝牙服务</span><br></code></pre></td></tr></table></figure><h2 id="双系统使用GRUB引导"><a href="#双系统使用GRUB引导" class="headerlink" title="双系统使用GRUB引导"></a>双系统使用GRUB引导</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=ARCH --removable<br>vim /etc/default/grub<br></code></pre></td></tr></table></figure><p>进入编辑界面<br>去掉 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行中最后的 <code>quiet</code> 参数</p><p>为了引导windows，则还需要添加新的一行<br><code>GRUB_DISABLE_OS_PROBER=false</code><br>或者在最后一行去掉<code>GRUB_DISABLE_OS_PROBER=false</code>前的”#”</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grub-mkconfig -o /boot/grub/grub.cfg<br></code></pre></td></tr></table></figure><p>如果重启界面看不到Windows，则进入系统后挂载windwos硬盘并重新执行该命令</p><p>如果重启后看不到GRUB，请到UEFI固件设置更改启动顺序</p><h2 id="安装KDE桌面环境"><a href="#安装KDE桌面环境" class="headerlink" title="安装KDE桌面环境"></a>安装KDE桌面环境</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">pacman -S xorg plasma kde-applications plasma-workspace xdg-desktop-portal egl-wayland<br>pacman -S sddm<br>systemctl <span class="hljs-built_in">enable</span> sddm.service<br><span class="hljs-comment"># systemctl enable sddm</span><br></code></pre></td></tr></table></figure><h2 id="完成安装"><a href="#完成安装" class="headerlink" title="完成安装"></a>完成安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">exit</span> <span class="hljs-comment"># 退回安装环境</span><br>umount -R /mnt <span class="hljs-comment"># 卸载新分区</span><br>reboot <span class="hljs-comment"># 重启</span><br></code></pre></td></tr></table></figure><h2 id="恢复windows引导"><a href="#恢复windows引导" class="headerlink" title="恢复windows引导"></a>恢复windows引导</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg<br>reboot<br></code></pre></td></tr></table></figure><h2 id="配置镜像源"><a href="#配置镜像源" class="headerlink" title="配置镜像源"></a>配置镜像源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> vim /etc/pacman.conf<br></code></pre></td></tr></table></figure><p>添加以下内容</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[archlinuxcn]</span><br><span class="hljs-comment"># SigLevel = Optional TrustAll</span><br><span class="hljs-attr">Server</span> = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="hljs-variable">$arch</span><br></code></pre></td></tr></table></figure><p>开启32位支持库<br>去掉<code>[multilib]</code>及下一行前的注释，一共去掉了两个</p><p>刷新软件包并导入密钥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -Sy<br><span class="hljs-built_in">sudo</span> pacman -S archlinux-keyring<br><span class="hljs-built_in">sudo</span> pacman -S archlinuxcn-keyring<br></code></pre></td></tr></table></figure><p>更新系统</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -Syu<br>reboot<br></code></pre></td></tr></table></figure><h2 id="初始化KDE商店-不推荐干这种事"><a href="#初始化KDE商店-不推荐干这种事" class="headerlink" title="初始化KDE商店(不推荐干这种事)"></a>初始化KDE商店(不推荐干这种事)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S appstream-qt appstream archlinux-appstream-data packagekit-qt5 fwupd<br></code></pre></td></tr></table></figure><h2 id="安装显卡驱动"><a href="#安装显卡驱动" class="headerlink" title="安装显卡驱动"></a>安装显卡驱动</h2>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-530e0707" role="button" aria-expanded="false" aria-controls="collapse-530e0707">        <div class="fold-arrow">▶</div>阅读提示      </div>      <div class="fold-collapse collapse" id="collapse-530e0707">        <div class="fold-content">          <p>尽量阅读<strong>英文版</strong>的维基</p>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-e04fc447" role="button" aria-expanded="false" aria-controls="collapse-e04fc447">        <div class="fold-arrow">▶</div>重要链接      </div>      <div class="fold-collapse collapse" id="collapse-e04fc447">        <div class="fold-content">          <p><a href="https://github.com/lutris/docs/blob/master/InstallingDrivers.md">Lutris文档</a><br><a href="https://wiki.archlinux.org/title/Intel_graphics">Intel</a><br><a href="https://wiki.archlinux.org/title/NVIDIA">NVIDIA</a><br><a href="https://wiki.archlinux.org/title/NVIDIA_Optimus">NVIDIA Optimus</a><br><a href="https://wiki.archlinux.org/title/PRIME">PRIME渲染分载</a><br><a href="https://wiki.archlinux.org/title/AMDGPU">AMD</a><br><a href="https://wiki.archlinux.org/title/Xorg">Xorg</a><br><a href="https://wiki.archlinux.org/title/Wayland">Wayland</a><br><a href="https://wiki.archlinux.org/title/Kernel_mode_setting">内核级显示模式</a><br><a href="https://wiki.archlinux.org/title/Kernel_parameters">内核参数</a></p>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-a09644cd" role="button" aria-expanded="false" aria-controls="collapse-a09644cd">        <div class="fold-arrow">▶</div>Wayland提示      </div>      <div class="fold-collapse collapse" id="collapse-a09644cd">        <div class="fold-content">          <p>Wayland工作在NVIDIA需要开启内核级显示模式。方法如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> vim /etc/default/grub<br></code></pre></td></tr></table></figure><p>在打开的文件开头添加一行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">GRUB_CMDLINE_LINUX=<span class="hljs-string">&quot;nvidia_drm.modeset=1&quot;</span><br><span class="hljs-comment"># GRUB_CMDLINE_LINUX_DEFAULT=&quot;nvidia_drm.modeset=1&quot;</span><br></code></pre></td></tr></table></figure><p>接下来保存退出</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg<br>reboot<br></code></pre></td></tr></table></figure><p>还有一种KMS早启动方法，编辑<code>/etc/mkinitcpio.conf</code>文件，向<code>模块</code>部分添加项如下所示</p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">MODULES=(... nvidia nvidi<span class="hljs-built_in">a_modeset</span> nvidi<span class="hljs-built_in">a_uvm</span> nvidi<span class="hljs-built_in">a_drm</span> ...)<br></code></pre></td></tr></table></figure><p>接下来重新生成镜像</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> mkinitcpio -p linux-zen<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><ul><li>Intel: <code>sudo pacman -S --needed lib32-mesa vulkan-intel lib32-vulkan-intel vulkan-icd-loader lib32-vulkan-icd-loader</code> <code>sudo pacman -Rsn xf86-video-intel</code></li><li>NVIDIA: <code>sudo pacman -S --needed nvidia-dkms nvidia-utils lib32-nvidia-utils nvidia-settings vulkan-icd-loader lib32-vulkan-icd-loader</code></li><li>AMD: <code>sudo pacman -S --needed lib32-mesa vulkan-radeon lib32-vulkan-radeon vulkan-icd-loader lib32-vulkan-icd-loader</code></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> grub-mkconfig -o /boot/grub/grub.cfg<br>reboot<br></code></pre></td></tr></table></figure>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-27a0c796" role="button" aria-expanded="false" aria-controls="collapse-27a0c796">        <div class="fold-arrow">▶</div>Steam游戏选项      </div>      <div class="fold-collapse collapse" id="collapse-27a0c796">        <div class="fold-content">          <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">__NV_PRIME_RENDER_OFFLOAD=1 __VK_LAYER_NV_optimus=NVIDIA_only __GLX_VENDOR_LIBRARY_NAME=nvidia %<span class="hljs-built_in">command</span>%<br></code></pre></td></tr></table></figure>        </div>      </div>    </div><h2 id="简单配置"><a href="#简单配置" class="headerlink" title="简单配置"></a>简单配置</h2><ul><li>屏幕刷新率</li><li>分辨率</li><li>屏幕缩放</li><li>设置夜间模式</li><li>以空会话启动（进入KDE设置<code>系统设置 &gt; 点击侧栏 开机与关机 &gt; 桌面会话</code>，将 <code>登入时</code> 的选项改为 <code>以空会话启动</code>）</li><li>Dophin可以设置为启动时固定打开家目录</li></ul><h2 id="设置双系统时间（Windows-系统使用-UTC）"><a href="#设置双系统时间（Windows-系统使用-UTC）" class="headerlink" title="设置双系统时间（Windows 系统使用 UTC）"></a>设置双系统时间（Windows 系统使用 UTC）</h2><p>进入Windows，在设置里关闭自动获取时间，打开管理员终端，输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">reg add <span class="hljs-string">&quot;HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation&quot;</span> /v RealTimeIsUniversal /d <span class="hljs-number">1</span> /t REG_DWORD /f<br></code></pre></td></tr></table></figure><p>再重启即可</p><h2 id="简体中文本地化"><a href="#简体中文本地化" class="headerlink" title="简体中文本地化"></a><a href="https://wiki.archlinuxcn.org/wiki/%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E6%9C%AC%E5%9C%B0%E5%8C%96#">简体中文本地化</a></h2><h3 id="安装中文字体"><a href="#安装中文字体" class="headerlink" title="安装中文字体"></a>安装中文字体</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S adobe-source-han-sans-cn-fonts adobe-source-han-serif-cn-fonts noto-fonts-cjk wqy-microhei wqy-microhei-lite wqy-bitmapfont wqy-zenhei ttf-arphic-ukai ttf-jetbrains-mono-nerd ttf-arphic-uming ttf-indic-otf gnu-free-fonts noto-fonts noto-fonts-emoji noto-fonts-extra<br></code></pre></td></tr></table></figure><h3 id="在KDE的设置里更改语言，重启"><a href="#在KDE的设置里更改语言，重启" class="headerlink" title="在KDE的设置里更改语言，重启"></a>在KDE的设置里更改语言，重启</h3><h3 id="修正简体中文显示为异体（日文）字形"><a href="#修正简体中文显示为异体（日文）字形" class="headerlink" title="修正简体中文显示为异体（日文）字形"></a>修正简体中文显示为异体（日文）字形</h3><p>手动调整优先级，将中文字形调整到日文字形之前。在 <code>/etc/fonts/conf.d/</code> 或 <code>/etc/fonts/conf.avail/</code> 下创建文件，例如 <code>64-language-selector-prefer.conf</code>，也可以修改或创建 <code>~/.fonts.conf</code>或在<code>~/.config/fontconfig/conf.d/</code>创建后缀为<code>.conf</code>的文件（仅对该用户生效）。写成一个文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span>?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">fontconfig</span> <span class="hljs-keyword">SYSTEM</span> <span class="hljs-string">&quot;fonts.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fontconfig</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- sans-serif alias --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>sans-serif<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Noto Sans CJK family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Source Han Sans family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans HW<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans K<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br>  <br>  <span class="hljs-comment">&lt;!-- monospace alias --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">alias</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>monospace<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">prefer</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Noto Sans Mono CJK family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Noto Sans Mono CJK JP<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- Source Han Sans family --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans SC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans TC<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans HW<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">family</span>&gt;</span>Source Han Sans K<span class="hljs-tag">&lt;/<span class="hljs-name">family</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">prefer</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">alias</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">fontconfig</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>然后更新字体缓存即可生效：<code>fc-cache -fv</code><br>执行以下命令检查，如果出现 <code>NotoSansCJK-Regular.ttc: &quot;Noto Sans CJK SC&quot; &quot;Regular&quot;</code> 则表示设置成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">fc-match -s | grep <span class="hljs-string">&#x27;Noto Sans CJK&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="安装Windows字体"><a href="#安装Windows字体" class="headerlink" title="安装Windows字体"></a><a href="https://wiki.archlinux.org/title/Microsoft_fonts">安装Windows字体</a></h3><p>挂载Windows分区</p><p>请把<code>/windows/Windows/Fonts/*</code>改成Windows实际挂载的目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mkdir</span> /usr/local/share/fonts<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mkdir</span> /usr/local/share/fonts/WindowsFonts<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> /windows/Windows/Fonts/* /usr/local/share/fonts/WindowsFonts/<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">chmod</span> 644 /usr/local/share/fonts/WindowsFonts/*<br><br>fc-cache --force<br><span class="hljs-comment"># fc-cache-32 --force</span><br></code></pre></td></tr></table></figure><h3 id="安装中文输入法"><a href="#安装中文输入法" class="headerlink" title="安装中文输入法"></a><a href="https://wiki.archlinuxcn.org/wiki/Fcitx5">安装中文输入法</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-rime <br></code></pre></td></tr></table></figure><p>配置环境变量，编辑 <code>/etc/environment</code> 并添加以下几行，然后重新登录</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">GTK_IM_MODULE</span>=fcitx<br><span class="hljs-attr">QT_IM_MODULE</span>=fcitx<br><span class="hljs-attr">XMODIFIERS</span>=@im=fcitx<br><span class="hljs-attr">SDL_IM_MODULE</span>=fcitx<br><span class="hljs-attr">GLFW_IM_MODULE</span>=ibus<br></code></pre></td></tr></table></figure><p>要使用 <code>Wayland</code> 输入法协议，首先退出正在运行的 <code>Fcitx 5</code> 进程，前往<code>系统设置 &gt; 输入设备 &gt; 虚拟键盘</code>，选择 <code>Fcitx 5</code>。</p><p>配置开机自启（通常不必要执行此步骤）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> /usr/share/applications/org.fcitx.Fcitx5.desktop ~/.config/autostart/<br></code></pre></td></tr></table></figure><p>添加词库（在此处安装了yay助手）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -Syyu yay<br>yay -S fcitx5-pinyin-zhwiki fcitx5-pinyin-sougou rime-pinyin-zhwiki fcitx5-pinyin-moegirl-rime fcitx5-pinyin-moegirl<br></code></pre></td></tr></table></figure><p>重启后在fcitx设置里配置云拼音等</p><h2 id="安装软件（自行解决代理问题）"><a href="#安装软件（自行解决代理问题）" class="headerlink" title="安装软件（自行解决代理问题）"></a>安装软件（自行解决代理问题）</h2><p><a href="https://wiki.archlinuxcn.org/wiki/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%88%97%E8%A1%A8">应用程序列表</a></p><p><a href="https://wiki.archlinux.org/title/List_of_applications">Applications</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman -S sof-firmware alsa-firmware alsa-ucm-conf<br><span class="hljs-built_in">sudo</span> pacman -S p7zip unrar unarchiver lzop lrzip<br><span class="hljs-built_in">sudo</span> pacman -S power-profiles-daemon<br><span class="hljs-built_in">sudo</span> pacman -S wget go <span class="hljs-built_in">bind</span><br><span class="hljs-built_in">sudo</span> pacman -S firewalld<br><span class="hljs-built_in">sudo</span> pacman -S zenity<br><span class="hljs-built_in">sudo</span> pacman -S papirus-icon-theme<br><span class="hljs-built_in">sudo</span> pacman -Syu libxcrypt-compat<br><span class="hljs-built_in">sudo</span> pacman -S qt6-base qt6-tools<br><span class="hljs-built_in">sudo</span> pacman -S qemu-full<br><span class="hljs-built_in">sudo</span> pacman -S vainfo vdpauinfo libva-utils<br><span class="hljs-built_in">sudo</span> pacman -S yt-dlp<br><span class="hljs-built_in">sudo</span> pacman -S bleachbit<br><span class="hljs-built_in">sudo</span> pacman -S sshfs<br><span class="hljs-built_in">sudo</span> pacman -S texlive-lang<br><span class="hljs-built_in">sudo</span> pacman -S biber<br><span class="hljs-built_in">sudo</span> pacman -S pandoc<br><span class="hljs-built_in">sudo</span> pacman -S ffmpeg<br><span class="hljs-built_in">sudo</span> pacman -S neovim<br><span class="hljs-built_in">sudo</span> pacman -S gnome-extra<br><span class="hljs-built_in">sudo</span> pacman -S gnuchess<br><span class="hljs-built_in">sudo</span> pacman -S devtools<br><span class="hljs-built_in">sudo</span> pacman -S imagemagick<br><span class="hljs-built_in">sudo</span> pacman -S mpv<br><span class="hljs-built_in">sudo</span> pacman -S bibata-cursor-theme<br><span class="hljs-built_in">sudo</span> pacman -S lutris<br><span class="hljs-built_in">sudo</span> pacman -S kio-admin<br><span class="hljs-built_in">sudo</span> pacman -S gparted<br><span class="hljs-built_in">sudo</span> pacman -S python-pip<br><span class="hljs-built_in">sudo</span> pacman -S xorg-xhost<br><span class="hljs-built_in">sudo</span> pacman -S git openssh openssl<br><span class="hljs-built_in">sudo</span> pacman -S git-lfs<br><span class="hljs-built_in">sudo</span> pacman -S timeshift<br><span class="hljs-built_in">sudo</span> pacman -S steam<br><span class="hljs-built_in">sudo</span> pacman -S meson systemd git dbus libinih gamemode lib32-gamemode<br><span class="hljs-built_in">sudo</span> pacman -S jdk21-openjdk<br><span class="hljs-built_in">sudo</span> pacman -S hplip<br><span class="hljs-built_in">sudo</span> pacman -S cups<br><span class="hljs-built_in">sudo</span> pacman -S system-config-printer<br><span class="hljs-built_in">sudo</span> pacman -Qtdq | <span class="hljs-built_in">sudo</span> pacman -Rns -<br>yay -S v2ray v2raya<br>yay -S clash-verge-rev-bin<br>yay -S codelldb<br>yay -S octopi<br>yay -S kholidays5-cn<br>yay -S onlyoffice-bin<br>yay -S wps-office-365<br>yay -S motrix<br>yay -S linuxqq<br>yay -S bluez-obex<br>yay -S dh-autoreconf<br>yay -S github-desktop-bin<br>yay -S fsearch<br>yay -S filezilla<br>yay -S lib32-opencl-nvidia<br>yay -S opencl-nvidia<br>yay -S opencl-clover-mesa opencl-rusticl-mesa<br>yay -S intel-compute-runtime<br>yay -S ocl-icd<br>yay -S opencl-headers<br>yay -S alsa-utils<br>yay -S fastfetch lolcat<br>yay -S wechat-bin<br>yay -S obs-studio-browser<br>yay -S obs-nvfbc-git<br>yay -S protonup-qt<br>yay -S visual-studio-code-bin<br>yay -S appimagelauncher<br>yay -S prismlauncher<br>yay -S wine<br>yay -S texlive texlive-lang texlive-langchinese<br>yay -S libvirt<br>yay -S miniconda3<br>yay -S liberica-jdk-21-full-binc<br>yay -S qt6-tools-desktop<br>yay -S vkd3d-proton-bin<br>yay -S dxvk-bin<br>yay -S pacman-log-orphans-hook<br>yay -S appmenu-gtk-module <br>yay -S libdbusmenu-glib<br>yay -S tealdeer<br>WINEPREFIX=~/.wine setup_dxvk install<br>WINEPREFIX=~/.wine setup_vkd3d_proton install<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now v2raya<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now firewalld.service<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> --now cups.service<br></code></pre></td></tr></table></figure><p>关于虚拟机<a href="https://wiki.archlinux.org/title/Category:Hypervisors">参考</a></p><h2 id="系统美化"><a href="#系统美化" class="headerlink" title="系统美化"></a>系统美化</h2><ul><li><a href="https://www.gnome-look.org/browse?cat=109">GRUB主题</a></li></ul><h2 id="其他技巧"><a href="#其他技巧" class="headerlink" title="其他技巧"></a>其他技巧</h2><ul><li><p>开机时开启交换空间：编辑<code>/etc/fstab</code>，加入<code>UUID=[交换分区UUID,可以用Gparted/blkid查看] none swap defaults 0 0</code></p></li><li><p>开机自动挂载D盘：编辑<code>/etc/fstab</code>，加入<code>UUID=[D盘的UUID,可以用Gparted/blkid查看] /run/media/Yoimiya/Data[挂载路径] ntfs-3g defaults,uid=1000,gid=1000,windows_names,umask=0000 0 0</code></p></li><li><p>配置默认编辑器为<code>vim</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">EDITOR=vim sudoedit /etc/profile<br></code></pre></td></tr></table></figure><p>加入<code>export EDITOR=&#39;vim&#39;</code>，再source一下即可</p></li><li><p><code>vscode</code>使用<code>fcitx5</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;--enable-wayland-ime --enable-features=UseOzonePlatform --ozone-platform=wayland&#x27;</span> &gt;&gt; ~/.config/code-flags.conf<br></code></pre></td></tr></table></figure></li><li><p>提升游戏体验</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;vm.max_map_count = 2147483642&#x27;</span> | <span class="hljs-built_in">sudo</span> <span class="hljs-built_in">tee</span> -a /etc/sysctl.d/80-gamecompatibility.conf<br></code></pre></td></tr></table></figure></li><li><p>查看非官方源的软件<code>comm -23 &lt;(pacman -Qq | sort) &lt;(pacman -Sql core extra multilib archlinuxcn | sort)</code></p></li><li><p>修复NTFS分区: <code>sudo pacman -S ntfsprogs-ntfs3; sudo ntfsfix --clear-dirty /dev/nvme0n1p4</code></p></li></ul><h2 id="Manjaro特别提示"><a href="#Manjaro特别提示" class="headerlink" title="Manjaro特别提示"></a>Manjaro特别提示</h2><p><a href="https://wiki.manjaro.org/index.php/Configure_Graphics_Cards/zh-cn">Manjaro配置显卡</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> pacman-mirrors -i -c China -m rank <span class="hljs-comment">#换源</span><br><span class="hljs-built_in">sudo</span> mhwd -a pci nonfree 0300 <span class="hljs-comment">#安装显卡驱动</span><br>yay -R libva-vdpau-driver xf86-video-intel xf86-video-nouveau <span class="hljs-comment">#解决VLC闪退</span><br>yay -S libva-nvidia-driver intel-media-driver libva-utils vdpauinfo <span class="hljs-comment">#安装正确的驱动</span><br><span class="hljs-built_in">sudo</span> pacman -S base-devel linux-headers <span class="hljs-comment">#解决找不到fakeroot错误</span><br><span class="hljs-built_in">sudo</span> pacman -S gdb <span class="hljs-comment">#gdb调试器</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Linux Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>Linux</tag>
      
      <tag>arch</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WSL开发环境搭建(kali-linux篇)</title>
    <link href="/2024/08/22/wsl/"/>
    <url>/2024/08/22/wsl/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-4ff133eb" role="button" aria-expanded="false" aria-controls="collapse-4ff133eb">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-4ff133eb">        <div class="fold-content">          <p><a href="https://oi-wiki.org/tools/wsl/">OI-Wiki</a><br><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install">微软文档</a><br><a href="https://docs.nvidia.com/cuda/wsl-user-guide/index.html">NVIDIA文档</a><br><a href="https://www.kali.org/docs/wsl/wsl-preparations/">kali-linux</a><br><a href="https://zh.d2l.ai/chapter_installation/index.html">DeepLearning</a><br><a href="https://docs.anaconda.com/miniconda/">conda官方网站</a></p>        </div>      </div>    </div><h2 id="安装kali-linux并简单配置"><a href="#安装kali-linux并简单配置" class="headerlink" title="安装kali-linux并简单配置"></a>安装kali-linux并简单配置</h2>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-3870e1f6" role="button" aria-expanded="false" aria-controls="collapse-3870e1f6">        <div class="fold-arrow">▶</div>选择kali-linux的原因      </div>      <div class="fold-collapse collapse" id="collapse-3870e1f6">        <div class="fold-content">          <p>基于Debian的发行版，软件包丰富，且滚动更新，软件包较新，能够获得最新的编程语言特性。同时kali有Win-KeX会话，可以很方便的进入桌面环境而不需要借助第三方软件(如VcXsrv)</p>        </div>      </div>    </div><ol><li>打开管理员终端，输入</li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">dism.exe /online /<span class="hljs-built_in">enable-feature</span> /featurename:VirtualMachinePlatform /all /norestart<br>dism.exe /online /<span class="hljs-built_in">enable-feature</span> /featurename:Microsoft<span class="hljs-literal">-Windows-Subsystem-Linux</span> /all<br></code></pre></td></tr></table></figure><ol start="2"><li><p>重启电脑</p></li><li><p>下载<a href="https://aka.ms/wsl2kernel">内核更新包</a></p></li><li><p>安装内核更新包后重启</p></li><li><p>打开管理员终端，输入</p></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsl <span class="hljs-literal">--set-default-version</span> <span class="hljs-number">2</span><br>wsl <span class="hljs-literal">--update</span><br></code></pre></td></tr></table></figure><ol start="6"><li><p>从微软应用商店安装<a href="https://apps.microsoft.com/store/detail/kali-linux/9PKR34TNCV07">kali-linux</a></p></li><li><p>从开始菜单打开kali-linux，输入全小写英文字母用户名，设置好密码</p></li></ol><blockquote><p>若发生错误，请检查系统设置<code>保存新内容的地方</code>为C盘</p></blockquote><ol start="8"><li>进入系统后，输入</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> ~/.zsh_history<br>chsh -s /usr/bin/zsh<br></code></pre></td></tr></table></figure><p>之后关闭kali-linux，在Windows终端输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsl.exe <span class="hljs-literal">--shutdown</span><br></code></pre></td></tr></table></figure><p>之后再次打开kali-linux即可使用zsh</p><ol start="9"><li>修改root密码</li></ol><p>输入<code>sudo su</code>, 并输入刚刚设置的(管理员)密码, 进入<code>root</code>用户, 接着输入<code>passwd</code>修改<code>root</code>密码即可</p><ol start="10"><li>换源</li></ol><p><a href="https://mirrors.ustc.edu.cn/help/kali.html">参考链接</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">mv</span> /etc/apt/sources.list /etc/apt/sources.list.bak<br><span class="hljs-built_in">sudo</span> nano /etc/apt/sources.list<br></code></pre></td></tr></table></figure><p>编辑 <code>/etc/apt/sources.list</code> 文件， 在文件最前面添加以下条目：</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs 1c">deb https<span class="hljs-punctuation">:</span><span class="hljs-comment">//mirrors.ustc.edu.cn/kali kali-rolling main non-free non-free-firmware contrib</span><br>deb<span class="hljs-punctuation">-</span>src https<span class="hljs-punctuation">:</span><span class="hljs-comment">//mirrors.ustc.edu.cn/kali kali-rolling main non-free non-free-firmware contrib</span><br></code></pre></td></tr></table></figure><p>保存退出</p><ol start="11"><li>更新系统</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt upgrade -y<br></code></pre></td></tr></table></figure>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-90f6fc4a" role="button" aria-expanded="false" aria-controls="collapse-90f6fc4a">        <div class="fold-arrow">▶</div>注意      </div>      <div class="fold-collapse collapse" id="collapse-90f6fc4a">        <div class="fold-content">          <p>WSL上的kali-linux为最小安装版本，没有预安装<del>入狱</del>所需的工具，如有需要，请参考启动kali后的提示信息</p>        </div>      </div>    </div><h2 id="高级配置"><a href="#高级配置" class="headerlink" title="高级配置"></a>高级配置</h2>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-ca09ab28" role="button" aria-expanded="false" aria-controls="collapse-ca09ab28">        <div class="fold-arrow">▶</div>注意      </div>      <div class="fold-collapse collapse" id="collapse-ca09ab28">        <div class="fold-content">          <p>此配置可能仅适用于Windows11</p>        </div>      </div>    </div><p>打开Windows终端，导航到Windows家目录，新建<code>.wslconfig</code>文件，输入以下内容：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[wsl2]</span><br><span class="hljs-attr">networkingMode</span>=mirrored<br><span class="hljs-attr">autoProxy</span>=<span class="hljs-literal">true</span><br><span class="hljs-attr">dnsTunneling</span>=<span class="hljs-literal">true</span><br><br><span class="hljs-section">[experimental]</span><br><span class="hljs-attr">autoMemoryReclaim</span>=gradual<br><span class="hljs-attr">hostAddressLoopback</span>=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p><code>networkingMode=mirrored</code>为<code>镜像网络模式</code>，可以直接使用Windows本地代理<br><code>autoMemoryReclaim=gradual</code>意思是检测空闲CPU使用率后，自动缓慢释放缓存的内存</p><h2 id="运行GUI应用"><a href="#运行GUI应用" class="headerlink" title="运行GUI应用"></a>运行GUI应用</h2><p>Windows安装完显卡驱动程序后，此选项应该开箱即用。<br>可以先使用<code>wsl.exe --update</code>更新再启动<br>可以尝试安装以下软件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install x11-apps gedit mesa-utils -y<br><span class="hljs-comment"># sudo apt install nautilus -y </span><br></code></pre></td></tr></table></figure><p>出现错误可以参考<a href="https://github.com/microsoft/wslg/wiki/Diagnosing-%22cannot-open-display%22-type-issues-with-WSLg">微软文档</a></p><p>安装完成后，终端输入<code>xcalc</code>或<code>nautilus</code>回车即可开启这些GUI应用</p><h2 id="配置kali-linux-Win-KeX会话"><a href="#配置kali-linux-Win-KeX会话" class="headerlink" title="配置kali-linux Win-KeX会话"></a>配置kali-linux Win-KeX会话</h2>    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-4f015009" role="button" aria-expanded="false" aria-controls="collapse-4f015009">        <div class="fold-arrow">▶</div>官方介绍      </div>      <div class="fold-collapse collapse" id="collapse-4f015009">        <div class="fold-content">          <blockquote><p>Win-KeX provides a GUI desktop experience for kali Linux in Windows Subsystem for Linux (WSL 2) with the following features:</p><blockquote><ul><li>Window mode: start a kali Linux desktop in a dedicated window</li><li>Seamless mode: share the Windows desktop between Windows and kali application and menus</li><li>Enhanced session mode: Similar to Hyper-V, uses RDP for a more feature rich experience</li><li>Sound support</li><li>Shared clipboard for cut and paste support between kali Linux and Windows</li><li>Root &amp; unprivileged session support</li><li>Multi-session support: root window &amp; non-privileged window &amp; seamless sessions concurrently</li><li>Fully compatible with WSLg</li></ul></blockquote></blockquote>        </div>      </div>    </div><p>打开kali终端，输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt upgrade -y<br><span class="hljs-built_in">sudo</span> apt install kali-win-kex -y<br></code></pre></td></tr></table></figure><p>有三种模式运行窗口化界面：</p><ul><li>Window Mode<ul><li>Inside of kali WSL: <code>kex --win -s</code></li><li>On Window’s command prompt: <code>wsl -d kali-linux kex --win -s</code></li></ul></li><li>Enhanced Session Mode<ul><li>Inside of kali WSL: <code>kex --esm --ip -s</code></li><li>On Window’s command prompt: <code>wsl -d kali-linux kex --esm --ip -s</code></li></ul></li><li>Seamless Mode<ul><li>Inside of kali WSL: <code>kex --sl -s</code></li><li>On Window’s command prompt: <code>wsl -d kali-linux kex --sl -s</code></li></ul></li></ul><p>更多信息参阅开头参考链接</p><h2 id="配置中文环境"><a href="#配置中文环境" class="headerlink" title="配置中文环境"></a>配置中文环境</h2><p>输入下列命令安装字体</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install fontconfig fonts-noto-cjk fonts-wqy-microhei fonts-wqy-zenhei  -y<br><span class="hljs-built_in">sudo</span> apt install locales -y<br></code></pre></td></tr></table></figure><p>接着打开字符集配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> dpkg-reconfigure locales<br></code></pre></td></tr></table></figure><p>空格选中<code>es_US.UTF-8 UTF-8</code>以及<code>zh_CN.UTF-8 UTF-8</code></p><p>按下OK后选择默认字符集<code>zh_CN.UTF-8 UTF-8</code></p><p>保存退出，重启wsl</p><p>输入<code>sudo apt update</code>可以查看效果</p><p>接下来可以把man手册页换成中文：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install manpages-zh -y<br><span class="hljs-built_in">sudo</span> sed -i <span class="hljs-string">&#x27;s|/usr/share/man|/usr/share/man/zh_CN|g&#x27;</span> /etc/manpath.config<br></code></pre></td></tr></table></figure><p>输入<code>man printf</code>查看效果</p><h2 id="安装编译环境，配置VScode"><a href="#安装编译环境，配置VScode" class="headerlink" title="安装编译环境，配置VScode"></a>安装编译环境，配置VScode</h2><p>先安装以下软件包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install build-essential vim ddd gdb fpc emacs gedit lazarus unzip -y<br><span class="hljs-comment"># sudo apt install python3 openjdk-21-jdk rustup golang -y</span><br></code></pre></td></tr></table></figure><p>在Windows上安装<a href="https://code.visualstudio.com/">vscode</a></p><p>重启电脑使<code>Path</code>环境变量生效</p><p>安装必要的插件，比如中文，clangd，Java，python，GitHub Copilot，<strong>Remote Development</strong>等等，按需安装</p><p>在kali的终端输入<code>code .</code></p><p>打开vscode后，按需安装插件，主题等</p><p>更多信息参考<a href="https://oi-wiki.org/tools/editor/vscode/">OI-Wiki</a></p><h2 id="Docker开发"><a href="#Docker开发" class="headerlink" title="Docker开发"></a>Docker开发</h2><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-containers">WSL 2 上的 Docker 远程容器入门</a></p><h2 id="Latex写作"><a href="#Latex写作" class="headerlink" title="Latex写作"></a>Latex写作</h2><p>首先在kali的终端输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt update &amp;&amp; <span class="hljs-built_in">sudo</span> apt upgrade -y<br><span class="hljs-built_in">sudo</span> apt install texlive-full<br></code></pre></td></tr></table></figure><p>然后在vscode里安装<code>LaTeX Workshop</code>插件即可</p><h2 id="在WSL上配置深度学习框架"><a href="#在WSL上配置深度学习框架" class="headerlink" title="在WSL上配置深度学习框架"></a>在WSL上配置深度学习框架</h2><h3 id="安装CUDA"><a href="#安装CUDA" class="headerlink" title="安装CUDA"></a>安装CUDA</h3>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-db561458" role="button" aria-expanded="false" aria-controls="collapse-db561458">        <div class="fold-arrow">▶</div>警告      </div>      <div class="fold-collapse collapse" id="collapse-db561458">        <div class="fold-content">          <p>这一步不适用于AMDGPU以及嵌套虚拟化的WSL<br>不能在WSL上安装Linux上的显卡驱动程序<br>更多信息，请查看开头参考链接</p>        </div>      </div>    </div><ol><li>先删除旧GPG密钥</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-key del 7fa2af80<br></code></pre></td></tr></table></figure><ol start="2"><li><p>进入<a href="https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=WSL-Ubuntu&target_version=2.0&target_type=deb_network">网站</a>，检查以下配置是否正确<code>target_os=Linux</code> <code>target_arch=x86_64</code> <code>Distribution=WSL-Ubuntu</code> <code>target_version=2.0</code> <code>target_type=deb_network</code></p></li><li><p>根据提示输入</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-keyring_1.1-1_all.deb<br><span class="hljs-built_in">sudo</span> dpkg -i cuda-keyring_1.1-1_all.deb<br><span class="hljs-built_in">sudo</span> apt-get update<br><span class="hljs-built_in">sudo</span> apt-get -y install cuda-toolkit-12-6<br></code></pre></td></tr></table></figure><ol start="4"><li>安装完成后，终端输入<code>nvidia-smi</code>检查驱动程序和<code>cuda</code>版本</li></ol><h3 id="配置深度学习环境"><a href="#配置深度学习环境" class="headerlink" title="配置深度学习环境"></a>配置深度学习环境</h3><p>更多信息请参考开头所示链接</p><ol><li>安装miniconda</li></ol><p>直接在终端输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p ~/miniconda3<br>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O ~/miniconda3/miniconda.sh<br>bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3<br><span class="hljs-built_in">rm</span> -rf ~/miniconda3/miniconda.sh<br></code></pre></td></tr></table></figure><ol start="2"><li>初始化终端</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">~/miniconda3/bin/conda init bash<br>~/miniconda3/bin/conda init zsh<br><span class="hljs-comment"># ~/miniconda3/bin/conda init fish</span><br></code></pre></td></tr></table></figure><ol start="3"><li><p>关闭终端重新打开，会看到<code>base</code>字样，代表处于<code>base</code>环境</p></li><li><p>创建一个新环境</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda create --name d2l python=3.9 -y<br></code></pre></td></tr></table></figure><ol start="5"><li>激活新环境</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda activate d2l<br></code></pre></td></tr></table></figure><ol start="6"><li>安装PyTorch的CPU或GPU版本</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install torch==1.12.0<br>pip install torchvision==0.13.0<br></code></pre></td></tr></table></figure><ol start="7"><li>安装d2l包</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install d2l==0.17.6<br></code></pre></td></tr></table></figure><ol start="8"><li>下载 D2L Notebook</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> d2l-zh &amp;&amp; <span class="hljs-built_in">cd</span> d2l-zh<br>curl https://zh-v2.d2l.ai/d2l-zh-2.0.0.zip -o d2l-zh.zip<br>unzip d2l-zh.zip &amp;&amp; <span class="hljs-built_in">rm</span> d2l-zh.zip<br><span class="hljs-built_in">cd</span> pytorch<br></code></pre></td></tr></table></figure><ol start="9"><li><p>最后可以通过<code>jupyter notebook</code>运行Jupyter笔记本，（需要在pytorch文件夹下）浏览器打开<a href="http://localhost:8888/">http://localhost:8888</a>即可学习</p></li><li><p>在运行书籍代码、更新深度学习框架或d2l软件包之前，请始终执行<code>conda activate d2l</code>以激活运行时环境。 要退出环境，请运行<code>conda deactivate</code></p></li></ol><h2 id="迁移WSL"><a href="#迁移WSL" class="headerlink" title="迁移WSL"></a>迁移WSL</h2><p>打开Windows终端，输入下列命令：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsl <span class="hljs-literal">--shutdown</span><br>mkdir D:\wsl<br>mkdir D:\wsl\kali<br>wsl <span class="hljs-literal">--export</span> kali<span class="hljs-literal">-linux</span> D:\wsl\kali.tar  <span class="hljs-comment"># 导出kali</span><br>wsl <span class="hljs-literal">--unregister</span> kali<span class="hljs-literal">-linux</span>   <span class="hljs-comment"># 注销原来的发行版</span><br>wsl <span class="hljs-literal">--import</span> kali<span class="hljs-literal">-linux</span> D:\wsl\kali D:\wsl\kali.tar <span class="hljs-literal">--version</span> <span class="hljs-number">2</span>  <span class="hljs-comment"># 导入kali</span><br><span class="hljs-built_in">rm</span> D:\wsl\kali.tar  <span class="hljs-comment"># 删除tar文件</span><br>wsl <span class="hljs-literal">-d</span> kali<span class="hljs-literal">-linux</span>  <span class="hljs-comment"># 进入kali</span><br></code></pre></td></tr></table></figure><p>迁移后默认以<code>root</code>身份进入，接下来进入WSL编辑<code>/etc/wsl.conf</code>文件。假设<code>yoimiya</code>是之前的默认用户名：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[boot]</span><br><span class="hljs-attr">systemd</span>=<span class="hljs-literal">true</span><br><br><span class="hljs-section">[user]</span><br><span class="hljs-attr">default</span>=yoimiya<br></code></pre></td></tr></table></figure><blockquote><p>注意：上述配置可能仅适用于win11</p></blockquote><blockquote><p>开启systemd后，如果WSLg无法启动，请手动执行<code>sudo rm -r /tmp/.X11-unix &amp;&amp; ln -s /mnt/wslg/.X11-unix /tmp/.X11-unix</code>命令</p></blockquote><p>之后保存退出，重启kali即可</p>]]></content>
    
    
    <categories>
      
      <category>Linux Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>WSL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>三、win10安装系统组件以及基本软件</title>
    <link href="/2024/08/22/Windows-3/"/>
    <url>/2024/08/22/Windows-3/</url>
    
    <content type="html"><![CDATA[<h2 id="安装压缩软件"><a href="#安装压缩软件" class="headerlink" title="安装压缩软件"></a>安装压缩软件</h2><p>可选<a href="https://www.7-zip.org/download.html">7-zip</a></p><h2 id="使用DirectX-Repair修复dll和C-C-运行库"><a href="#使用DirectX-Repair修复dll和C-C-运行库" class="headerlink" title="使用DirectX Repair修复dll和C&#x2F;C++运行库"></a>使用DirectX Repair修复dll和C&#x2F;C++运行库</h2><p><a href="https://blog.csdn.net/vbcom/article/details/7245186">参考链接</a></p><p><a href="https://www.aichunjing.com/soft/2018-10-29/426.html">微软常用运行库</a></p><h2 id="安装-NET-Framework8-0"><a href="#安装-NET-Framework8-0" class="headerlink" title="安装 .NET Framework8.0"></a>安装 .NET Framework8.0</h2><p><a href="https://dotnet.microsoft.com/zh-cn/download/dotnet/8.0">官方网站</a></p><h2 id="安装Java和Python环境"><a href="#安装Java和Python环境" class="headerlink" title="安装Java和Python环境"></a>安装Java和Python环境</h2><p><a href="https://bell-sw.com/pages/downloads/#jdk-21-lts">Java21</a></p><p><a href="https://www.python.org/downloads/">Python3</a></p><h2 id="恢复系统应用商店"><a href="#恢复系统应用商店" class="headerlink" title="恢复系统应用商店"></a>恢复系统应用商店</h2><p>管理员终端输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">wsreset.exe <span class="hljs-literal">-i</span><br></code></pre></td></tr></table></figure><h2 id="安装Windows终端和新版记事本-截图工具等"><a href="#安装Windows终端和新版记事本-截图工具等" class="headerlink" title="安装Windows终端和新版记事本, 截图工具等"></a>安装Windows终端和新版记事本, 截图工具等</h2><p>直接在应用商店搜索安装即可</p><h2 id="使用Notepad3代替系统记事本"><a href="#使用Notepad3代替系统记事本" class="headerlink" title="使用Notepad3代替系统记事本"></a>使用Notepad3代替系统记事本</h2><p><a href="https://github.com/rizonesoft/Notepad3">官方网站</a></p><h2 id="安装搜索工具Everything"><a href="#安装搜索工具Everything" class="headerlink" title="安装搜索工具Everything"></a>安装搜索工具Everything</h2><p><a href="https://www.voidtools.com/zh-cn/downloads/">官方网站</a></p><h2 id="安装Dism-CCleaner清理垃圾"><a href="#安装Dism-CCleaner清理垃圾" class="headerlink" title="安装Dism++&#x2F;CCleaner清理垃圾"></a>安装Dism++&#x2F;CCleaner清理垃圾</h2><p><a href="https://github.com/Chuyu-Team/Dism-Multi-language/releases">Dism++</a></p><p><a href="https://www.ccleaner.com/zh-cn">CCleaner</a></p><h2 id="安装截图工具PixPin"><a href="#安装截图工具PixPin" class="headerlink" title="安装截图工具PixPin"></a>安装截图工具PixPin</h2><p><a href="https://pixpin.cn/">官方网站</a></p><h2 id="安装网速监控器"><a href="#安装网速监控器" class="headerlink" title="安装网速监控器"></a>安装网速监控器</h2><p><a href="https://github.com/zhongyang219/TrafficMonitor">可选</a></p><h2 id="安装Image-Glass看图工具"><a href="#安装Image-Glass看图工具" class="headerlink" title="安装Image Glass看图工具"></a>安装Image Glass看图工具</h2><p><a href="https://www.techspot.com/downloads/7540-imageglass.html">官方网站</a></p><h2 id="安装视频播放器"><a href="#安装视频播放器" class="headerlink" title="安装视频播放器"></a>安装视频播放器</h2><p><a href="https://potplayer.tv/">PotPlayer</a></p><p><a href="https://www.videolan.org/vlc/">VLC</a></p><h2 id="安装、配置Motrix下载器"><a href="#安装、配置Motrix下载器" class="headerlink" title="安装、配置Motrix下载器"></a>安装、配置Motrix下载器</h2><p><a href="https://motrix.app/">官方网站</a></p><p><a href="https://zhuanlan.zhihu.com/p/387408041">配置参考链接</a></p><h2 id="安装Edge浏览器拓展"><a href="#安装Edge浏览器拓展" class="headerlink" title="安装Edge浏览器拓展"></a>安装Edge浏览器拓展</h2><p><a href="https://microsoftedge.microsoft.com/addons/detail/adguard-%E5%B9%BF%E5%91%8A%E6%8B%A6%E6%88%AA%E5%99%A8/pdffkfellgipmhklpdmokmckkkfcopbh">AdGuard</a></p><h2 id="安装并激活Office"><a href="#安装并激活Office" class="headerlink" title="安装并激活Office"></a>安装并激活Office</h2><p><a href="https://otp.landian.vip/zh-cn/">OfficeToolPlus</a></p><h2 id="安装国产软件，务必注意禁止开机启动"><a href="#安装国产软件，务必注意禁止开机启动" class="headerlink" title="安装国产软件，务必注意禁止开机启动!"></a>安装国产软件，务必注意禁止<code>开机启动</code>!</h2><h2 id="安装Steam"><a href="#安装Steam" class="headerlink" title="安装Steam"></a>安装Steam</h2><p>打开PowerShell, 输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">winget.exe install Valve.Steam<br></code></pre></td></tr></table></figure>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-3c47b79d" role="button" aria-expanded="false" aria-controls="collapse-3c47b79d">        <div class="fold-arrow">▶</div>注意      </div>      <div class="fold-collapse collapse" id="collapse-3c47b79d">        <div class="fold-content">          <p>这条命令默认安装Steam客户端到C盘，请自行把游戏的存储位置改成其他盘，或者在命令上加上-l选项</p>        </div>      </div>    </div>]]></content>
    
    
    <categories>
      
      <category>Windows Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>necessities</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>二、win10系统优化设置</title>
    <link href="/2024/08/22/Windows-2/"/>
    <url>/2024/08/22/Windows-2/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-6aa5c45c" role="button" aria-expanded="false" aria-controls="collapse-6aa5c45c">        <div class="fold-arrow">▶</div>提示      </div>      <div class="fold-collapse collapse" id="collapse-6aa5c45c">        <div class="fold-content">          <p>本页面教程不局限于虚拟机，可在实体机上进行优化设置</p>        </div>      </div>    </div><h2 id="保持系统更新"><a href="#保持系统更新" class="headerlink" title="保持系统更新"></a>保持系统更新</h2><p>反复检查Windows更新，安装安全补丁和必要驱动程序。一般情况下，Windows更新可以安装大部分驱动程序。按需更新Edge浏览器</p><h2 id="安装额外的驱动程序"><a href="#安装额外的驱动程序" class="headerlink" title="安装额外的驱动程序"></a>安装额外的驱动程序</h2><ul><li>手动安装方式：进入硬件厂商网站寻找驱动程序手动下载安装</li><li>使用第三方软件安装：可选<a href="https://www.iobit.com/en/driver-booster.php">这个软件</a>安装额外的驱动程序。安装完成，重启后，按下<code>win+X</code>打开<code>设备管理器</code>，查看是否有黄色感叹号。一般情况下经过更新和软件安装驱动后基本可以补完驱动</li></ul><h2 id="安装火绒（可选）"><a href="#安装火绒（可选）" class="headerlink" title="安装火绒（可选）"></a>安装火绒（可选）</h2><p>目的是屏蔽Windows Defender，以及方便管理开机启动应用程序</p><h2 id="激活操作系统"><a href="#激活操作系统" class="headerlink" title="激活操作系统"></a>激活操作系统</h2><h2 id="禁用Smart-Screen"><a href="#禁用Smart-Screen" class="headerlink" title="禁用Smart Screen"></a>禁用Smart Screen</h2><p>从Windows安全中心处禁用</p><h2 id="添加英文输入法"><a href="#添加英文输入法" class="headerlink" title="添加英文输入法"></a>添加英文输入法</h2><p>从<code>语言和区域设置</code>处添加</p><h2 id="禁用远程修改注册表"><a href="#禁用远程修改注册表" class="headerlink" title="禁用远程修改注册表"></a>禁用远程修改注册表</h2><p><a href="https://www.xitongzhijia.net/xtjc/20210706/217372.html">参考链接</a></p><h2 id="启用-NET3-5以及SMB1"><a href="#启用-NET3-5以及SMB1" class="headerlink" title="启用.NET3.5以及SMB1"></a>启用.NET3.5以及SMB1</h2><p>从<code>程序和功能</code>处启用</p><h2 id="启用来宾账户（可选）"><a href="#启用来宾账户（可选）" class="headerlink" title="启用来宾账户（可选）"></a>启用来宾账户（可选）</h2><h2 id="禁用驱动程序强制签名"><a href="#禁用驱动程序强制签名" class="headerlink" title="禁用驱动程序强制签名"></a>禁用驱动程序强制签名</h2><p>打开管理员PowerShell，输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell">bcdedit.exe /<span class="hljs-built_in">set</span> nointegritychecks on<br></code></pre></td></tr></table></figure><h2 id="禁止设备自动播放"><a href="#禁止设备自动播放" class="headerlink" title="禁止设备自动播放"></a>禁止设备自动播放</h2><p>从<code>设置</code>的<code>设备</code>处禁用</p><h2 id="禁止各种隐私收集"><a href="#禁止各种隐私收集" class="headerlink" title="禁止各种隐私收集"></a>禁止各种隐私收集</h2><p>自行浏览<code>隐私设置</code></p><h2 id="禁止重启自动打开应用"><a href="#禁止重启自动打开应用" class="headerlink" title="禁止重启自动打开应用"></a>禁止重启自动打开应用</h2><p><code>账户</code>设置的<code>登录选项</code></p><h2 id="网络连接设置按流量计费、关闭传递优化"><a href="#网络连接设置按流量计费、关闭传递优化" class="headerlink" title="网络连接设置按流量计费、关闭传递优化"></a>网络连接设置按流量计费、关闭传递优化</h2><p>在windows更新的<code>高级选项</code>处</p><h2 id="关闭用户体验计划和错误报告"><a href="#关闭用户体验计划和错误报告" class="headerlink" title="关闭用户体验计划和错误报告"></a>关闭用户体验计划和错误报告</h2><p><a href="https://www.sysgeek.cn/disable-windows-11-telemetry/">参考链接</a></p><h2 id="禁用BitLocker"><a href="#禁用BitLocker" class="headerlink" title="禁用BitLocker"></a>禁用BitLocker</h2><h2 id="电源选项处关闭快速启动"><a href="#电源选项处关闭快速启动" class="headerlink" title="电源选项处关闭快速启动"></a>电源选项处关闭<code>快速启动</code></h2><h2 id="任务栏时钟精确到秒（可选）"><a href="#任务栏时钟精确到秒（可选）" class="headerlink" title="任务栏时钟精确到秒（可选）"></a>任务栏时钟精确到秒（可选）</h2><p>注册表导航到<code>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced</code><br>在此项下新建一个名为 <code>ShowSecondsInSystemClock</code> 的 <code>DWORD(32位)</code>值，并将其值设置为<code>1</code>即可</p><h2 id="显示桌面图标"><a href="#显示桌面图标" class="headerlink" title="显示桌面图标"></a>显示桌面图标</h2><p>个性化设置</p><h2 id="开启夜间模式"><a href="#开启夜间模式" class="headerlink" title="开启夜间模式"></a>开启夜间模式</h2><p>过滤蓝光</p><h2 id="提高壁纸质量"><a href="#提高壁纸质量" class="headerlink" title="提高壁纸质量"></a>提高壁纸质量</h2><p>导航到注册表路径<code>HKEY_CURRENT_USER\Control Panel\Desktop</code><br>新建一个名为 <code>JPEGImportQuality</code>的<code>DWORD(32位)</code>值，并将其值设置为<code>100</code>即可。<br>注册表调整完后重启系统即可生效。</p><h2 id="更改新内容的保存位置、转移用户资料到D-Users"><a href="#更改新内容的保存位置、转移用户资料到D-Users" class="headerlink" title="更改新内容的保存位置、转移用户资料到D:&#x2F;Users"></a>更改新内容的保存位置、转移用户资料到D:&#x2F;Users</h2><p>前者在设置处更改，后者在资源管理器处更改</p><h2 id="显示文件拓展名，打开资源管理器显示此电脑，分离资源管理器进程、关闭快速访问显示隐私选项"><a href="#显示文件拓展名，打开资源管理器显示此电脑，分离资源管理器进程、关闭快速访问显示隐私选项" class="headerlink" title="显示文件拓展名，打开资源管理器显示此电脑，分离资源管理器进程、关闭快速访问显示隐私选项"></a>显示文件拓展名，打开资源管理器显示此电脑，分离资源管理器进程、关闭快速访问显示隐私选项</h2><p>在<code>文件夹选项</code>处操作</p><h2 id="开启GPU硬件加速"><a href="#开启GPU硬件加速" class="headerlink" title="开启GPU硬件加速"></a>开启GPU硬件加速</h2><p>设置-&gt;系统-&gt;屏幕-&gt;显示卡-&gt;高级系统设置</p><h2 id="启用剪贴板历史记录"><a href="#启用剪贴板历史记录" class="headerlink" title="启用剪贴板历史记录"></a>启用剪贴板历史记录</h2><p>按一下<code>win+V</code></p><h2 id="添加右键获取管理员权限（可选）"><a href="#添加右键获取管理员权限（可选）" class="headerlink" title="添加右键获取管理员权限（可选）"></a>添加右键获取管理员权限（可选）</h2><h2 id="禁用粘滞键"><a href="#禁用粘滞键" class="headerlink" title="禁用粘滞键"></a>禁用粘滞键</h2><p>辅助功能-&gt;键盘-&gt;粘滞键</p><h2 id="显示确认删除对话框"><a href="#显示确认删除对话框" class="headerlink" title="显示确认删除对话框"></a>显示确认删除对话框</h2><p>右键<code>回收站</code>，选择<code>属性</code></p><h2 id="禁止开机磁盘检测-不推荐"><a href="#禁止开机磁盘检测-不推荐" class="headerlink" title="禁止开机磁盘检测(不推荐)"></a>禁止开机磁盘检测(不推荐)</h2><p>注册表导航到<code>\HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Control\Session Manager</code><br>找到<code>BootExecute</code>，把打开的键值内容删掉</p>]]></content>
    
    
    <categories>
      
      <category>Windows Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>win10</tag>
      
      <tag>tweaks</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>一、使用Hyper-V安装win10LTSC</title>
    <link href="/2024/08/22/Windows-1/"/>
    <url>/2024/08/22/Windows-1/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-74f2c573" role="button" aria-expanded="false" aria-controls="collapse-74f2c573">        <div class="fold-arrow">▶</div>参考链接      </div>      <div class="fold-collapse collapse" id="collapse-74f2c573">        <div class="fold-content">          <p><a href="https://learn.microsoft.com/zh-cn/virtualization/hyper-v-on-windows/">Windows 11 上的 Hyper-V</a><br><a href="https://learn.microsoft.com/zh-cn/windows-server/virtualization/hyper-v">Server上的Hyper-v</a></p>        </div>      </div>    </div>    <div class="fold">      <div class="fold-title fold-warning collapsed" data-toggle="collapse" href="#collapse-10f0ee70" role="button" aria-expanded="false" aria-controls="collapse-10f0ee70">        <div class="fold-arrow">▶</div>前提条件（来自官方文档）      </div>      <div class="fold-collapse collapse" id="collapse-10f0ee70">        <div class="fold-content">          <ul><li>Windows 10（专业版或企业版），或 Windows 11（专业版或企业版）</li><li>具有二级地址转换 (SLAT) 的 64 位处理器。</li><li>CPU 支持 VM 监视器模式扩展（Intel CPU 上的 VT-c）。</li><li>最少 4 GB 内存。</li></ul>        </div>      </div>    </div><h2 id="使用-PowerShell-启用-Hyper-V"><a href="#使用-PowerShell-启用-Hyper-V" class="headerlink" title="使用 PowerShell 启用 Hyper-V"></a>使用 PowerShell 启用 Hyper-V</h2><p>按下快捷键<code>win+X</code>选择<code>终端管理员</code>，输入</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs PowerShell"><span class="hljs-built_in">Enable-WindowsOptionalFeature</span> <span class="hljs-literal">-Online</span> <span class="hljs-literal">-FeatureName</span> Microsoft<span class="hljs-literal">-Hyper-V</span> <span class="hljs-literal">-All</span><br></code></pre></td></tr></table></figure><p>之后重启电脑</p><h2 id="获取win10LTSC镜像"><a href="#获取win10LTSC镜像" class="headerlink" title="获取win10LTSC镜像"></a>获取win10LTSC镜像</h2><p>从<a href="https://next.itellyou.cn/">此处</a>获取所需镜像</p><h2 id="使用-Hyper-V-管理器创建虚拟机"><a href="#使用-Hyper-V-管理器创建虚拟机" class="headerlink" title="使用 Hyper-V 管理器创建虚拟机"></a>使用 Hyper-V 管理器创建虚拟机</h2><ol><li>按下<code>win+S</code>输入<code>hyper</code>选择<code>Hyper-V管理器</code>，在右边<code>操作</code>处选择<code>新建</code>-&gt;<code>虚拟机</code></li><li>自定义虚拟机名称，并将虚拟机储存在D盘</li><li>选择虚拟机的代数为<code>第二代</code></li><li>启动内存可选择4096MB，并勾选<code>使用动态内存</code></li><li>配置网络选择<code>Default Switch</code></li><li>虚拟硬盘界面默认即可</li><li>安装选项选择上面获取到LTSC镜像</li><li>完成虚拟机创建</li></ol><h2 id="设置虚拟机"><a href="#设置虚拟机" class="headerlink" title="设置虚拟机"></a>设置虚拟机</h2><ol><li>右键打开虚拟机的设置界面，可大致浏览一下内存和CPU设置</li><li><code>集成服务</code>处选择所有服务</li><li>检查点相当于快照，可以选择关闭<code>自动检查点</code></li><li><code>自动启动操作</code>选择<code>无</code></li><li><code>自动停止操作</code>选择<code>强制关闭虚拟机</code></li><li><code>确定</code>保存设置</li></ol><h2 id="完成操作系统部署"><a href="#完成操作系统部署" class="headerlink" title="完成操作系统部署"></a>完成操作系统部署</h2><ol><li>开启虚拟机，完成操作系统部署</li><li>微软账号处选择<code>改为域加入</code>，使用<strong>英文</strong>名创建本地帐号</li><li><code>隐私设置</code>全部关闭</li><li>安装完成后会有连接到<code>增强会话</code>的提示，使用本地帐号的用户名即可登入</li></ol>]]></content>
    
    
    <categories>
      
      <category>Windows Development Environment</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hyper-V</tag>
      
      <tag>win10</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Test Website</title>
    <link href="/2024/08/18/hello-world/"/>
    <url>/2024/08/18/hello-world/</url>
    
    <content type="html"><![CDATA[    <div class="fold">      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-9a96a278" role="button" aria-expanded="false" aria-controls="collapse-9a96a278">        <div class="fold-arrow">▶</div>Welcome      </div>      <div class="fold-collapse collapse" id="collapse-9a96a278">        <div class="fold-content">          <p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>        </div>      </div>    </div><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>Test</category>
      
    </categories>
    
    
    <tags>
      
      <tag>TMP</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
